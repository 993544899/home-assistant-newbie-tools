(window.webpackJsonp=window.webpackJsonp||[]).push([[132],{775:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _polymer_paper_dialog_scrollable_paper_dialog_scrollable__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(192),_polymer_paper_dialog_paper_dialog__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(185),_polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(20),_resources_ha_style__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(101),_mixins_events_mixin__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(81);class ZwaveLogDialog extends Object(_mixins_events_mixin__WEBPACK_IMPORTED_MODULE_5__.a)(_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_3__.a){static get template(){return _polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_2__.a`
    <style include="ha-style-dialog">
    </style>
      <paper-dialog id="pwaDialog" with-backdrop="" opened="{{_opened}}">
        <h2>OpenZwave internal logfile</h2>
        <paper-dialog-scrollable>
          <pre>[[_ozwLog]]</pre>
        <paper-dialog-scrollable>
      </paper-dialog>
      `}static get properties(){return{hass:Object,_ozwLog:String,_dialogClosedCallback:Function,_opened:{type:Boolean,value:!1},_intervalId:String,_numLogLines:{type:Number}}}ready(){super.ready();this.addEventListener("iron-overlay-closed",ev=>this._dialogClosed(ev))}showDialog({_ozwLog,hass,_tail,_numLogLines,dialogClosedCallback}){this.hass=hass;this._ozwLog=_ozwLog;this._opened=!0;this._dialogClosedCallback=dialogClosedCallback;this._numLogLines=_numLogLines;setTimeout(()=>this.$.pwaDialog.center(),0);if(_tail){this.setProperties({_intervalId:setInterval(()=>{this._refreshLog()},1500)})}}async _refreshLog(){const info=await this.hass.callApi("GET","zwave/ozwlog?lines="+this._numLogLines);this.setProperties({_ozwLog:info})}_dialogClosed(ev){if("ZWAVE-LOG-DIALOG"===ev.target.nodeName){clearInterval(this._intervalId);this._opened=!1;const closedEvent=!0;this._dialogClosedCallback({closedEvent});this._dialogClosedCallback=null}}}customElements.define("zwave-log-dialog",ZwaveLogDialog)}}]);
//# sourceMappingURL=2014e1dea49e739e534d.chunk.js.map