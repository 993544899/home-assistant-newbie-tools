{"version":3,"file":"e8630502d7e3aeade20e.chunk.js","sources":["webpack:///e8630502d7e3aeade20e.chunk.js"],"sourcesContent":["(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{112:function(module,__webpack_exports__,__webpack_require__){\"use strict\";var polymer_legacy=__webpack_require__(2),iron_form_element_behavior=__webpack_require__(53),iron_validatable_behavior=__webpack_require__(54),IronCheckedElementBehaviorImpl={properties:{checked:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0,observer:\"_checkedChanged\"},toggles:{type:Boolean,value:!0,reflectToAttribute:!0},value:{type:String,value:\"on\",observer:\"_valueChanged\"}},observers:[\"_requiredChanged(required)\"],created:function created(){this._hasIronCheckedElementBehavior=!0},_getValidity:function _getValidity(_value){return this.disabled||!this.required||this.checked},_requiredChanged:function _requiredChanged(){if(this.required){this.setAttribute(\"aria-required\",\"true\")}else{this.removeAttribute(\"aria-required\")}},_checkedChanged:function _checkedChanged(){this.active=this.checked;this.fire(\"iron-change\")},_valueChanged:function _valueChanged(){if(this.value===void 0||null===this.value){this.value=\"on\"}}},IronCheckedElementBehavior=[iron_form_element_behavior.a,iron_validatable_behavior.a,IronCheckedElementBehaviorImpl],paper_inky_focus_behavior=__webpack_require__(52),paper_ripple_behavior=__webpack_require__(61);/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/__webpack_require__.d(__webpack_exports__,\"a\",function(){return PaperCheckedElementBehavior});/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/var PaperCheckedElementBehaviorImpl={_checkedChanged:function _checkedChanged(){IronCheckedElementBehaviorImpl._checkedChanged.call(this);if(this.hasRipple()){if(this.checked){this._ripple.setAttribute(\"checked\",\"\")}else{this._ripple.removeAttribute(\"checked\")}}},_buttonStateChanged:function _buttonStateChanged(){paper_ripple_behavior.a._buttonStateChanged.call(this);if(this.disabled){return}if(this.isAttached){this.checked=this.active}}},PaperCheckedElementBehavior=[paper_inky_focus_behavior.a,IronCheckedElementBehavior,PaperCheckedElementBehaviorImpl]},144:function(module,__webpack_exports__,__webpack_require__){\"use strict\";var _polymer_paper_slider_paper_slider__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(142);function _typeof(obj){if(\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&\"function\"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\")}}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if(\"value\"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(\"object\"===_typeof(call)||\"function\"===typeof call)){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(\"function\"!==typeof superClass&&null!==superClass){throw new TypeError(\"Super expression must either be null or a function\")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var PaperSliderClass=customElements.get(\"paper-slider\"),HaPaperSlider=function(_PaperSliderClass){_inherits(HaPaperSlider,_PaperSliderClass);function HaPaperSlider(){_classCallCheck(this,HaPaperSlider);return _possibleConstructorReturn(this,_getPrototypeOf(HaPaperSlider).apply(this,arguments))}_createClass(HaPaperSlider,null,[{key:\"template\",get:function get(){var tpl=document.createElement(\"template\");tpl.innerHTML=PaperSliderClass.template.innerHTML;var styleEl=document.createElement(\"style\");styleEl.innerHTML=\"\\n      .pin > .slider-knob > .slider-knob-inner {\\n        font-size:  var(--ha-paper-slider-pin-font-size, 10px);\\n        line-height: normal;\\n      }\\n\\n      .pin > .slider-knob > .slider-knob-inner::before {\\n        top: unset;\\n        margin-left: unset;\\n\\n        bottom: calc(15px + var(--calculated-paper-slider-height)/2);\\n        left: 50%;\\n        width: 2.2em;\\n        height: 2.2em;\\n\\n        -webkit-transform-origin: left bottom;\\n        transform-origin: left bottom;\\n        -webkit-transform: rotate(-45deg) scale(0) translate(0);\\n        transform: rotate(-45deg) scale(0) translate(0);\\n      }\\n\\n      .pin.expand > .slider-knob > .slider-knob-inner::before {\\n        -webkit-transform: rotate(-45deg) scale(1) translate(7px, -7px);\\n        transform: rotate(-45deg) scale(1) translate(7px, -7px);\\n      }\\n\\n      .pin > .slider-knob > .slider-knob-inner::after {\\n        top: unset;\\n        font-size: unset;\\n\\n        bottom: calc(15px + var(--calculated-paper-slider-height)/2);\\n        left: 50%;\\n        margin-left: -1.1em;\\n        width: 2.2em;\\n        height: 2.1em;\\n\\n        -webkit-transform-origin: center bottom;\\n        transform-origin: center bottom;\\n        -webkit-transform: scale(0) translate(0);\\n        transform: scale(0) translate(0);\\n      }\\n\\n      .pin.expand > .slider-knob > .slider-knob-inner::after {\\n        -webkit-transform: scale(1) translate(0, -10px);\\n        transform: scale(1) translate(0, -10px);\\n      }\\n    \";tpl.content.appendChild(styleEl);return tpl}}]);return HaPaperSlider}(PaperSliderClass);customElements.define(\"ha-paper-slider\",HaPaperSlider)},146:function(module,__webpack_exports__,__webpack_require__){\"use strict\";var _polymer_paper_checkbox_paper_checkbox__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(138),_polymer_paper_dropdown_menu_paper_dropdown_menu__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(130),_polymer_paper_icon_button_paper_icon_button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(96),_polymer_paper_input_paper_input__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(80),_polymer_paper_item_paper_item__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(127),_polymer_paper_listbox_paper_listbox__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(129),_polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(20),_ha_paper_slider__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(144),_mixins_events_mixin__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(81);function _typeof(obj){if(\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&\"function\"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj}}return _typeof(obj)}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n      <style>\\n        .error {\\n          color: red;\\n        }\\n        paper-checkbox {\\n          display: inline-block;\\n          padding: 22px 0;\\n        }\\n      </style>\\n      <template is=\\\"dom-if\\\" if=\\\"[[_isArray(schema)]]\\\" restamp=\\\"\\\">\\n        <template is=\\\"dom-if\\\" if=\\\"[[error.base]]\\\">\\n          <div class=\\\"error\\\">[[computeError(error.base, schema)]]</div>\\n        </template>\\n\\n        <template is=\\\"dom-repeat\\\" items=\\\"[[schema]]\\\">\\n          <ha-form\\n            data=\\\"[[_getValue(data, item)]]\\\"\\n            schema=\\\"[[item]]\\\"\\n            error=\\\"[[_getValue(error, item)]]\\\"\\n            on-data-changed=\\\"_valueChanged\\\"\\n            compute-label=\\\"[[computeLabel]]\\\"\\n            compute-error=\\\"[[computeError]]\\\"\\n          ></ha-form>\\n        </template>\\n      </template>\\n      <template is=\\\"dom-if\\\" if=\\\"[[!_isArray(schema)]]\\\" restamp=\\\"\\\">\\n        <template is=\\\"dom-if\\\" if=\\\"[[error]]\\\">\\n          <div class=\\\"error\\\">[[computeError(error, schema)]]</div>\\n        </template>\\n\\n        <template\\n          is=\\\"dom-if\\\"\\n          if='[[_equals(schema.type, \\\"string\\\")]]'\\n          restamp=\\\"\\\"\\n        >\\n          <template\\n            is=\\\"dom-if\\\"\\n            if='[[_includes(schema.name, \\\"password\\\")]]'\\n            restamp=\\\"\\\"\\n          >\\n            <paper-input\\n              type=\\\"[[_passwordFieldType(unmaskedPassword)]]\\\"\\n              label=\\\"[[computeLabel(schema)]]\\\"\\n              value=\\\"{{data}}\\\"\\n              required=\\\"[[schema.required]]\\\"\\n              auto-validate=\\\"[[schema.required]]\\\"\\n              error-message=\\\"Required\\\"\\n            >\\n              <paper-icon-button\\n                toggles\\n                active=\\\"{{unmaskedPassword}}\\\"\\n                slot=\\\"suffix\\\"\\n                icon=\\\"[[_passwordFieldIcon(unmaskedPassword)]]\\\"\\n                id=\\\"iconButton\\\"\\n                title=\\\"Click to toggle between masked and clear password\\\"\\n              >\\n              </paper-icon-button>\\n            </paper-input>\\n          </template>\\n          <template\\n            is=\\\"dom-if\\\"\\n            if='[[!_includes(schema.name, \\\"password\\\")]]'\\n            restamp=\\\"\\\"\\n          >\\n            <paper-input\\n              label=\\\"[[computeLabel(schema)]]\\\"\\n              value=\\\"{{data}}\\\"\\n              required=\\\"[[schema.required]]\\\"\\n              auto-validate=\\\"[[schema.required]]\\\"\\n              error-message=\\\"Required\\\"\\n            ></paper-input>\\n          </template>\\n        </template>\\n\\n        <template\\n          is=\\\"dom-if\\\"\\n          if='[[_equals(schema.type, \\\"integer\\\")]]'\\n          restamp=\\\"\\\"\\n        >\\n          <template is=\\\"dom-if\\\" if=\\\"[[_isRange(schema)]]\\\" restamp=\\\"\\\">\\n            <div>\\n              [[computeLabel(schema)]]\\n              <ha-paper-slider\\n                pin=\\\"\\\"\\n                value=\\\"{{data}}\\\"\\n                min=\\\"[[schema.valueMin]]\\\"\\n                max=\\\"[[schema.valueMax]]\\\"\\n              ></ha-paper-slider>\\n            </div>\\n          </template>\\n          <template is=\\\"dom-if\\\" if=\\\"[[!_isRange(schema)]]\\\" restamp=\\\"\\\">\\n            <paper-input\\n              label=\\\"[[computeLabel(schema)]]\\\"\\n              value=\\\"{{data}}\\\"\\n              type=\\\"number\\\"\\n              required=\\\"[[schema.required]]\\\"\\n              auto-validate=\\\"[[schema.required]]\\\"\\n              error-message=\\\"Required\\\"\\n            ></paper-input>\\n          </template>\\n        </template>\\n\\n        <template is=\\\"dom-if\\\" if='[[_equals(schema.type, \\\"float\\\")]]' restamp=\\\"\\\">\\n          <!-- TODO -->\\n          <paper-input\\n            label=\\\"[[computeLabel(schema)]]\\\"\\n            value=\\\"{{data}}\\\"\\n            required=\\\"[[schema.required]]\\\"\\n            auto-validate=\\\"[[schema.required]]\\\"\\n            error-message=\\\"Required\\\"\\n          ></paper-input>\\n        </template>\\n\\n        <template\\n          is=\\\"dom-if\\\"\\n          if='[[_equals(schema.type, \\\"boolean\\\")]]'\\n          restamp=\\\"\\\"\\n        >\\n          <div>\\n            <paper-checkbox checked=\\\"{{data}}\\\"\\n              >[[computeLabel(schema)]]</paper-checkbox\\n            >\\n          </div>\\n        </template>\\n\\n        <template\\n          is=\\\"dom-if\\\"\\n          if='[[_equals(schema.type, \\\"select\\\")]]'\\n          restamp=\\\"\\\"\\n        >\\n          <paper-dropdown-menu label=\\\"[[computeLabel(schema)]]\\\">\\n            <paper-listbox\\n              slot=\\\"dropdown-content\\\"\\n              attr-for-selected=\\\"item-name\\\"\\n              selected=\\\"{{data}}\\\"\\n            >\\n              <template is=\\\"dom-repeat\\\" items=\\\"[[schema.options]]\\\">\\n                <paper-item item-name$=\\\"[[_optionValue(item)]]\\\"\\n                  >[[_optionLabel(item)]]</paper-item\\n                >\\n              </template>\\n            </paper-listbox>\\n          </paper-dropdown-menu>\\n        </template>\\n      </template>\\n    \"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\")}}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if(\"value\"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(\"object\"===_typeof(call)||\"function\"===typeof call)){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(\"function\"!==typeof superClass&&null!==superClass){throw new TypeError(\"Super expression must either be null or a function\")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var HaForm=function(_EventsMixin){_inherits(HaForm,_EventsMixin);function HaForm(){_classCallCheck(this,HaForm);return _possibleConstructorReturn(this,_getPrototypeOf(HaForm).apply(this,arguments))}_createClass(HaForm,[{key:\"_isArray\",value:function _isArray(val){return Array.isArray(val)}},{key:\"_isRange\",value:function _isRange(schema){return\"valueMin\"in schema&&\"valueMax\"in schema}},{key:\"_equals\",value:function _equals(a,b){return a===b}},{key:\"_includes\",value:function _includes(a,b){return 0<=a.indexOf(b)}},{key:\"_getValue\",value:function _getValue(obj,item){if(obj){return obj[item.name]}return null}},{key:\"_valueChanged\",value:function _valueChanged(ev){var value=ev.detail.value;if(\"integer\"===ev.model.item.type){value=+ev.detail.value}this.set([\"data\",ev.model.item.name],value)}},{key:\"_passwordFieldType\",value:function _passwordFieldType(unmaskedPassword){return unmaskedPassword?\"text\":\"password\"}},{key:\"_passwordFieldIcon\",value:function _passwordFieldIcon(unmaskedPassword){return unmaskedPassword?\"hass:eye-off\":\"hass:eye\"}},{key:\"_optionValue\",value:function _optionValue(item){return Array.isArray(item)?item[0]:item}},{key:\"_optionLabel\",value:function _optionLabel(item){return Array.isArray(item)?item[1]:item}}],[{key:\"template\",get:function get(){return Object(_polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_6__.a)(_templateObject())}},{key:\"properties\",get:function get(){return{data:{type:Object,notify:!0},schema:Object,error:Object,computeLabel:{type:Function,value:function value(){return function(schema){return schema&&schema.name}}},computeError:{type:Function,value:function value(){return function(error,schema){return error}}}}}}]);return HaForm}(Object(_mixins_events_mixin__WEBPACK_IMPORTED_MODULE_9__.a)(_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_7__.a));customElements.define(\"ha-form\",HaForm)},171:function(module,__webpack_exports__,__webpack_require__){\"use strict\";var _polymer_polymer_polymer_legacy_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_polymer_paper_styles_color_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(60),_polymer_paper_styles_color_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_polymer_paper_styles_color_js__WEBPACK_IMPORTED_MODULE_1__),_paper_spinner_styles_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(137),_paper_spinner_styles_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_paper_spinner_styles_js__WEBPACK_IMPORTED_MODULE_2__),_polymer_polymer_lib_legacy_polymer_fn_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4),_polymer_polymer_lib_utils_html_tag_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3),_paper_spinner_behavior_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(114);function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  <style include=\\\"paper-spinner-styles\\\"></style>\\n\\n  <div id=\\\"spinnerContainer\\\" class-name=\\\"[[__computeContainerClasses(active, __coolingDown)]]\\\" on-animationend=\\\"__reset\\\" on-webkit-animation-end=\\\"__reset\\\">\\n    <div class=\\\"spinner-layer layer-1\\\">\\n      <div class=\\\"circle-clipper left\\\"></div>\\n      <div class=\\\"circle-clipper right\\\"></div>\\n    </div>\\n\\n    <div class=\\\"spinner-layer layer-2\\\">\\n      <div class=\\\"circle-clipper left\\\"></div>\\n      <div class=\\\"circle-clipper right\\\"></div>\\n    </div>\\n\\n    <div class=\\\"spinner-layer layer-3\\\">\\n      <div class=\\\"circle-clipper left\\\"></div>\\n      <div class=\\\"circle-clipper right\\\"></div>\\n    </div>\\n\\n    <div class=\\\"spinner-layer layer-4\\\">\\n      <div class=\\\"circle-clipper left\\\"></div>\\n      <div class=\\\"circle-clipper right\\\"></div>\\n    </div>\\n  </div>\\n\"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/var template=Object(_polymer_polymer_lib_utils_html_tag_js__WEBPACK_IMPORTED_MODULE_4__.a)(_templateObject());template.setAttribute(\"strip-whitespace\",\"\");Object(_polymer_polymer_lib_legacy_polymer_fn_js__WEBPACK_IMPORTED_MODULE_3__.a)({_template:template,is:\"paper-spinner\",behaviors:[_paper_spinner_behavior_js__WEBPACK_IMPORTED_MODULE_5__.a]})},172:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"b\",function(){return PaperDialogBehaviorImpl});__webpack_require__.d(__webpack_exports__,\"a\",function(){return PaperDialogBehavior});var _polymer_polymer_polymer_legacy_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_polymer_iron_overlay_behavior_iron_overlay_behavior_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(74),_polymer_polymer_lib_legacy_polymer_dom_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),PaperDialogBehaviorImpl={hostAttributes:{role:\"dialog\",tabindex:\"-1\"},properties:{modal:{type:Boolean,value:!1},__readied:{type:Boolean,value:!1}},observers:[\"_modalChanged(modal, __readied)\"],listeners:{tap:\"_onDialogClick\"},ready:function ready(){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick;this.__prevNoCancelOnEscKey=this.noCancelOnEscKey;this.__prevWithBackdrop=this.withBackdrop;this.__readied=!0},_modalChanged:function _modalChanged(modal,readied){if(!readied){return}if(modal){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick;this.__prevNoCancelOnEscKey=this.noCancelOnEscKey;this.__prevWithBackdrop=this.withBackdrop;this.noCancelOnOutsideClick=!0;this.noCancelOnEscKey=!0;this.withBackdrop=!0}else{this.noCancelOnOutsideClick=this.noCancelOnOutsideClick&&this.__prevNoCancelOnOutsideClick;this.noCancelOnEscKey=this.noCancelOnEscKey&&this.__prevNoCancelOnEscKey;this.withBackdrop=this.withBackdrop&&this.__prevWithBackdrop}},_updateClosingReasonConfirmed:function _updateClosingReasonConfirmed(confirmed){this.closingReason=this.closingReason||{};this.closingReason.confirmed=confirmed},_onDialogClick:function _onDialogClick(event){for(var path=Object(_polymer_polymer_lib_legacy_polymer_dom_js__WEBPACK_IMPORTED_MODULE_2__.b)(event).path,i=0,l=path.indexOf(this),target;i<l;i++){target=path[i];if(target.hasAttribute&&(target.hasAttribute(\"dialog-dismiss\")||target.hasAttribute(\"dialog-confirm\"))){this._updateClosingReasonConfirmed(target.hasAttribute(\"dialog-confirm\"));this.close();event.stopPropagation();break}}}},PaperDialogBehavior=[_polymer_iron_overlay_behavior_iron_overlay_behavior_js__WEBPACK_IMPORTED_MODULE_1__.a,PaperDialogBehaviorImpl];/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/},182:function(module,__webpack_exports__,__webpack_require__){\"use strict\";var _polymer_polymer_polymer_legacy_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_polymer_iron_flex_layout_iron_flex_layout_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(40),_polymer_paper_styles_default_theme_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(41),_polymer_paper_styles_typography_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(51),_polymer_paper_styles_shadow_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(98),$_documentContainer=document.createElement(\"template\");/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/$_documentContainer.setAttribute(\"style\",\"display: none;\");$_documentContainer.innerHTML=\"<dom-module id=\\\"paper-dialog-shared-styles\\\">\\n  <template>\\n    <style>\\n      :host {\\n        display: block;\\n        margin: 24px 40px;\\n\\n        background: var(--paper-dialog-background-color, var(--primary-background-color));\\n        color: var(--paper-dialog-color, var(--primary-text-color));\\n\\n        @apply --paper-font-body1;\\n        @apply --shadow-elevation-16dp;\\n        @apply --paper-dialog;\\n      }\\n\\n      :host > ::slotted(*) {\\n        margin-top: 20px;\\n        padding: 0 24px;\\n      }\\n\\n      :host > ::slotted(.no-padding) {\\n        padding: 0;\\n      }\\n\\n      \\n      :host > ::slotted(*:first-child) {\\n        margin-top: 24px;\\n      }\\n\\n      :host > ::slotted(*:last-child) {\\n        margin-bottom: 24px;\\n      }\\n\\n      /* In 1.x, this selector was `:host > ::content h2`. In 2.x <slot> allows\\n      to select direct children only, which increases the weight of this\\n      selector, so we have to re-define first-child/last-child margins below. */\\n      :host > ::slotted(h2) {\\n        position: relative;\\n        margin: 0;\\n\\n        @apply --paper-font-title;\\n        @apply --paper-dialog-title;\\n      }\\n\\n      /* Apply mixin again, in case it sets margin-top. */\\n      :host > ::slotted(h2:first-child) {\\n        margin-top: 24px;\\n        @apply --paper-dialog-title;\\n      }\\n\\n      /* Apply mixin again, in case it sets margin-bottom. */\\n      :host > ::slotted(h2:last-child) {\\n        margin-bottom: 24px;\\n        @apply --paper-dialog-title;\\n      }\\n\\n      :host > ::slotted(.paper-dialog-buttons),\\n      :host > ::slotted(.buttons) {\\n        position: relative;\\n        padding: 8px 8px 8px 24px;\\n        margin: 0;\\n\\n        color: var(--paper-dialog-button-color, var(--primary-color));\\n\\n        @apply --layout-horizontal;\\n        @apply --layout-end-justified;\\n      }\\n    </style>\\n  </template>\\n</dom-module>\";document.head.appendChild($_documentContainer.content)},184:function(module,__webpack_exports__,__webpack_require__){\"use strict\";var _polymer_polymer_polymer_legacy_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_polymer_paper_dialog_behavior_paper_dialog_shared_styles_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(182),_polymer_neon_animation_neon_animation_runner_behavior_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(110),_polymer_paper_dialog_behavior_paper_dialog_behavior_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(172),_polymer_polymer_lib_legacy_polymer_fn_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_polymer_polymer_lib_utils_html_tag_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3);function _templateObject(){var data=_taggedTemplateLiteral([\"\\n    <style include=\\\"paper-dialog-shared-styles\\\"></style>\\n    <slot></slot>\\n\"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/Object(_polymer_polymer_lib_legacy_polymer_fn_js__WEBPACK_IMPORTED_MODULE_4__.a)({_template:Object(_polymer_polymer_lib_utils_html_tag_js__WEBPACK_IMPORTED_MODULE_5__.a)(_templateObject()),is:\"paper-dialog\",behaviors:[_polymer_paper_dialog_behavior_paper_dialog_behavior_js__WEBPACK_IMPORTED_MODULE_3__.a,_polymer_neon_animation_neon_animation_runner_behavior_js__WEBPACK_IMPORTED_MODULE_2__.a],listeners:{\"neon-animation-finish\":\"_onNeonAnimationFinish\"},_renderOpened:function _renderOpened(){this.cancelAnimation();this.playAnimation(\"entry\")},_renderClosed:function _renderClosed(){this.cancelAnimation();this.playAnimation(\"exit\")},_onNeonAnimationFinish:function _onNeonAnimationFinish(){if(this.opened){this._finishRenderOpened()}else{this._finishRenderClosed()}}})},189:function(module,__webpack_exports__,__webpack_require__){\"use strict\";var _polymer_polymer_polymer_legacy_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_polymer_iron_flex_layout_iron_flex_layout_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(40),_polymer_paper_styles_default_theme_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(41),_polymer_paper_dialog_behavior_paper_dialog_behavior_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(172),_polymer_polymer_lib_legacy_polymer_fn_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_polymer_polymer_lib_utils_html_tag_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3);function _templateObject(){var data=_taggedTemplateLiteral([\"\\n    <style>\\n\\n      :host {\\n        display: block;\\n        @apply --layout-relative;\\n      }\\n\\n      :host(.is-scrolled:not(:first-child))::before {\\n        content: '';\\n        position: absolute;\\n        top: 0;\\n        left: 0;\\n        right: 0;\\n        height: 1px;\\n        background: var(--divider-color);\\n      }\\n\\n      :host(.can-scroll:not(.scrolled-to-bottom):not(:last-child))::after {\\n        content: '';\\n        position: absolute;\\n        bottom: 0;\\n        left: 0;\\n        right: 0;\\n        height: 1px;\\n        background: var(--divider-color);\\n      }\\n\\n      .scrollable {\\n        padding: 0 24px;\\n\\n        @apply --layout-scroll;\\n        @apply --paper-dialog-scrollable;\\n      }\\n\\n      .fit {\\n        @apply --layout-fit;\\n      }\\n    </style>\\n\\n    <div id=\\\"scrollable\\\" class=\\\"scrollable\\\" on-scroll=\\\"updateScrollState\\\">\\n      <slot></slot>\\n    </div>\\n\"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/Object(_polymer_polymer_lib_legacy_polymer_fn_js__WEBPACK_IMPORTED_MODULE_4__.a)({_template:Object(_polymer_polymer_lib_utils_html_tag_js__WEBPACK_IMPORTED_MODULE_5__.a)(_templateObject()),is:\"paper-dialog-scrollable\",properties:{dialogElement:{type:Object}},get scrollTarget(){return this.$.scrollable},ready:function ready(){this._ensureTarget();this.classList.add(\"no-padding\")},attached:function attached(){this._ensureTarget();requestAnimationFrame(this.updateScrollState.bind(this))},updateScrollState:function updateScrollState(){this.toggleClass(\"is-scrolled\",0<this.scrollTarget.scrollTop);this.toggleClass(\"can-scroll\",this.scrollTarget.offsetHeight<this.scrollTarget.scrollHeight);this.toggleClass(\"scrolled-to-bottom\",this.scrollTarget.scrollTop+this.scrollTarget.offsetHeight>=this.scrollTarget.scrollHeight)},_ensureTarget:function _ensureTarget(){this.dialogElement=this.dialogElement||this.parentElement;if(this.dialogElement&&this.dialogElement.behaviors&&0<=this.dialogElement.behaviors.indexOf(_polymer_paper_dialog_behavior_paper_dialog_behavior_js__WEBPACK_IMPORTED_MODULE_3__.b)){this.dialogElement.sizingTarget=this.scrollTarget;this.scrollTarget.classList.remove(\"fit\")}else if(this.dialogElement){this.scrollTarget.classList.add(\"fit\")}}})},225:function(module,__webpack_exports__,__webpack_require__){\"use strict\";var _polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(20),_mixins_events_mixin__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(81);function _typeof(obj){if(\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&\"function\"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\")}}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if(\"value\"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(\"object\"===_typeof(call)||\"function\"===typeof call)){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}return self}function _get(target,property,receiver){if(\"undefined\"!==typeof Reflect&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(null===object)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(\"function\"!==typeof superClass&&null!==superClass){throw new TypeError(\"Super expression must either be null or a function\")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var loaded=null,svgWhiteList=[\"svg\",\"path\"],HaMarkdown=function(_EventsMixin){_inherits(HaMarkdown,_EventsMixin);function HaMarkdown(){_classCallCheck(this,HaMarkdown);return _possibleConstructorReturn(this,_getPrototypeOf(HaMarkdown).apply(this,arguments))}_createClass(HaMarkdown,[{key:\"connectedCallback\",value:function connectedCallback(){var _this=this;_get(_getPrototypeOf(HaMarkdown.prototype),\"connectedCallback\",this).call(this);this._scriptLoaded=0;this._renderScheduled=!1;this._resize=function(){return _this.fire(\"iron-resize\")};if(!loaded){loaded=Promise.all([__webpack_require__.e(106),__webpack_require__.e(57)]).then(__webpack_require__.bind(null,278))}loaded.then(function(_ref){var marked=_ref.marked,filterXSS=_ref.filterXSS;_this.marked=marked;_this.filterXSS=filterXSS;_this._scriptLoaded=1},function(){_this._scriptLoaded=2}).then(function(){return _this._render()})}},{key:\"_render\",value:function _render(){var _this2=this;if(0===this._scriptLoaded||this._renderScheduled)return;this._renderScheduled=!0;Promise.resolve().then(function(){_this2._renderScheduled=!1;if(1===_this2._scriptLoaded){_this2.innerHTML=_this2.filterXSS(_this2.marked(_this2.content,{gfm:!0,tables:!0,breaks:!0}),{onIgnoreTag:_this2.allowSvg?function(tag,html){return 0<=svgWhiteList.indexOf(tag)?html:null}:null});_this2._resize();var walker=document.createTreeWalker(_this2,1,null,!1);while(walker.nextNode()){var node=walker.currentNode;if(\"A\"===node.tagName&&node.host!==document.location.host){node.target=\"_blank\"}else if(\"IMG\"===node.tagName){node.addEventListener(\"load\",_this2._resize)}}}else if(2===_this2._scriptLoaded){_this2.innerText=_this2.content}})}}],[{key:\"properties\",get:function get(){return{content:{type:String,observer:\"_render\"},allowSvg:{type:Boolean,value:!1}}}}]);return HaMarkdown}(Object(_mixins_events_mixin__WEBPACK_IMPORTED_MODULE_1__.a)(_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_0__.a));customElements.define(\"ha-markdown\",HaMarkdown)},786:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);var lit_element=__webpack_require__(5),mwc_button=__webpack_require__(73),paper_dialog_scrollable=__webpack_require__(189),paper_tooltip=__webpack_require__(245),paper_spinner=__webpack_require__(171),paper_dialog=__webpack_require__(184),ha_form=__webpack_require__(146),ha_markdown=__webpack_require__(225),ha_style=__webpack_require__(101),resources_styles=__webpack_require__(56),createConfigFlow=function createConfigFlow(hass,handler){return hass.callApi(\"POST\",\"config/config_entries/flow\",{handler:handler})},fetchConfigFlow=function fetchConfigFlow(hass,flowId){return hass.callApi(\"GET\",\"config/config_entries/flow/\".concat(flowId))},handleConfigFlowStep=function handleConfigFlowStep(hass,flowId,data){return hass.callApi(\"POST\",\"config/config_entries/flow/\".concat(flowId),data)},deleteConfigFlow=function deleteConfigFlow(hass,flowId){return hass.callApi(\"DELETE\",\"config/config_entries/flow/\".concat(flowId))};function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0})}else{obj[key]=value}return obj}var applyPolymerEvent=function applyPolymerEvent(ev,curValue){var _ev$detail=ev.detail,path=_ev$detail.path,value=_ev$detail.value;if(!path){return value}var propName=path.split(\".\")[1];return Object.assign({},curValue,_defineProperty({},propName,value))};function _typeof(obj){if(\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&\"function\"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj}}return _typeof(obj)}function _templateObject15(){var data=_taggedTemplateLiteral([\"\\n        .error {\\n          color: red;\\n        }\\n        paper-dialog {\\n          max-width: 500px;\\n        }\\n        ha-markdown {\\n          word-break: break-word;\\n        }\\n        ha-markdown a {\\n          color: var(--primary-color);\\n        }\\n        ha-markdown img:first-child:last-child {\\n          display: block;\\n          margin: 0 auto;\\n        }\\n        .init-spinner {\\n          padding: 10px 100px 34px;\\n          text-align: center;\\n        }\\n        .submit-spinner {\\n          margin-right: 16px;\\n        }\\n      \"]);_templateObject15=function _templateObject15(){return data};return data}function _templateObject14(){var data=_taggedTemplateLiteral([\"\\n                <ha-markdown .content=\",\" allow-svg></ha-markdown>\\n              \"]);_templateObject14=function _templateObject14(){return data};return data}function _templateObject13(){var data=_taggedTemplateLiteral([\"\\n                <div class=\\\"error\\\">\",\"</div>\\n              \"]);_templateObject13=function _templateObject13(){return data};return data}function _templateObject12(){var data=_taggedTemplateLiteral([\"\\n      <paper-dialog\\n        with-backdrop\\n        .opened=\",\"\\n        @opened-changed=\",\"\\n      >\\n        <h2>\\n          \",\"\\n        </h2>\\n        <paper-dialog-scrollable>\\n          \",\"\\n          \",\"\\n          \",\"\\n        </paper-dialog-scrollable>\\n        <div class=\\\"buttons\\\">\\n          \",\"\\n        </div>\\n      </paper-dialog>\\n    \"]);_templateObject12=function _templateObject12(){return data};return data}function _templateObject11(){var data=_taggedTemplateLiteral([\"\"]);_templateObject11=function _templateObject11(){return data};return data}function _templateObject10(){var data=_taggedTemplateLiteral([\"\\n                    <paper-tooltip position=\\\"left\\\">\\n                      Not all required fields are filled in.\\n                    </paper-tooltip>\\n                  \"]);_templateObject10=function _templateObject10(){return data};return data}function _templateObject9(){var data=_taggedTemplateLiteral([\"\\n            <div>\\n              <mwc-button\\n                @click=\",\"\\n                .disabled=\",\"\\n              >\\n                Submit\\n              </mwc-button>\\n\\n              \",\"\\n            </div>\\n          \"]);_templateObject9=function _templateObject9(){return data};return data}function _templateObject8(){var data=_taggedTemplateLiteral([\"\\n            <div class=\\\"submit-spinner\\\">\\n              <paper-spinner active></paper-spinner>\\n            </div>\\n          \"]);_templateObject8=function _templateObject8(){return data};return data}function _templateObject7(){var data=_taggedTemplateLiteral([\"\\n        <ha-form\\n          .data=\",\"\\n          @data-changed=\",\"\\n          .schema=\",\"\\n          .error=\",\"\\n          .computeLabel=\",\"\\n          .computeError=\",\"\\n        ></ha-form>\\n      \"]);_templateObject7=function _templateObject7(){return data};return data}function _templateObject6(){var data=_taggedTemplateLiteral([\"\\n        <mwc-button @click=\\\"\",\"\\\">Close</mwc-button>\\n      \"]);_templateObject6=function _templateObject6(){return data};return data}function _templateObject5(){var data=_taggedTemplateLiteral([\"\\n        <p>Created config for \",\"</p>\\n      \"]);_templateObject5=function _templateObject5(){return data};return data}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n        <mwc-button @click=\\\"\",\"\\\">Close</mwc-button>\\n      \"]);_templateObject4=function _templateObject4(){return data};return data}function _templateObject3(){var data=_taggedTemplateLiteral([\"\"]);_templateObject3=function _templateObject3(){return data};return data}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n        <div class=\\\"init-spinner\\\">\\n          <paper-spinner active></paper-spinner>\\n        </div>\\n      \"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral([\"\"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"next\",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"throw\",err)}_next(void 0)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\")}}function _possibleConstructorReturn(self,call){if(call&&(\"object\"===_typeof(call)||\"function\"===typeof call)){return call}return _assertThisInitialized(self)}function _inherits(subClass,superClass){if(\"function\"!==typeof superClass&&null!==superClass){throw new TypeError(\"Super expression must either be null or a function\")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _assertThisInitialized(self){if(void 0===self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}return self}function _decorate(decorators,factory,superClass,mixins){var api=_getDecoratorsApi();if(mixins){for(var i=0;i<mixins.length;i++){api=mixins[i](api)}}var r=factory(function initialize(O){api.initializeInstanceElements(O,decorated.elements)},superClass),decorated=api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)),decorators);api.initializeClassElements(r.F,decorated.elements);return api.runClassFinishers(r.F,decorated.finishers)}function _getDecoratorsApi(){_getDecoratorsApi=function _getDecoratorsApi(){return api};var api={elementsDefinitionOrder:[[\"method\"],[\"field\"]],initializeInstanceElements:function initializeInstanceElements(O,elements){[\"method\",\"field\"].forEach(function(kind){elements.forEach(function(element){if(element.kind===kind&&\"own\"===element.placement){this.defineClassElement(O,element)}},this)},this)},initializeClassElements:function initializeClassElements(F,elements){var proto=F.prototype;[\"method\",\"field\"].forEach(function(kind){elements.forEach(function(element){var placement=element.placement;if(element.kind===kind&&(\"static\"===placement||\"prototype\"===placement)){var receiver=\"static\"===placement?F:proto;this.defineClassElement(receiver,element)}},this)},this)},defineClassElement:function defineClassElement(receiver,element){var descriptor=element.descriptor;if(\"field\"===element.kind){var initializer=element.initializer;descriptor={enumerable:descriptor.enumerable,writable:descriptor.writable,configurable:descriptor.configurable,value:void 0===initializer?void 0:initializer.call(receiver)}}Object.defineProperty(receiver,element.key,descriptor)},decorateClass:function decorateClass(elements,decorators){var newElements=[],finishers=[],placements={static:[],prototype:[],own:[]};elements.forEach(function(element){this.addElementPlacement(element,placements)},this);elements.forEach(function(element){if(!_hasDecorators(element))return newElements.push(element);var elementFinishersExtras=this.decorateElement(element,placements);newElements.push(elementFinishersExtras.element);newElements.push.apply(newElements,elementFinishersExtras.extras);finishers.push.apply(finishers,elementFinishersExtras.finishers)},this);if(!decorators){return{elements:newElements,finishers:finishers}}var result=this.decorateConstructor(newElements,decorators);finishers.push.apply(finishers,result.finishers);result.finishers=finishers;return result},addElementPlacement:function addElementPlacement(element,placements,silent){var keys=placements[element.placement];if(!silent&&-1!==keys.indexOf(element.key)){throw new TypeError(\"Duplicated element (\"+element.key+\")\")}keys.push(element.key)},decorateElement:function decorateElement(element,placements){for(var extras=[],finishers=[],decorators=element.decorators,i=decorators.length-1,keys;0<=i;i--){keys=placements[element.placement];keys.splice(keys.indexOf(element.key),1);var elementObject=this.fromElementDescriptor(element),elementFinisherExtras=this.toElementFinisherExtras((0,decorators[i])(elementObject)||elementObject);element=elementFinisherExtras.element;this.addElementPlacement(element,placements);if(elementFinisherExtras.finisher){finishers.push(elementFinisherExtras.finisher)}var newExtras=elementFinisherExtras.extras;if(newExtras){for(var j=0;j<newExtras.length;j++){this.addElementPlacement(newExtras[j],placements)}extras.push.apply(extras,newExtras)}}return{element:element,finishers:finishers,extras:extras}},decorateConstructor:function decorateConstructor(elements,decorators){for(var finishers=[],i=decorators.length-1;0<=i;i--){var obj=this.fromClassDescriptor(elements),elementsAndFinisher=this.toClassDescriptor((0,decorators[i])(obj)||obj);if(elementsAndFinisher.finisher!==void 0){finishers.push(elementsAndFinisher.finisher)}if(elementsAndFinisher.elements!==void 0){elements=elementsAndFinisher.elements;for(var j=0;j<elements.length-1;j++){for(var k=j+1;k<elements.length;k++){if(elements[j].key===elements[k].key&&elements[j].placement===elements[k].placement){throw new TypeError(\"Duplicated element (\"+elements[j].key+\")\")}}}}}return{elements:elements,finishers:finishers}},fromElementDescriptor:function fromElementDescriptor(element){var obj={kind:element.kind,key:element.key,placement:element.placement,descriptor:element.descriptor},desc={value:\"Descriptor\",configurable:!0};Object.defineProperty(obj,Symbol.toStringTag,desc);if(\"field\"===element.kind)obj.initializer=element.initializer;return obj},toElementDescriptors:function toElementDescriptors(elementObjects){if(elementObjects===void 0)return;return _toArray(elementObjects).map(function(elementObject){var element=this.toElementDescriptor(elementObject);this.disallowProperty(elementObject,\"finisher\",\"An element descriptor\");this.disallowProperty(elementObject,\"extras\",\"An element descriptor\");return element},this)},toElementDescriptor:function toElementDescriptor(elementObject){var kind=elementObject.kind+\"\";if(\"method\"!==kind&&\"field\"!==kind){throw new TypeError(\"An element descriptor's .kind property must be either \\\"method\\\" or\"+\" \\\"field\\\", but a decorator created an element descriptor with\"+\" .kind \\\"\"+kind+\"\\\"\")}var key=_toPropertyKey(elementObject.key),placement=elementObject.placement+\"\";if(\"static\"!==placement&&\"prototype\"!==placement&&\"own\"!==placement){throw new TypeError(\"An element descriptor's .placement property must be one of \\\"static\\\",\"+\" \\\"prototype\\\" or \\\"own\\\", but a decorator created an element descriptor\"+\" with .placement \\\"\"+placement+\"\\\"\")}var descriptor=elementObject.descriptor;this.disallowProperty(elementObject,\"elements\",\"An element descriptor\");var element={kind:kind,key:key,placement:placement,descriptor:Object.assign({},descriptor)};if(\"field\"!==kind){this.disallowProperty(elementObject,\"initializer\",\"A method descriptor\")}else{this.disallowProperty(descriptor,\"get\",\"The property descriptor of a field descriptor\");this.disallowProperty(descriptor,\"set\",\"The property descriptor of a field descriptor\");this.disallowProperty(descriptor,\"value\",\"The property descriptor of a field descriptor\");element.initializer=elementObject.initializer}return element},toElementFinisherExtras:function toElementFinisherExtras(elementObject){var element=this.toElementDescriptor(elementObject),finisher=_optionalCallableProperty(elementObject,\"finisher\"),extras=this.toElementDescriptors(elementObject.extras);return{element:element,finisher:finisher,extras:extras}},fromClassDescriptor:function fromClassDescriptor(elements){var obj={kind:\"class\",elements:elements.map(this.fromElementDescriptor,this)},desc={value:\"Descriptor\",configurable:!0};Object.defineProperty(obj,Symbol.toStringTag,desc);return obj},toClassDescriptor:function toClassDescriptor(obj){var kind=obj.kind+\"\";if(\"class\"!==kind){throw new TypeError(\"A class descriptor's .kind property must be \\\"class\\\", but a decorator\"+\" created a class descriptor with .kind \\\"\"+kind+\"\\\"\")}this.disallowProperty(obj,\"key\",\"A class descriptor\");this.disallowProperty(obj,\"placement\",\"A class descriptor\");this.disallowProperty(obj,\"descriptor\",\"A class descriptor\");this.disallowProperty(obj,\"initializer\",\"A class descriptor\");this.disallowProperty(obj,\"extras\",\"A class descriptor\");var finisher=_optionalCallableProperty(obj,\"finisher\"),elements=this.toElementDescriptors(obj.elements);return{elements:elements,finisher:finisher}},runClassFinishers:function runClassFinishers(constructor,finishers){for(var i=0,newConstructor;i<finishers.length;i++){newConstructor=(0,finishers[i])(constructor);if(newConstructor!==void 0){if(\"function\"!==typeof newConstructor){throw new TypeError(\"Finishers must return a constructor.\")}constructor=newConstructor}}return constructor},disallowProperty:function disallowProperty(obj,name,objectType){if(obj[name]!==void 0){throw new TypeError(objectType+\" can't have a .\"+name+\" property.\")}}};return api}function _createElementDescriptor(def){var key=_toPropertyKey(def.key),descriptor;if(\"method\"===def.kind){descriptor={value:def.value,writable:!0,configurable:!0,enumerable:!1}}else if(\"get\"===def.kind){descriptor={get:def.value,configurable:!0,enumerable:!1}}else if(\"set\"===def.kind){descriptor={set:def.value,configurable:!0,enumerable:!1}}else if(\"field\"===def.kind){descriptor={configurable:!0,writable:!0,enumerable:!0}}var element={kind:\"field\"===def.kind?\"field\":\"method\",key:key,placement:def.static?\"static\":\"field\"===def.kind?\"own\":\"prototype\",descriptor:descriptor};if(def.decorators)element.decorators=def.decorators;if(\"field\"===def.kind)element.initializer=def.value;return element}function _coalesceGetterSetter(element,other){if(element.descriptor.get!==void 0){other.descriptor.get=element.descriptor.get}else{other.descriptor.set=element.descriptor.set}}function _coalesceClassElements(elements){for(var newElements=[],isSameElement=function isSameElement(other){return\"method\"===other.kind&&other.key===element.key&&other.placement===element.placement},i=0;i<elements.length;i++){var element=elements[i],other;if(\"method\"===element.kind&&(other=newElements.find(isSameElement))){if(_isDataDescriptor(element.descriptor)||_isDataDescriptor(other.descriptor)){if(_hasDecorators(element)||_hasDecorators(other)){throw new ReferenceError(\"Duplicated methods (\"+element.key+\") can't be decorated.\")}other.descriptor=element.descriptor}else{if(_hasDecorators(element)){if(_hasDecorators(other)){throw new ReferenceError(\"Decorators can't be placed on different accessors with for \"+\"the same property (\"+element.key+\").\")}other.decorators=element.decorators}_coalesceGetterSetter(element,other)}}else{newElements.push(element)}}return newElements}function _hasDecorators(element){return element.decorators&&element.decorators.length}function _isDataDescriptor(desc){return desc!==void 0&&!(desc.value===void 0&&desc.writable===void 0)}function _optionalCallableProperty(obj,name){var value=obj[name];if(value!==void 0&&\"function\"!==typeof value){throw new TypeError(\"Expected '\"+name+\"' to be a function\")}return value}function _toPropertyKey(arg){var key=_toPrimitive(arg,\"string\");return\"symbol\"===_typeof(key)?key:key+\"\"}function _toPrimitive(input,hint){if(\"object\"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(prim!==void 0){var res=prim.call(input,hint||\"default\");if(\"object\"!==_typeof(res))return res;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===hint?String:Number)(input)}function _toArray(arr){return _arrayWithHoles(arr)||_iterableToArray(arr)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||\"[object Arguments]\"===Object.prototype.toString.call(iter))return Array.from(iter)}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _get(target,property,receiver){if(\"undefined\"!==typeof Reflect&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(null===object)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}var instance=0,dialog_config_flow_ConfigFlowDialog=_decorate([Object(lit_element.d)(\"dialog-config-flow\")],function(_initialize,_LitElement){var ConfigFlowDialog=function(_LitElement2){_inherits(ConfigFlowDialog,_LitElement2);function ConfigFlowDialog(){var _getPrototypeOf2,_this;_classCallCheck(this,ConfigFlowDialog);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ConfigFlowDialog)).call.apply(_getPrototypeOf2,[this].concat(args)));_initialize(_assertThisInitialized(_assertThisInitialized(_this)));return _this}return ConfigFlowDialog}(_LitElement);return{F:ConfigFlowDialog,d:[{kind:\"field\",decorators:[Object(lit_element.f)()],key:\"_params\",value:void 0},{kind:\"field\",decorators:[Object(lit_element.f)()],key:\"_loading\",value:function value(){return!0}},{kind:\"field\",key:\"_instance\",value:function value(){return instance}},{kind:\"field\",decorators:[Object(lit_element.f)()],key:\"_step\",value:void 0},{kind:\"field\",decorators:[Object(lit_element.f)()],key:\"_stepData\",value:void 0},{kind:\"field\",decorators:[Object(lit_element.f)()],key:\"_errorMsg\",value:void 0},{kind:\"method\",key:\"showDialog\",value:function(){var _showDialog=_asyncToGenerator(regeneratorRuntime.mark(function _callee(params){var _this2=this,fetchStep,curInstance,step;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this._params=params;this._loading=!0;this._instance=instance++;this._step=void 0;this._stepData={};this._errorMsg=void 0;fetchStep=params.continueFlowId?fetchConfigFlow(params.hass,params.continueFlowId):params.newFlowForHandler?createConfigFlow(params.hass,params.newFlowForHandler):void 0;if(fetchStep){_context.next=9;break}throw new Error(\"Pass in either continueFlowId or newFlorForHandler\");case 9:curInstance=this._instance;_context.next=12;return this.updateComplete;case 12:_context.next=14;return fetchStep;case 14:step=_context.sent;if(!(curInstance!==this._instance)){_context.next=17;break}return _context.abrupt(\"return\");case 17:this._processStep(step);this._loading=!1;setTimeout(function(){return _this2._dialog.center()},0);case 20:case\"end\":return _context.stop();}}},_callee,this)}));function showDialog(_x){return _showDialog.apply(this,arguments)}return showDialog}()},{kind:\"method\",key:\"render\",value:function render(){var _this3=this;if(!this._params){return Object(lit_element.e)(_templateObject())}var localize=this._params.hass.localize,step=this._step,headerContent,bodyContent,buttonContent,descriptionKey;if(!step){bodyContent=Object(lit_element.e)(_templateObject2())}else if(\"abort\"===step.type){descriptionKey=\"component.\".concat(step.handler,\".config.abort.\").concat(step.reason);headerContent=\"Aborted\";bodyContent=Object(lit_element.e)(_templateObject3());buttonContent=Object(lit_element.e)(_templateObject4(),this._flowDone)}else if(\"create_entry\"===step.type){descriptionKey=\"component.\".concat(step.handler,\".config.create_entry.\").concat(step.description||\"default\");headerContent=\"Success!\";bodyContent=Object(lit_element.e)(_templateObject5(),step.title);buttonContent=Object(lit_element.e)(_templateObject6(),this._flowDone)}else{descriptionKey=\"component.\".concat(step.handler,\".config.step.\").concat(step.step_id,\".description\");headerContent=localize(\"component.\".concat(step.handler,\".config.step.\").concat(step.step_id,\".title\"));bodyContent=Object(lit_element.e)(_templateObject7(),this._stepData,this._stepDataChanged,step.data_schema,step.errors,this._labelCallback,this._errorCallback);var allRequiredInfoFilledIn=this._stepData&&step.data_schema.every(function(field){return field.optional||![\"\",void 0].includes(_this3._stepData[field.name])});buttonContent=this._loading?Object(lit_element.e)(_templateObject8()):Object(lit_element.e)(_templateObject9(),this._submitStep,!allRequiredInfoFilledIn,!allRequiredInfoFilledIn?Object(lit_element.e)(_templateObject10()):Object(lit_element.e)(_templateObject11()))}var description;if(step&&descriptionKey){var args=[descriptionKey],placeholders=step.description_placeholders||{};Object.keys(placeholders).forEach(function(key){args.push(key);args.push(placeholders[key])});description=localize.apply(void 0,args)}return Object(lit_element.e)(_templateObject12(),!0,this._openedChanged,headerContent,this._errorMsg?Object(lit_element.e)(_templateObject13(),this._errorMsg):\"\",description?Object(lit_element.e)(_templateObject14(),description):\"\",bodyContent,buttonContent)}},{kind:\"method\",key:\"firstUpdated\",value:function firstUpdated(changedProps){var _this4=this;_get(_getPrototypeOf(ConfigFlowDialog.prototype),\"firstUpdated\",this).call(this,changedProps);this.addEventListener(\"keypress\",function(ev){if(13===ev.keyCode){_this4._submitStep()}})}},{kind:\"get\",key:\"_dialog\",value:function _dialog(){return this.shadowRoot.querySelector(\"paper-dialog\")}},{kind:\"method\",key:\"_submitStep\",value:function(){var _submitStep2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var curInstance,stepData,toSendData,step;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:this._loading=!0;this._errorMsg=void 0;curInstance=this._instance;stepData=this._stepData||{};toSendData={};Object.keys(stepData).forEach(function(key){var value=stepData[key],isEmpty=[void 0,\"\"].includes(value);if(!isEmpty){toSendData[key]=value}});_context2.prev=6;_context2.next=9;return handleConfigFlowStep(this._params.hass,this._step.flow_id,toSendData);case 9:step=_context2.sent;if(!(curInstance!==this._instance)){_context2.next=12;break}return _context2.abrupt(\"return\");case 12:this._processStep(step);_context2.next=18;break;case 15:_context2.prev=15;_context2.t0=_context2[\"catch\"](6);this._errorMsg=_context2.t0&&_context2.t0.body&&_context2.t0.body.message||\"Unknown error occurred\";case 18:_context2.prev=18;this._loading=!1;return _context2.finish(18);case 21:case\"end\":return _context2.stop();}}},_callee2,this,[[6,15,18,21]])}));function _submitStep(){return _submitStep2.apply(this,arguments)}return _submitStep}()},{kind:\"method\",key:\"_processStep\",value:function _processStep(step){this._step=step;if(\"form\"===step.type){if(!step.errors){step.errors={}}if(0===Object.keys(step.errors).length){var data={};step.data_schema.forEach(function(field){if(\"default\"in field){data[field.name]=field.default}});this._stepData=data}}}},{kind:\"method\",key:\"_flowDone\",value:function _flowDone(){if(!this._params){return}var flowFinished=!!(this._step&&[\"success\",\"abort\"].includes(this._step.type));if(this._step&&!flowFinished&&this._params.newFlowForHandler){deleteConfigFlow(this._params.hass,this._step.flow_id)}this._params.dialogClosedCallback({flowFinished:flowFinished});this._errorMsg=void 0;this._step=void 0;this._stepData={};this._params=void 0}},{kind:\"method\",key:\"_openedChanged\",value:function _openedChanged(ev){if(this._step&&!ev.detail.value){this._flowDone()}}},{kind:\"method\",key:\"_stepDataChanged\",value:function _stepDataChanged(ev){this._stepData=applyPolymerEvent(ev,this._stepData)}},{kind:\"field\",key:\"_labelCallback\",value:function value(){var _this5=this;return function(schema){var step=_this5._step;return _this5._params.hass.localize(\"component.\".concat(step.handler,\".config.step.\").concat(step.step_id,\".data.\").concat(schema.name))}}},{kind:\"field\",key:\"_errorCallback\",value:function value(){var _this6=this;return function(error){return _this6._params.hass.localize(\"component.\".concat(_this6._step.handler,\".config.error.\").concat(error))}}},{kind:\"get\",static:!0,key:\"styles\",value:function styles(){return[resources_styles.b,Object(lit_element.c)(_templateObject15())]}}]}},lit_element.a)}}]);"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourceRoot":""}