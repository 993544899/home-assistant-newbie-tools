(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{159:function(module,__webpack_exports__,__webpack_require__){"use strict";var _compute_object_id__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(175);__webpack_exports__.a=function(stateObj){return stateObj.attributes.friendly_name===void 0?Object(_compute_object_id__WEBPACK_IMPORTED_MODULE_0__.a)(stateObj.entity_id).replace(/_/g," "):stateObj.attributes.friendly_name||""}},163:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return domainIcon});var _const__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(108),fixedIcons={alert:"hass:alert",automation:"hass:playlist-play",calendar:"hass:calendar",camera:"hass:video",climate:"hass:thermostat",configurator:"hass:settings",conversation:"hass:text-to-speech",device_tracker:"hass:account",fan:"hass:fan",group:"hass:google-circles-communities",history_graph:"hass:chart-line",homeassistant:"hass:home-assistant",homekit:"hass:home-automation",image_processing:"hass:image-filter-frames",input_boolean:"hass:drawing",input_datetime:"hass:calendar-clock",input_number:"hass:ray-vertex",input_select:"hass:format-list-bulleted",input_text:"hass:textbox",light:"hass:lightbulb",mailbox:"hass:mailbox",notify:"hass:comment-alert",person:"hass:account",plant:"hass:flower",proximity:"hass:apple-safari",remote:"hass:remote",scene:"hass:google-pages",script:"hass:file-document",sensor:"hass:eye",simple_alarm:"hass:bell",sun:"hass:white-balance-sunny",switch:"hass:flash",timer:"hass:timer",updater:"hass:cloud-upload",vacuum:"hass:robot-vacuum",water_heater:"hass:thermometer",weblink:"hass:open-in-new"};function domainIcon(domain,state){if(domain in fixedIcons){return fixedIcons[domain]}switch(domain){case"alarm_control_panel":switch(state){case"armed_home":return"hass:bell-plus";case"armed_night":return"hass:bell-sleep";case"disarmed":return"hass:bell-outline";case"triggered":return"hass:bell-ring";default:return"hass:bell";}case"binary_sensor":return state&&"off"===state?"hass:radiobox-blank":"hass:checkbox-marked-circle";case"cover":return"closed"===state?"hass:window-closed":"hass:window-open";case"lock":return state&&"unlocked"===state?"hass:lock-open":"hass:lock";case"media_player":return state&&"off"!==state&&"idle"!==state?"hass:cast-connected":"hass:cast";case"zwave":switch(state){case"dead":return"hass:emoticon-dead";case"sleeping":return"hass:sleep";case"initializing":return"hass:timer-sand";default:return"hass:z-wave";}default:console.warn("Unable to find icon for domain "+domain+" ("+state+")");return _const__WEBPACK_IMPORTED_MODULE_0__.a;}}},164:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return HaIcon});var _polymer_iron_icon_iron_icon__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(97);function _typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"===typeof call)){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if("undefined"!==typeof Reflect&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(null===object)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ironIconClass=customElements.get("iron-icon"),loaded=!1,HaIcon=function(_ironIconClass){_inherits(HaIcon,_ironIconClass);function HaIcon(){var _getPrototypeOf2,_this;_classCallCheck(this,HaIcon);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(HaIcon)).call.apply(_getPrototypeOf2,[this].concat(args)));_this._iconsetName=void 0;return _this}_createClass(HaIcon,[{key:"listen",value:function listen(node,eventName,methodName){_get(_getPrototypeOf(HaIcon.prototype),"listen",this).call(this,node,eventName,methodName);if(!loaded&&"mdi"===this._iconsetName){loaded=!0;__webpack_require__.e(59).then(__webpack_require__.bind(null,203))}}}]);return HaIcon}(ironIconClass);customElements.define("ha-icon",HaIcon)},165:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return computeDomain});function computeDomain(entityId){return entityId.substr(0,entityId.indexOf("."))}},175:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return computeObjectId});function computeObjectId(entityId){return entityId.substr(entityId.indexOf(".")+1)}},177:function(module,__webpack_exports__,__webpack_require__){"use strict";var common_const=__webpack_require__(108),compute_domain=__webpack_require__(165),domain_icon=__webpack_require__(163);function binarySensorIcon(state){var activated=state.state&&"off"===state.state;switch(state.attributes.device_class){case"battery":return activated?"hass:battery":"hass:battery-outline";case"cold":return activated?"hass:thermometer":"hass:snowflake";case"connectivity":return activated?"hass:server-network-off":"hass:server-network";case"door":return activated?"hass:door-closed":"hass:door-open";case"garage_door":return activated?"hass:garage":"hass:garage-open";case"gas":case"power":case"problem":case"safety":case"smoke":return activated?"hass:shield-check":"hass:alert";case"heat":return activated?"hass:thermometer":"hass:fire";case"light":return activated?"hass:brightness-5":"hass:brightness-7";case"lock":return activated?"hass:lock":"hass:lock-open";case"moisture":return activated?"hass:water-off":"hass:water";case"motion":return activated?"hass:walk":"hass:run";case"occupancy":return activated?"hass:home-outline":"hass:home";case"opening":return activated?"hass:square":"hass:square-outline";case"plug":return activated?"hass:power-plug-off":"hass:power-plug";case"presence":return activated?"hass:home-outline":"hass:home";case"sound":return activated?"hass:music-note-off":"hass:music-note";case"vibration":return activated?"hass:crop-portrait":"hass:vibrate";case"window":return activated?"hass:window-closed":"hass:window-open";default:return activated?"hass:radiobox-blank":"hass:checkbox-marked-circle";}}function coverIcon(state){var open="closed"!==state.state;switch(state.attributes.device_class){case"garage":return open?"hass:garage-open":"hass:garage";default:return Object(domain_icon.a)("cover",state.state);}}var fixedDeviceClassIcons={humidity:"hass:water-percent",illuminance:"hass:brightness-5",temperature:"hass:thermometer",pressure:"hass:gauge"};function sensorIcon(state){var dclass=state.attributes.device_class;if(dclass&&dclass in fixedDeviceClassIcons){return fixedDeviceClassIcons[dclass]}if("battery"===dclass){var battery=+state.state;if(isNaN(battery)){return"hass:battery-unknown"}var batteryRound=10*Math.round(battery/10);if(100<=batteryRound){return"hass:battery"}if(0>=batteryRound){return"hass:battery-alert"}return"hass".concat(":battery-",batteryRound)}var unit=state.attributes.unit_of_measurement;if(unit===common_const.j||unit===common_const.k){return"hass:thermometer"}return Object(domain_icon.a)("sensor")}function inputDateTimeIcon(state){if(!state.attributes.has_date){return"hass:clock"}if(!state.attributes.has_time){return"hass:calendar"}return Object(domain_icon.a)("input_datetime")}__webpack_require__.d(__webpack_exports__,"a",function(){return stateIcon});var domainIcons={binary_sensor:binarySensorIcon,cover:coverIcon,sensor:sensorIcon,input_datetime:inputDateTimeIcon};function stateIcon(state){if(!state){return common_const.a}if(state.attributes.icon){return state.attributes.icon}var domain=Object(compute_domain.a)(state.entity_id);if(domain in domainIcons){return domainIcons[domain](state)}return Object(domain_icon.a)(domain,state.state)}},179:function(module,__webpack_exports__,__webpack_require__){"use strict";var lit_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);function _typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _templateObject2(){var data=_taggedTemplateLiteral(["\n      <div class=\"header\">","</div>\n      <slot></slot>\n    "]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n      :host {\n        background: var(\n          --ha-card-background,\n          var(--paper-card-background-color, white)\n        );\n        border-radius: var(--ha-card-border-radius, 2px);\n        box-shadow: var(\n          --ha-card-box-shadow,\n          0 2px 2px 0 rgba(0, 0, 0, 0.14),\n          0 1px 5px 0 rgba(0, 0, 0, 0.12),\n          0 3px 1px -2px rgba(0, 0, 0, 0.2)\n        );\n        color: var(--primary-text-color);\n        display: block;\n        transition: all 0.3s ease-out;\n      }\n      .header:not(:empty) {\n        font-size: 24px;\n        letter-spacing: -0.012em;\n        line-height: 32px;\n        opacity: 0.87;\n        padding: 24px 16px 16px;\n      }\n    "]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"===typeof call)){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _decorate(decorators,factory,superClass,mixins){var api=_getDecoratorsApi();if(mixins){for(var i=0;i<mixins.length;i++){api=mixins[i](api)}}var r=factory(function initialize(O){api.initializeInstanceElements(O,decorated.elements)},superClass),decorated=api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)),decorators);api.initializeClassElements(r.F,decorated.elements);return api.runClassFinishers(r.F,decorated.finishers)}function _getDecoratorsApi(){_getDecoratorsApi=function _getDecoratorsApi(){return api};var api={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function initializeInstanceElements(O,elements){["method","field"].forEach(function(kind){elements.forEach(function(element){if(element.kind===kind&&"own"===element.placement){this.defineClassElement(O,element)}},this)},this)},initializeClassElements:function initializeClassElements(F,elements){var proto=F.prototype;["method","field"].forEach(function(kind){elements.forEach(function(element){var placement=element.placement;if(element.kind===kind&&("static"===placement||"prototype"===placement)){var receiver="static"===placement?F:proto;this.defineClassElement(receiver,element)}},this)},this)},defineClassElement:function defineClassElement(receiver,element){var descriptor=element.descriptor;if("field"===element.kind){var initializer=element.initializer;descriptor={enumerable:descriptor.enumerable,writable:descriptor.writable,configurable:descriptor.configurable,value:void 0===initializer?void 0:initializer.call(receiver)}}Object.defineProperty(receiver,element.key,descriptor)},decorateClass:function decorateClass(elements,decorators){var newElements=[],finishers=[],placements={static:[],prototype:[],own:[]};elements.forEach(function(element){this.addElementPlacement(element,placements)},this);elements.forEach(function(element){if(!_hasDecorators(element))return newElements.push(element);var elementFinishersExtras=this.decorateElement(element,placements);newElements.push(elementFinishersExtras.element);newElements.push.apply(newElements,elementFinishersExtras.extras);finishers.push.apply(finishers,elementFinishersExtras.finishers)},this);if(!decorators){return{elements:newElements,finishers:finishers}}var result=this.decorateConstructor(newElements,decorators);finishers.push.apply(finishers,result.finishers);result.finishers=finishers;return result},addElementPlacement:function addElementPlacement(element,placements,silent){var keys=placements[element.placement];if(!silent&&-1!==keys.indexOf(element.key)){throw new TypeError("Duplicated element ("+element.key+")")}keys.push(element.key)},decorateElement:function decorateElement(element,placements){for(var extras=[],finishers=[],decorators=element.decorators,i=decorators.length-1,keys;0<=i;i--){keys=placements[element.placement];keys.splice(keys.indexOf(element.key),1);var elementObject=this.fromElementDescriptor(element),elementFinisherExtras=this.toElementFinisherExtras((0,decorators[i])(elementObject)||elementObject);element=elementFinisherExtras.element;this.addElementPlacement(element,placements);if(elementFinisherExtras.finisher){finishers.push(elementFinisherExtras.finisher)}var newExtras=elementFinisherExtras.extras;if(newExtras){for(var j=0;j<newExtras.length;j++){this.addElementPlacement(newExtras[j],placements)}extras.push.apply(extras,newExtras)}}return{element:element,finishers:finishers,extras:extras}},decorateConstructor:function decorateConstructor(elements,decorators){for(var finishers=[],i=decorators.length-1;0<=i;i--){var obj=this.fromClassDescriptor(elements),elementsAndFinisher=this.toClassDescriptor((0,decorators[i])(obj)||obj);if(elementsAndFinisher.finisher!==void 0){finishers.push(elementsAndFinisher.finisher)}if(elementsAndFinisher.elements!==void 0){elements=elementsAndFinisher.elements;for(var j=0;j<elements.length-1;j++){for(var k=j+1;k<elements.length;k++){if(elements[j].key===elements[k].key&&elements[j].placement===elements[k].placement){throw new TypeError("Duplicated element ("+elements[j].key+")")}}}}}return{elements:elements,finishers:finishers}},fromElementDescriptor:function fromElementDescriptor(element){var obj={kind:element.kind,key:element.key,placement:element.placement,descriptor:element.descriptor},desc={value:"Descriptor",configurable:!0};Object.defineProperty(obj,Symbol.toStringTag,desc);if("field"===element.kind)obj.initializer=element.initializer;return obj},toElementDescriptors:function toElementDescriptors(elementObjects){if(elementObjects===void 0)return;return _toArray(elementObjects).map(function(elementObject){var element=this.toElementDescriptor(elementObject);this.disallowProperty(elementObject,"finisher","An element descriptor");this.disallowProperty(elementObject,"extras","An element descriptor");return element},this)},toElementDescriptor:function toElementDescriptor(elementObject){var kind=elementObject.kind+"";if("method"!==kind&&"field"!==kind){throw new TypeError("An element descriptor's .kind property must be either \"method\" or"+" \"field\", but a decorator created an element descriptor with"+" .kind \""+kind+"\"")}var key=_toPropertyKey(elementObject.key),placement=elementObject.placement+"";if("static"!==placement&&"prototype"!==placement&&"own"!==placement){throw new TypeError("An element descriptor's .placement property must be one of \"static\","+" \"prototype\" or \"own\", but a decorator created an element descriptor"+" with .placement \""+placement+"\"")}var descriptor=elementObject.descriptor;this.disallowProperty(elementObject,"elements","An element descriptor");var element={kind:kind,key:key,placement:placement,descriptor:Object.assign({},descriptor)};if("field"!==kind){this.disallowProperty(elementObject,"initializer","A method descriptor")}else{this.disallowProperty(descriptor,"get","The property descriptor of a field descriptor");this.disallowProperty(descriptor,"set","The property descriptor of a field descriptor");this.disallowProperty(descriptor,"value","The property descriptor of a field descriptor");element.initializer=elementObject.initializer}return element},toElementFinisherExtras:function toElementFinisherExtras(elementObject){var element=this.toElementDescriptor(elementObject),finisher=_optionalCallableProperty(elementObject,"finisher"),extras=this.toElementDescriptors(elementObject.extras);return{element:element,finisher:finisher,extras:extras}},fromClassDescriptor:function fromClassDescriptor(elements){var obj={kind:"class",elements:elements.map(this.fromElementDescriptor,this)},desc={value:"Descriptor",configurable:!0};Object.defineProperty(obj,Symbol.toStringTag,desc);return obj},toClassDescriptor:function toClassDescriptor(obj){var kind=obj.kind+"";if("class"!==kind){throw new TypeError("A class descriptor's .kind property must be \"class\", but a decorator"+" created a class descriptor with .kind \""+kind+"\"")}this.disallowProperty(obj,"key","A class descriptor");this.disallowProperty(obj,"placement","A class descriptor");this.disallowProperty(obj,"descriptor","A class descriptor");this.disallowProperty(obj,"initializer","A class descriptor");this.disallowProperty(obj,"extras","A class descriptor");var finisher=_optionalCallableProperty(obj,"finisher"),elements=this.toElementDescriptors(obj.elements);return{elements:elements,finisher:finisher}},runClassFinishers:function runClassFinishers(constructor,finishers){for(var i=0,newConstructor;i<finishers.length;i++){newConstructor=(0,finishers[i])(constructor);if(newConstructor!==void 0){if("function"!==typeof newConstructor){throw new TypeError("Finishers must return a constructor.")}constructor=newConstructor}}return constructor},disallowProperty:function disallowProperty(obj,name,objectType){if(obj[name]!==void 0){throw new TypeError(objectType+" can't have a ."+name+" property.")}}};return api}function _createElementDescriptor(def){var key=_toPropertyKey(def.key),descriptor;if("method"===def.kind){descriptor={value:def.value,writable:!0,configurable:!0,enumerable:!1}}else if("get"===def.kind){descriptor={get:def.value,configurable:!0,enumerable:!1}}else if("set"===def.kind){descriptor={set:def.value,configurable:!0,enumerable:!1}}else if("field"===def.kind){descriptor={configurable:!0,writable:!0,enumerable:!0}}var element={kind:"field"===def.kind?"field":"method",key:key,placement:def.static?"static":"field"===def.kind?"own":"prototype",descriptor:descriptor};if(def.decorators)element.decorators=def.decorators;if("field"===def.kind)element.initializer=def.value;return element}function _coalesceGetterSetter(element,other){if(element.descriptor.get!==void 0){other.descriptor.get=element.descriptor.get}else{other.descriptor.set=element.descriptor.set}}function _coalesceClassElements(elements){for(var newElements=[],isSameElement=function isSameElement(other){return"method"===other.kind&&other.key===element.key&&other.placement===element.placement},i=0;i<elements.length;i++){var element=elements[i],other;if("method"===element.kind&&(other=newElements.find(isSameElement))){if(_isDataDescriptor(element.descriptor)||_isDataDescriptor(other.descriptor)){if(_hasDecorators(element)||_hasDecorators(other)){throw new ReferenceError("Duplicated methods ("+element.key+") can't be decorated.")}other.descriptor=element.descriptor}else{if(_hasDecorators(element)){if(_hasDecorators(other)){throw new ReferenceError("Decorators can't be placed on different accessors with for "+"the same property ("+element.key+").")}other.decorators=element.decorators}_coalesceGetterSetter(element,other)}}else{newElements.push(element)}}return newElements}function _hasDecorators(element){return element.decorators&&element.decorators.length}function _isDataDescriptor(desc){return desc!==void 0&&!(desc.value===void 0&&desc.writable===void 0)}function _optionalCallableProperty(obj,name){var value=obj[name];if(value!==void 0&&"function"!==typeof value){throw new TypeError("Expected '"+name+"' to be a function")}return value}function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return"symbol"===_typeof(key)?key:key+""}function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(prim!==void 0){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}function _toArray(arr){return _arrayWithHoles(arr)||_iterableToArray(arr)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var HaCard=_decorate(null,function(_initialize,_LitElement){var HaCard=function(_LitElement2){_inherits(HaCard,_LitElement2);function HaCard(){var _getPrototypeOf2,_this;_classCallCheck(this,HaCard);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(HaCard)).call.apply(_getPrototypeOf2,[this].concat(args)));_initialize(_assertThisInitialized(_assertThisInitialized(_this)));return _this}return HaCard}(_LitElement);return{F:HaCard,d:[{kind:"field",decorators:[Object(lit_element__WEBPACK_IMPORTED_MODULE_0__.f)()],key:"header",value:void 0},{kind:"get",static:!0,key:"styles",value:function styles(){return Object(lit_element__WEBPACK_IMPORTED_MODULE_0__.c)(_templateObject())}},{kind:"method",key:"render",value:function render(){return Object(lit_element__WEBPACK_IMPORTED_MODULE_0__.e)(_templateObject2(),this.header)}}]}},lit_element__WEBPACK_IMPORTED_MODULE_0__.a);customElements.define("ha-card",HaCard)},180:function(module,__webpack_exports__,__webpack_require__){"use strict";var _polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(20),_resources_ha_style__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(101);function _typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _templateObject(){var data=_taggedTemplateLiteral(["\n      <style include=\"iron-flex ha-style\">\n        .content {\n          padding: 28px 20px 0;\n          max-width: 1040px;\n          margin: 0 auto;\n        }\n\n        .header {\n          @apply --paper-font-display1;\n          opacity: var(--dark-primary-opacity);\n        }\n\n        .together {\n          margin-top: 32px;\n        }\n\n        .intro {\n          @apply --paper-font-subhead;\n          width: 100%;\n          max-width: 400px;\n          margin-right: 40px;\n          opacity: var(--dark-primary-opacity);\n        }\n\n        .panel {\n          margin-top: -24px;\n        }\n\n        .panel ::slotted(*) {\n          margin-top: 24px;\n          display: block;\n        }\n\n        .narrow.content {\n          max-width: 640px;\n        }\n        .narrow .together {\n          margin-top: 20px;\n        }\n        .narrow .header {\n          @apply --paper-font-headline;\n        }\n        .narrow .intro {\n          font-size: 14px;\n          padding-bottom: 20px;\n          margin-right: 0;\n          max-width: 500px;\n        }\n      </style>\n      <div class$=\"[[computeContentClasses(isWide)]]\">\n        <div class=\"header\"><slot name=\"header\"></slot></div>\n        <div class$=\"[[computeClasses(isWide)]]\">\n          <div class=\"intro\"><slot name=\"introduction\"></slot></div>\n          <div class=\"panel flex-auto\"><slot></slot></div>\n        </div>\n      </div>\n    "]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"===typeof call)){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var HaConfigSection=function(_PolymerElement){_inherits(HaConfigSection,_PolymerElement);function HaConfigSection(){_classCallCheck(this,HaConfigSection);return _possibleConstructorReturn(this,_getPrototypeOf(HaConfigSection).apply(this,arguments))}_createClass(HaConfigSection,[{key:"computeContentClasses",value:function computeContentClasses(isWide){var classes="content ";return isWide?classes:classes+"narrow"}},{key:"computeClasses",value:function computeClasses(isWide){var classes="together layout ";return classes+(isWide?"horizontal":"vertical narrow")}}],[{key:"template",get:function get(){return Object(_polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_0__.a)(_templateObject())}},{key:"properties",get:function get(){return{hass:{type:Object},narrow:{type:Boolean},showMenu:{type:Boolean,value:!1},isWide:{type:Boolean,value:!1}}}}]);return HaConfigSection}(_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_1__.a);customElements.define("ha-config-section",HaConfigSection)},186:function(module,__webpack_exports__,__webpack_require__){"use strict";var fecha__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(181);function toLocaleStringSupportsOptions(){try{new Date().toLocaleString("i")}catch(e){return"RangeError"===e.name}return!1}__webpack_exports__.a=toLocaleStringSupportsOptions()?function(dateObj,locales){return dateObj.toLocaleString(locales,{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"})}:function(dateObj){return fecha__WEBPACK_IMPORTED_MODULE_0__.a.format(dateObj,"haDateTime")}},211:function(module,__webpack_exports__,__webpack_require__){"use strict";var _material_mwc_button__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(73),_polymer_paper_spinner_paper_spinner__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(171),_polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(20);function _typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _templateObject(){var data=_taggedTemplateLiteral(["\n      <style>\n        .container {\n          position: relative;\n          display: inline-block;\n        }\n\n        mwc-button {\n          transition: all 1s;\n        }\n\n        .success mwc-button {\n          --mdc-theme-primary: white;\n          background-color: var(--google-green-500);\n          transition: none;\n        }\n\n        .error mwc-button {\n          --mdc-theme-primary: white;\n          background-color: var(--google-red-500);\n          transition: none;\n        }\n\n        .progress {\n          @apply --layout;\n          @apply --layout-center-center;\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n        }\n      </style>\n      <div class=\"container\" id=\"container\">\n        <mwc-button\n          id=\"button\"\n          disabled=\"[[computeDisabled(disabled, progress)]]\"\n          on-click=\"buttonTapped\"\n        >\n          <slot></slot>\n        </mwc-button>\n        <template is=\"dom-if\" if=\"[[progress]]\">\n          <div class=\"progress\"><paper-spinner active=\"\"></paper-spinner></div>\n        </template>\n      </div>\n    "]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"===typeof call)){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if("undefined"!==typeof Reflect&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(null===object)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var HaProgressButton=function(_PolymerElement){_inherits(HaProgressButton,_PolymerElement);function HaProgressButton(){_classCallCheck(this,HaProgressButton);return _possibleConstructorReturn(this,_getPrototypeOf(HaProgressButton).apply(this,arguments))}_createClass(HaProgressButton,[{key:"tempClass",value:function tempClass(className){var classList=this.$.container.classList;classList.add(className);setTimeout(function(){classList.remove(className)},1e3)}},{key:"ready",value:function ready(){var _this=this;_get(_getPrototypeOf(HaProgressButton.prototype),"ready",this).call(this);this.addEventListener("click",function(ev){return _this.buttonTapped(ev)})}},{key:"buttonTapped",value:function buttonTapped(ev){if(this.progress)ev.stopPropagation()}},{key:"actionSuccess",value:function actionSuccess(){this.tempClass("success")}},{key:"actionError",value:function actionError(){this.tempClass("error")}},{key:"computeDisabled",value:function computeDisabled(disabled,progress){return disabled||progress}}],[{key:"template",get:function get(){return Object(_polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_2__.a)(_templateObject())}},{key:"properties",get:function get(){return{hass:{type:Object},progress:{type:Boolean,value:!1},disabled:{type:Boolean,value:!1}}}}]);return HaProgressButton}(_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_3__.a);customElements.define("ha-progress-button",HaProgressButton)},220:function(module,__webpack_exports__,__webpack_require__){"use strict";var _polymer_iron_icon_iron_icon__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(97),_ha_icon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(164);function _typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"===typeof call)){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if("undefined"!==typeof Reflect&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(null===object)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var HaIconNext=function(_HaIcon){_inherits(HaIconNext,_HaIcon);function HaIconNext(){_classCallCheck(this,HaIconNext);return _possibleConstructorReturn(this,_getPrototypeOf(HaIconNext).apply(this,arguments))}_createClass(HaIconNext,[{key:"connectedCallback",value:function connectedCallback(){this.icon="ltr"===window.getComputedStyle(this).direction?"hass:chevron-right":"hass:chevron-left";_get(_getPrototypeOf(HaIconNext.prototype),"connectedCallback",this).call(this)}}]);return HaIconNext}(_ha_icon__WEBPACK_IMPORTED_MODULE_1__.a);customElements.define("ha-icon-next",HaIconNext)},306:function(module,__webpack_exports__,__webpack_require__){"use strict";var lit_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),_ha_progress_button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(211),_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(44);function _typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _templateObject(){var data=_taggedTemplateLiteral(["\n      <ha-progress-button\n        .progress=\"","\"\n        @click=\"","\"\n        ?disabled=\"","\"\n        ><slot></slot\n      ></ha-progress-button>\n    "]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"===typeof call)){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var HaCallApiButton=function(_LitElement){_inherits(HaCallApiButton,_LitElement);_createClass(HaCallApiButton,[{key:"render",value:function render(){return Object(lit_element__WEBPACK_IMPORTED_MODULE_0__.e)(_templateObject(),this.progress,this._buttonTapped,this.disabled)}}]);function HaCallApiButton(){var _this;_classCallCheck(this,HaCallApiButton);_this=_possibleConstructorReturn(this,_getPrototypeOf(HaCallApiButton).call(this));_this.method="POST";_this.data={};_this.disabled=!1;_this.progress=!1;return _this}_createClass(HaCallApiButton,[{key:"_buttonTapped",value:function(){var _buttonTapped2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var eventData,resp;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this.progress=!0;eventData={method:this.method,path:this.path,data:this.data};_context.prev=2;_context.next=5;return this.hass.callApi(this.method,this.path,this.data);case 5:resp=_context.sent;this.progress=!1;this.progressButton.actionSuccess();eventData.success=!0;eventData.response=resp;_context.next=18;break;case 12:_context.prev=12;_context.t0=_context["catch"](2);this.progress=!1;this.progressButton.actionError();eventData.success=!1;eventData.response=_context.t0;case 18:Object(_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_2__.a)(this,"hass-api-called",eventData);case 19:case"end":return _context.stop();}}},_callee,this,[[2,12]])}));function _buttonTapped(){return _buttonTapped2.apply(this,arguments)}return _buttonTapped}()},{key:"progressButton",get:function get(){return this.renderRoot.querySelector("ha-progress-button")}}],[{key:"properties",get:function get(){return{hass:{},progress:Boolean,path:String,method:String,data:{},disabled:Boolean}}}]);return HaCallApiButton}(lit_element__WEBPACK_IMPORTED_MODULE_0__.a);customElements.define("ha-call-api-button",HaCallApiButton)},379:function(module,__webpack_exports__,__webpack_require__){"use strict";var _polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(20),_ha_icon__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(164),_common_entity_state_icon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(177);function _typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _templateObject(){var data=_taggedTemplateLiteral(["\n      <ha-icon icon=\"[[computeIcon(stateObj)]]\"></ha-icon>\n    "]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"===typeof call)){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var HaStateIcon=function(_PolymerElement){_inherits(HaStateIcon,_PolymerElement);function HaStateIcon(){_classCallCheck(this,HaStateIcon);return _possibleConstructorReturn(this,_getPrototypeOf(HaStateIcon).apply(this,arguments))}_createClass(HaStateIcon,[{key:"computeIcon",value:function computeIcon(stateObj){return Object(_common_entity_state_icon__WEBPACK_IMPORTED_MODULE_3__.a)(stateObj)}}],[{key:"template",get:function get(){return Object(_polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_0__.a)(_templateObject())}},{key:"properties",get:function get(){return{stateObj:{type:Object}}}}]);return HaStateIcon}(_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_1__.a);customElements.define("ha-state-icon",HaStateIcon)},719:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var app_route=__webpack_require__(143),utils_async=__webpack_require__(11),debounce=__webpack_require__(19),html_tag=__webpack_require__(3),polymer_element=__webpack_require__(20),ha_config_section=__webpack_require__(180),mwc_button=__webpack_require__(73),paper_card=__webpack_require__(160),paper_item_body=__webpack_require__(167),paper_toggle_button=__webpack_require__(195),ha_call_api_button=__webpack_require__(306),hass_subpage=__webpack_require__(140),ha_style=__webpack_require__(101),lit_element=__webpack_require__(5),paper_item=__webpack_require__(127),paper_spinner=__webpack_require__(171),ha_card=__webpack_require__(179),fire_event=__webpack_require__(44),fetchWebhooks=function fetchWebhooks(hass){return hass.callWS({type:"webhook/list"})},createCloudhook=function createCloudhook(hass,webhookId){return hass.callWS({type:"cloud/cloudhook/create",webhook_id:webhookId})},deleteCloudhook=function deleteCloudhook(hass,webhookId){return hass.callWS({type:"cloud/cloudhook/delete",webhook_id:webhookId})};function _typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _templateObject8(){var data=_taggedTemplateLiteral(["\n      <style>\n        .body {\n          padding: 0 16px 8px;\n        }\n        .body-text {\n          padding: 0 16px;\n        }\n        .webhook {\n          display: flex;\n          padding: 4px 16px;\n        }\n        .progress {\n          margin-right: 16px;\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n        }\n        .footer {\n          padding: 16px;\n        }\n        .body-text a,\n        .footer a {\n          color: var(--primary-color);\n        }\n      </style>\n    "]);_templateObject8=function _templateObject8(){return data};return data}function _objectWithoutProperties(source,excluded){if(null==source)return{};var target=_objectWithoutPropertiesLoose(source,excluded),key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(0<=excluded.indexOf(key))continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var target={},sourceKeys=Object.keys(source),key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(0<=excluded.indexOf(key))continue;target[key]=source[key]}return target}function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return"symbol"===_typeof(key)?key:key+""}function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(prim!==void 0){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0})}else{obj[key]=value}return obj}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _templateObject7(){var data=_taggedTemplateLiteral(["\n                <paper-toggle-button\n                  @click=\"","\"\n                ></paper-toggle-button>\n              "]);_templateObject7=function _templateObject7(){return data};return data}function _templateObject6(){var data=_taggedTemplateLiteral(["\n                <mwc-button @click=\"","\"\n                  >Manage</mwc-button\n                >\n              "]);_templateObject6=function _templateObject6(){return data};return data}function _templateObject5(){var data=_taggedTemplateLiteral(["\n                <div class=\"progress\">\n                  <paper-spinner active></paper-spinner>\n                </div>\n              "]);_templateObject5=function _templateObject5(){return data};return data}function _templateObject4(){var data=_taggedTemplateLiteral(["\n        <div class=\"webhook\" .entry=\"","\">\n          <paper-item-body two-line>\n            <div>\n              ","\n              ","\n            </div>\n            <div secondary>","</div>\n          </paper-item-body>\n          ","\n        </div>\n      "]);_templateObject4=function _templateObject4(){return data};return data}function _templateObject3(){var data=_taggedTemplateLiteral(["\n        <div class=\"body-text\">\n          Looks like you have no webhooks yet. Get started by configuring a\n          <a href=\"/config/integrations\">webhook-based integration</a> or by\n          creating a <a href=\"/config/automation/new\">webhook automation</a>.\n        </div>\n      "]);_templateObject3=function _templateObject3(){return data};return data}function _templateObject2(){var data=_taggedTemplateLiteral(["\n        <div class=\"body-text\">Loading\u2026</div>\n      "]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n      ","\n      <ha-card header=\"Webhooks\">\n        <div class=\"body\">\n          Anything that is configured to be triggered by a webhook can be given\n          a publicly accessible URL to allow you to send data back to Home\n          Assistant from anywhere, without exposing your instance to the\n          internet.\n        </div>\n\n        ","\n\n        <div class=\"footer\">\n          <a href=\"https://www.nabucasa.com/config/webhooks\" target=\"_blank\">\n            Learn more about creating webhook-powered automations.\n          </a>\n        </div>\n      </ha-card>\n    "]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"===typeof call)){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if("undefined"!==typeof Reflect&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(null===object)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var cloud_webhooks_CloudWebhooks=function(_LitElement){_inherits(CloudWebhooks,_LitElement);_createClass(CloudWebhooks,null,[{key:"properties",get:function get(){return{hass:{},cloudStatus:{},_cloudHooks:{},_localHooks:{},_progress:{}}}}]);function CloudWebhooks(){var _this;_classCallCheck(this,CloudWebhooks);_this=_possibleConstructorReturn(this,_getPrototypeOf(CloudWebhooks).call(this));_this.hass=void 0;_this.cloudStatus=void 0;_this._cloudHooks=void 0;_this._localHooks=void 0;_this._progress=void 0;_this._progress=[];return _this}_createClass(CloudWebhooks,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(CloudWebhooks.prototype),"connectedCallback",this).call(this);this._fetchData()}},{key:"render",value:function render(){return Object(lit_element.e)(_templateObject(),this.renderStyle(),this._renderBody())}},{key:"updated",value:function updated(changedProps){_get(_getPrototypeOf(CloudWebhooks.prototype),"updated",this).call(this,changedProps);if(changedProps.has("cloudStatus")&&this.cloudStatus){this._cloudHooks=this.cloudStatus.prefs.cloudhooks||{}}}},{key:"_renderBody",value:function _renderBody(){var _this2=this;if(!this.cloudStatus||!this._localHooks||!this._cloudHooks){return Object(lit_element.e)(_templateObject2())}if(0===this._localHooks.length){return Object(lit_element.e)(_templateObject3())}return this._localHooks.map(function(entry){return Object(lit_element.e)(_templateObject4(),entry,entry.name,entry.domain===entry.name.toLowerCase()?"":" (".concat(entry.domain,")"),entry.webhook_id,_this2._progress.includes(entry.webhook_id)?Object(lit_element.e)(_templateObject5()):_this2._cloudHooks[entry.webhook_id]?Object(lit_element.e)(_templateObject6(),_this2._handleManageButton):Object(lit_element.e)(_templateObject7(),_this2._enableWebhook))})}},{key:"_showDialog",value:function _showDialog(webhookId){var _this3=this,webhook=this._localHooks.find(function(ent){return ent.webhook_id===webhookId}),cloudhook=this._cloudHooks[webhookId],params={webhook:webhook,cloudhook:cloudhook,disableHook:function disableHook(){return _this3._disableWebhook(webhookId)}};Object(fire_event.a)(this,"manage-cloud-webhook",params)}},{key:"_handleManageButton",value:function _handleManageButton(ev){var entry=ev.currentTarget.parentElement.entry;this._showDialog(entry.webhook_id)}},{key:"_enableWebhook",value:function(){var _enableWebhook2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(ev){var entry,updatedWebhook;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:entry=ev.currentTarget.parentElement.entry;this._progress=[].concat(_toConsumableArray(this._progress),[entry.webhook_id]);_context.prev=2;_context.next=5;return createCloudhook(this.hass,entry.webhook_id);case 5:updatedWebhook=_context.sent;_context.next=12;break;case 8:_context.prev=8;_context.t0=_context["catch"](2);alert(_context.t0.message);return _context.abrupt("return");case 12:_context.prev=12;this._progress=this._progress.filter(function(wid){return wid!==entry.webhook_id});return _context.finish(12);case 15:this._cloudHooks=Object.assign({},this._cloudHooks,_defineProperty({},entry.webhook_id,updatedWebhook));if(0===this._progress.length){this._showDialog(entry.webhook_id)}case 17:case"end":return _context.stop();}}},_callee,this,[[2,8,12,15]])}));function _enableWebhook(_x){return _enableWebhook2.apply(this,arguments)}return _enableWebhook}()},{key:"_disableWebhook",value:function(){var _disableWebhook2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(webhookId){var _ref,disabledHook,newHooks;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:this._progress=[].concat(_toConsumableArray(this._progress),[webhookId]);_context2.prev=1;_context2.next=4;return deleteCloudhook(this.hass,webhookId);case 4:_context2.next=10;break;case 6:_context2.prev=6;_context2.t0=_context2["catch"](1);alert("Failed to disable webhook: ".concat(_context2.t0.message));return _context2.abrupt("return");case 10:_context2.prev=10;this._progress=this._progress.filter(function(wid){return wid!==webhookId});return _context2.finish(10);case 13:_ref=this._cloudHooks,disabledHook=_ref[webhookId],newHooks=_objectWithoutProperties(_ref,[webhookId].map(_toPropertyKey));this._cloudHooks=newHooks;case 15:case"end":return _context2.stop();}}},_callee2,this,[[1,6,10,13]])}));function _disableWebhook(_x2){return _disableWebhook2.apply(this,arguments)}return _disableWebhook}()},{key:"_fetchData",value:function(){var _fetchData2=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!("webhook"in this.hass.config.components)){_context3.next=6;break}_context3.next=3;return fetchWebhooks(this.hass);case 3:_context3.t0=_context3.sent;_context3.next=7;break;case 6:_context3.t0=[];case 7:this._localHooks=_context3.t0;case 8:case"end":return _context3.stop();}}},_callee3,this)}));function _fetchData(){return _fetchData2.apply(this,arguments)}return _fetchData}()},{key:"renderStyle",value:function renderStyle(){return Object(lit_element.e)(_templateObject8())}}]);return CloudWebhooks}(lit_element.a);customElements.define("cloud-webhooks",cloud_webhooks_CloudWebhooks);var format_date_time=__webpack_require__(186),events_mixin=__webpack_require__(81),localize_mixin=__webpack_require__(107),fetchSubscriptionInfo=function fetchSubscriptionInfo(hass){return hass.callWS({type:"cloud/subscription"})},updatePref=function updatePref(hass,prefs){return hass.callWS(Object.assign({type:"cloud/update_prefs"},prefs))},repeat=__webpack_require__(316),paper_tooltip=__webpack_require__(245),ha_state_icon=__webpack_require__(379),compute_state_name=__webpack_require__(159),compute_domain=__webpack_require__(165),entity_filter_generateFilter=function generateFilter(includeDomains,includeEntities,excludeDomains,excludeEntities){var includeDomainsSet=new Set(includeDomains),includeEntitiesSet=new Set(includeEntities),excludeDomainsSet=new Set(excludeDomains),excludeEntitiesSet=new Set(excludeEntities),haveInclude=0<includeDomainsSet.size||0<includeEntitiesSet.size,haveExclude=0<excludeDomainsSet.size||0<excludeEntitiesSet.size;if(!haveInclude&&!haveExclude){return function(){return!0}}if(haveInclude&&!haveExclude){return function(entityId){return includeEntitiesSet.has(entityId)||includeDomainsSet.has(Object(compute_domain.a)(entityId))}}if(!haveInclude&&haveExclude){return function(entityId){return!excludeEntitiesSet.has(entityId)&&!excludeDomainsSet.has(Object(compute_domain.a)(entityId))}}if(includeDomainsSet.size){return function(entityId){return includeDomainsSet.has(Object(compute_domain.a)(entityId))?!excludeEntitiesSet.has(entityId):includeEntitiesSet.has(entityId)}}if(excludeDomainsSet.size){return function(entityId){return excludeDomainsSet.has(Object(compute_domain.a)(entityId))?includeEntitiesSet.has(entityId):!excludeEntitiesSet.has(entityId)}}return function(entityId){return includeEntitiesSet.has(entityId)}};function cloud_exposed_entities_typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){cloud_exposed_entities_typeof=function _typeof(obj){return typeof obj}}else{cloud_exposed_entities_typeof=function _typeof(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return cloud_exposed_entities_typeof(obj)}function cloud_exposed_entities_templateObject4(){var data=cloud_exposed_entities_taggedTemplateLiteral(["\n      <style>\n        ha-state-icon {\n          color: var(--primary-text-color);\n          cursor: pointer;\n        }\n      </style>\n    "]);cloud_exposed_entities_templateObject4=function _templateObject4(){return data};return data}function cloud_exposed_entities_templateObject3(){var data=cloud_exposed_entities_taggedTemplateLiteral(["\n          <span>\n            <ha-state-icon\n              .stateObj=\"","\"\n              @click=\"","\"\n            ></ha-state-icon>\n            <paper-tooltip position=\"bottom\">","</paper-tooltip>\n          </span>\n        "]);cloud_exposed_entities_templateObject3=function _templateObject3(){return data};return data}function cloud_exposed_entities_templateObject2(){var data=cloud_exposed_entities_taggedTemplateLiteral(["\n      ","\n      ","\n    "]);cloud_exposed_entities_templateObject2=function _templateObject2(){return data};return data}function cloud_exposed_entities_templateObject(){var data=cloud_exposed_entities_taggedTemplateLiteral([""]);cloud_exposed_entities_templateObject=function _templateObject(){return data};return data}function cloud_exposed_entities_taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function cloud_exposed_entities_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function cloud_exposed_entities_defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function cloud_exposed_entities_createClass(Constructor,protoProps,staticProps){if(protoProps)cloud_exposed_entities_defineProperties(Constructor.prototype,protoProps);if(staticProps)cloud_exposed_entities_defineProperties(Constructor,staticProps);return Constructor}function cloud_exposed_entities_possibleConstructorReturn(self,call){if(call&&("object"===cloud_exposed_entities_typeof(call)||"function"===typeof call)){return call}return cloud_exposed_entities_assertThisInitialized(self)}function cloud_exposed_entities_assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function cloud_exposed_entities_get(target,property,receiver){if("undefined"!==typeof Reflect&&Reflect.get){cloud_exposed_entities_get=Reflect.get}else{cloud_exposed_entities_get=function _get(target,property,receiver){var base=cloud_exposed_entities_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return cloud_exposed_entities_get(target,property,receiver||target)}function cloud_exposed_entities_superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=cloud_exposed_entities_getPrototypeOf(object);if(null===object)break}return object}function cloud_exposed_entities_getPrototypeOf(o){cloud_exposed_entities_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return cloud_exposed_entities_getPrototypeOf(o)}function cloud_exposed_entities_inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)cloud_exposed_entities_setPrototypeOf(subClass,superClass)}function cloud_exposed_entities_setPrototypeOf(o,p){cloud_exposed_entities_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return cloud_exposed_entities_setPrototypeOf(o,p)}var cloud_exposed_entities_CloudExposedEntities=function(_LitElement){cloud_exposed_entities_inherits(CloudExposedEntities,_LitElement);function CloudExposedEntities(){var _getPrototypeOf2,_this;cloud_exposed_entities_classCallCheck(this,CloudExposedEntities);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=cloud_exposed_entities_possibleConstructorReturn(this,(_getPrototypeOf2=cloud_exposed_entities_getPrototypeOf(CloudExposedEntities)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.hass=void 0;_this.filter=void 0;_this.supportedDomains=void 0;_this._filterFunc=void 0;return _this}cloud_exposed_entities_createClass(CloudExposedEntities,[{key:"render",value:function render(){var _this2=this;if(!this._filterFunc){return Object(lit_element.e)(cloud_exposed_entities_templateObject())}var states=[];Object.keys(this.hass.states).forEach(function(entityId){if(_this2._filterFunc(entityId)){var stateObj=_this2.hass.states[entityId];states.push([Object(compute_state_name.a)(stateObj),stateObj])}});states.sort();return Object(lit_element.e)(cloud_exposed_entities_templateObject2(),this.renderStyle(),Object(repeat.a)(states,function(stateInfo){return stateInfo[1].entity_id},function(stateInfo){return Object(lit_element.e)(cloud_exposed_entities_templateObject3(),stateInfo[1],_this2._handleMoreInfo,stateInfo[0])}))}},{key:"updated",value:function updated(changedProperties){cloud_exposed_entities_get(cloud_exposed_entities_getPrototypeOf(CloudExposedEntities.prototype),"updated",this).call(this,changedProperties);if(changedProperties.has("filter")&&changedProperties.get("filter")!==this.filter){var filter=this.filter,filterFunc=entity_filter_generateFilter(filter.include_domains,filter.include_entities,filter.exclude_domains,filter.exclude_entities),domains=new Set(this.supportedDomains);this._filterFunc=function(entityId){var domain=entityId.split(".")[0];return domains.has(domain)&&filterFunc(entityId)}}}},{key:"_handleMoreInfo",value:function _handleMoreInfo(ev){Object(fire_event.a)(this,"hass-more-info",{entityId:ev.currentTarget.stateObj.entity_id})}},{key:"renderStyle",value:function renderStyle(){return Object(lit_element.e)(cloud_exposed_entities_templateObject4())}}],[{key:"properties",get:function get(){return{hass:{},filter:{},supportedDomains:{},_filterFunc:{}}}}]);return CloudExposedEntities}(lit_element.a);customElements.define("cloud-exposed-entities",cloud_exposed_entities_CloudExposedEntities);function cloud_alexa_pref_typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){cloud_alexa_pref_typeof=function _typeof(obj){return typeof obj}}else{cloud_alexa_pref_typeof=function _typeof(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return cloud_alexa_pref_typeof(obj)}function cloud_alexa_pref_templateObject4(){var data=cloud_alexa_pref_taggedTemplateLiteral(["\n      <style>\n        a {\n          color: var(--primary-color);\n        }\n        paper-card > paper-toggle-button {\n          position: absolute;\n          right: 8px;\n          top: 16px;\n        }\n      </style>\n    "]);cloud_alexa_pref_templateObject4=function _templateObject4(){return data};return data}function cloud_alexa_pref_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function cloud_alexa_pref_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){cloud_alexa_pref_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){cloud_alexa_pref_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function cloud_alexa_pref_templateObject3(){var data=cloud_alexa_pref_taggedTemplateLiteral(["\n                <p>Exposed entities:</p>\n                <cloud-exposed-entities\n                  .hass=\"","\"\n                  .filter=\"","\"\n                  .supportedDomains=\"","\"\n                ></cloud-exposed-entities>\n              "]);cloud_alexa_pref_templateObject3=function _templateObject3(){return data};return data}function cloud_alexa_pref_templateObject2(){var data=cloud_alexa_pref_taggedTemplateLiteral(["\n      ","\n      <paper-card heading=\"Alexa\">\n        <paper-toggle-button\n          .checked=\"","\"\n          @change=\"","\"\n        ></paper-toggle-button>\n        <div class=\"card-content\">\n          With the Alexa integration for Home Assistant Cloud you'll be able to\n          control all your Home Assistant devices via any Alexa-enabled device.\n          <ul>\n            <li>\n              To activate, search in the Alexa app for the Home Assistant Smart\n              Home skill.\n            </li>\n            <li>\n              <a\n                href=\"https://www.home-assistant.io/cloud/alexa/\"\n                target=\"_blank\"\n              >\n                Config documentation\n              </a>\n            </li>\n          </ul>\n          <em\n            >This integration requires an Alexa-enabled device like the Amazon\n            Echo.</em\n          >\n          ","\n        </div>\n      </paper-card>\n    "]);cloud_alexa_pref_templateObject2=function _templateObject2(){return data};return data}function cloud_alexa_pref_templateObject(){var data=cloud_alexa_pref_taggedTemplateLiteral([""]);cloud_alexa_pref_templateObject=function _templateObject(){return data};return data}function cloud_alexa_pref_taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function cloud_alexa_pref_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function cloud_alexa_pref_defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function cloud_alexa_pref_createClass(Constructor,protoProps,staticProps){if(protoProps)cloud_alexa_pref_defineProperties(Constructor.prototype,protoProps);if(staticProps)cloud_alexa_pref_defineProperties(Constructor,staticProps);return Constructor}function cloud_alexa_pref_possibleConstructorReturn(self,call){if(call&&("object"===cloud_alexa_pref_typeof(call)||"function"===typeof call)){return call}return cloud_alexa_pref_assertThisInitialized(self)}function cloud_alexa_pref_assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function cloud_alexa_pref_getPrototypeOf(o){cloud_alexa_pref_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return cloud_alexa_pref_getPrototypeOf(o)}function cloud_alexa_pref_inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)cloud_alexa_pref_setPrototypeOf(subClass,superClass)}function cloud_alexa_pref_setPrototypeOf(o,p){cloud_alexa_pref_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return cloud_alexa_pref_setPrototypeOf(o,p)}var cloud_alexa_pref_CloudAlexaPref=function(_LitElement){cloud_alexa_pref_inherits(CloudAlexaPref,_LitElement);function CloudAlexaPref(){var _getPrototypeOf2,_this;cloud_alexa_pref_classCallCheck(this,CloudAlexaPref);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=cloud_alexa_pref_possibleConstructorReturn(this,(_getPrototypeOf2=cloud_alexa_pref_getPrototypeOf(CloudAlexaPref)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.hass=void 0;_this.cloudStatus=void 0;return _this}cloud_alexa_pref_createClass(CloudAlexaPref,[{key:"render",value:function render(){if(!this.cloudStatus){return Object(lit_element.e)(cloud_alexa_pref_templateObject())}var enabled=this.cloudStatus.prefs.alexa_enabled;return Object(lit_element.e)(cloud_alexa_pref_templateObject2(),this.renderStyle(),enabled,this._toggleChanged,enabled?Object(lit_element.e)(cloud_alexa_pref_templateObject3(),this.hass,this.cloudStatus.alexa_entities,this.cloudStatus.alexa_domains):"")}},{key:"_toggleChanged",value:function(){var _toggleChanged2=cloud_alexa_pref_asyncToGenerator(regeneratorRuntime.mark(function _callee(ev){var toggle;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:toggle=ev.target;_context.prev=1;_context.next=4;return updatePref(this.hass,{alexa_enabled:toggle.checked});case 4:Object(fire_event.a)(this,"ha-refresh-cloud-status");_context.next=10;break;case 7:_context.prev=7;_context.t0=_context["catch"](1);toggle.checked=!toggle.checked;case 10:case"end":return _context.stop();}}},_callee,this,[[1,7]])}));function _toggleChanged(_x){return _toggleChanged2.apply(this,arguments)}return _toggleChanged}()},{key:"renderStyle",value:function renderStyle(){return Object(lit_element.e)(cloud_alexa_pref_templateObject4())}}],[{key:"properties",get:function get(){return{hass:{},cloudStatus:{}}}}]);return CloudAlexaPref}(lit_element.a);customElements.define("cloud-alexa-pref",cloud_alexa_pref_CloudAlexaPref);function cloud_google_pref_typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){cloud_google_pref_typeof=function _typeof(obj){return typeof obj}}else{cloud_google_pref_typeof=function _typeof(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return cloud_google_pref_typeof(obj)}function cloud_google_pref_templateObject4(){var data=cloud_google_pref_taggedTemplateLiteral(["\n      <style>\n        a {\n          color: var(--primary-color);\n        }\n        paper-card > paper-toggle-button {\n          position: absolute;\n          right: 8px;\n          top: 16px;\n        }\n        ha-call-api-button {\n          color: var(--primary-color);\n          font-weight: 500;\n        }\n        .unlock {\n          display: flex;\n          flex-direction: row;\n          padding-top: 16px;\n        }\n        .unlock > div {\n          flex: 1;\n        }\n      </style>\n    "]);cloud_google_pref_templateObject4=function _templateObject4(){return data};return data}function cloud_google_pref_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0})}else{obj[key]=value}return obj}function cloud_google_pref_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function cloud_google_pref_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){cloud_google_pref_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){cloud_google_pref_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function cloud_google_pref_templateObject3(){var data=cloud_google_pref_taggedTemplateLiteral(["\n                <div class=\"unlock\">\n                  <div>Allow unlocking locks</div>\n                  <paper-toggle-button\n                    id=\"google_allow_unlock\"\n                    .checked=\"","\"\n                    @change=\"","\"\n                  ></paper-toggle-button>\n                </div>\n                <p>Exposed entities:</p>\n                <cloud-exposed-entities\n                  .hass=\"","\"\n                  .filter=\"","\"\n                  .supportedDomains=\"","\"\n                ></cloud-exposed-entities>\n              "]);cloud_google_pref_templateObject3=function _templateObject3(){return data};return data}function cloud_google_pref_templateObject2(){var data=cloud_google_pref_taggedTemplateLiteral(["\n      ","\n      <paper-card heading=\"Google Assistant\">\n        <paper-toggle-button\n          id=\"google_enabled\"\n          .checked=\"","\"\n          @change=\"","\"\n        ></paper-toggle-button>\n        <div class=\"card-content\">\n          With the Google Assistant integration for Home Assistant Cloud you'll\n          be able to control all your Home Assistant devices via any Google\n          Assistant-enabled device.\n          <ul>\n            <li>\n              <a\n                href=\"https://assistant.google.com/services/a/uid/00000091fd5fb875?hl=en-US\"\n                target=\"_blank\"\n              >\n                Activate the Home Assistant skill for Google Assistant\n              </a>\n            </li>\n            <li>\n              <a\n                href=\"https://www.home-assistant.io/cloud/google_assistant/\"\n                target=\"_blank\"\n              >\n                Config documentation\n              </a>\n            </li>\n          </ul>\n          <em\n            >This integration requires a Google Assistant-enabled device like\n            the Google Home or Android phone.</em\n          >\n          ","\n        </div>\n        <div class=\"card-actions\">\n          <ha-call-api-button\n            .hass=\"","\"\n            .disabled=\"","\"\n            path=\"cloud/google_actions/sync\"\n            >Sync devices</ha-call-api-button\n          >\n        </div>\n      </paper-card>\n    "]);cloud_google_pref_templateObject2=function _templateObject2(){return data};return data}function cloud_google_pref_templateObject(){var data=cloud_google_pref_taggedTemplateLiteral([""]);cloud_google_pref_templateObject=function _templateObject(){return data};return data}function cloud_google_pref_taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function cloud_google_pref_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function cloud_google_pref_defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function cloud_google_pref_createClass(Constructor,protoProps,staticProps){if(protoProps)cloud_google_pref_defineProperties(Constructor.prototype,protoProps);if(staticProps)cloud_google_pref_defineProperties(Constructor,staticProps);return Constructor}function cloud_google_pref_possibleConstructorReturn(self,call){if(call&&("object"===cloud_google_pref_typeof(call)||"function"===typeof call)){return call}return cloud_google_pref_assertThisInitialized(self)}function cloud_google_pref_assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function cloud_google_pref_getPrototypeOf(o){cloud_google_pref_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return cloud_google_pref_getPrototypeOf(o)}function cloud_google_pref_inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)cloud_google_pref_setPrototypeOf(subClass,superClass)}function cloud_google_pref_setPrototypeOf(o,p){cloud_google_pref_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return cloud_google_pref_setPrototypeOf(o,p)}var cloud_google_pref_CloudGooglePref=function(_LitElement){cloud_google_pref_inherits(CloudGooglePref,_LitElement);function CloudGooglePref(){var _getPrototypeOf2,_this;cloud_google_pref_classCallCheck(this,CloudGooglePref);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=cloud_google_pref_possibleConstructorReturn(this,(_getPrototypeOf2=cloud_google_pref_getPrototypeOf(CloudGooglePref)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.hass=void 0;_this.cloudStatus=void 0;return _this}cloud_google_pref_createClass(CloudGooglePref,[{key:"render",value:function render(){if(!this.cloudStatus){return Object(lit_element.e)(cloud_google_pref_templateObject())}var _this$cloudStatus$pre=this.cloudStatus.prefs,google_enabled=_this$cloudStatus$pre.google_enabled,google_allow_unlock=_this$cloudStatus$pre.google_allow_unlock;return Object(lit_element.e)(cloud_google_pref_templateObject2(),this.renderStyle(),google_enabled,this._toggleChanged,google_enabled?Object(lit_element.e)(cloud_google_pref_templateObject3(),google_allow_unlock,this._toggleChanged,this.hass,this.cloudStatus.google_entities,this.cloudStatus.google_domains):"",this.hass,!google_enabled)}},{key:"_toggleChanged",value:function(){var _toggleChanged2=cloud_google_pref_asyncToGenerator(regeneratorRuntime.mark(function _callee(ev){var toggle;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:toggle=ev.target;_context.prev=1;_context.next=4;return updatePref(this.hass,cloud_google_pref_defineProperty({},toggle.id,toggle.checked));case 4:Object(fire_event.a)(this,"ha-refresh-cloud-status");_context.next=10;break;case 7:_context.prev=7;_context.t0=_context["catch"](1);toggle.checked=!toggle.checked;case 10:case"end":return _context.stop();}}},_callee,this,[[1,7]])}));function _toggleChanged(_x){return _toggleChanged2.apply(this,arguments)}return _toggleChanged}()},{key:"renderStyle",value:function renderStyle(){return Object(lit_element.e)(cloud_google_pref_templateObject4())}}],[{key:"properties",get:function get(){return{hass:{},cloudStatus:{}}}}]);return CloudGooglePref}(lit_element.a);customElements.define("cloud-google-pref",cloud_google_pref_CloudGooglePref);function ha_config_cloud_account_typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){ha_config_cloud_account_typeof=function _typeof(obj){return typeof obj}}else{ha_config_cloud_account_typeof=function _typeof(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return ha_config_cloud_account_typeof(obj)}function ha_config_cloud_account_templateObject(){var data=ha_config_cloud_account_taggedTemplateLiteral(["\n      <style include=\"iron-flex ha-style\">\n        [slot=\"introduction\"] {\n          margin: -1em 0;\n        }\n        [slot=\"introduction\"] a {\n          color: var(--primary-color);\n        }\n        .content {\n          padding-bottom: 24px;\n          direction: ltr;\n        }\n        paper-card {\n          display: block;\n        }\n        .account-row {\n          display: flex;\n          padding: 0 16px;\n        }\n        mwc-button {\n          align-self: center;\n        }\n        .soon {\n          font-style: italic;\n          margin-top: 24px;\n          text-align: center;\n        }\n        .nowrap {\n          white-space: nowrap;\n        }\n        .wrap {\n          white-space: normal;\n        }\n        .status {\n          text-transform: capitalize;\n          padding: 16px;\n        }\n      </style>\n      <hass-subpage header=\"Home Assistant Cloud\">\n        <div class=\"content\">\n          <ha-config-section is-wide=\"[[isWide]]\">\n            <span slot=\"header\">Home Assistant Cloud</span>\n            <div slot=\"introduction\">\n              <p>\n                Thank you for being part of Home Assistant Cloud. It's because\n                of people like you that we are able to make a great home\n                automation experience for everyone. Thank you!\n              </p>\n            </div>\n\n            <paper-card heading=\"Nabu Casa Account\">\n              <div class=\"account-row\">\n                <paper-item-body two-line=\"\">\n                  [[cloudStatus.email]]\n                  <div secondary=\"\" class=\"wrap\">\n                    [[_formatSubscription(_subscription)]]\n                  </div>\n                </paper-item-body>\n              </div>\n\n              <div class=\"account-row\">\n                <paper-item-body> Cloud connection status </paper-item-body>\n                <div class=\"status\">[[cloudStatus.cloud]]</div>\n              </div>\n\n              <div class=\"card-actions\">\n                <a href=\"https://account.nabucasa.com\" target=\"_blank\"\n                  ><mwc-button>Manage Account</mwc-button></a\n                >\n                <mwc-button style=\"float: right\" on-click=\"handleLogout\"\n                  >Sign out</mwc-button\n                >\n              </div>\n            </paper-card>\n          </ha-config-section>\n\n          <ha-config-section is-wide=\"[[isWide]]\">\n            <span slot=\"header\">Integrations</span>\n            <div slot=\"introduction\">\n              <p>\n                Integrations for Home Assistant Cloud allow you to connect with\n                services in the cloud without having to expose your Home\n                Assistant instance publicly on the internet.\n              </p>\n              <p>\n                Check the website for\n                <a href=\"https://www.nabucasa.com\" target=\"_blank\"\n                  >all available features</a\n                >.\n              </p>\n            </div>\n\n            <cloud-alexa-pref\n              hass=\"[[hass]]\"\n              cloud-status=\"[[cloudStatus]]\"\n            ></cloud-alexa-pref>\n\n            <cloud-google-pref\n              hass=\"[[hass]]\"\n              cloud-status=\"[[cloudStatus]]\"\n            ></cloud-google-pref>\n\n            <cloud-webhooks\n              hass=\"[[hass]]\"\n              cloud-status=\"[[cloudStatus]]\"\n            ></cloud-webhooks>\n          </ha-config-section>\n        </div>\n      </hass-subpage>\n    "]);ha_config_cloud_account_templateObject=function _templateObject(){return data};return data}function ha_config_cloud_account_taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function ha_config_cloud_account_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function ha_config_cloud_account_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){ha_config_cloud_account_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){ha_config_cloud_account_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function ha_config_cloud_account_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function ha_config_cloud_account_defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function ha_config_cloud_account_createClass(Constructor,protoProps,staticProps){if(protoProps)ha_config_cloud_account_defineProperties(Constructor.prototype,protoProps);if(staticProps)ha_config_cloud_account_defineProperties(Constructor,staticProps);return Constructor}function ha_config_cloud_account_possibleConstructorReturn(self,call){if(call&&("object"===ha_config_cloud_account_typeof(call)||"function"===typeof call)){return call}return ha_config_cloud_account_assertThisInitialized(self)}function ha_config_cloud_account_assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function ha_config_cloud_account_get(target,property,receiver){if("undefined"!==typeof Reflect&&Reflect.get){ha_config_cloud_account_get=Reflect.get}else{ha_config_cloud_account_get=function _get(target,property,receiver){var base=ha_config_cloud_account_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return ha_config_cloud_account_get(target,property,receiver||target)}function ha_config_cloud_account_superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=ha_config_cloud_account_getPrototypeOf(object);if(null===object)break}return object}function ha_config_cloud_account_getPrototypeOf(o){ha_config_cloud_account_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return ha_config_cloud_account_getPrototypeOf(o)}function ha_config_cloud_account_inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)ha_config_cloud_account_setPrototypeOf(subClass,superClass)}function ha_config_cloud_account_setPrototypeOf(o,p){ha_config_cloud_account_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return ha_config_cloud_account_setPrototypeOf(o,p)}var registeredWebhookDialog=!1,ha_config_cloud_account_HaConfigCloudAccount=function(_EventsMixin){ha_config_cloud_account_inherits(HaConfigCloudAccount,_EventsMixin);function HaConfigCloudAccount(){ha_config_cloud_account_classCallCheck(this,HaConfigCloudAccount);return ha_config_cloud_account_possibleConstructorReturn(this,ha_config_cloud_account_getPrototypeOf(HaConfigCloudAccount).apply(this,arguments))}ha_config_cloud_account_createClass(HaConfigCloudAccount,[{key:"ready",value:function ready(){ha_config_cloud_account_get(ha_config_cloud_account_getPrototypeOf(HaConfigCloudAccount.prototype),"ready",this).call(this);this._fetchSubscriptionInfo()}},{key:"connectedCallback",value:function connectedCallback(){ha_config_cloud_account_get(ha_config_cloud_account_getPrototypeOf(HaConfigCloudAccount.prototype),"connectedCallback",this).call(this);if(!registeredWebhookDialog){registeredWebhookDialog=!0;Object(fire_event.a)(this,"register-dialog",{dialogShowEvent:"manage-cloud-webhook",dialogTag:"cloud-webhook-manage-dialog",dialogImport:function dialogImport(){return Promise.all([__webpack_require__.e(1),__webpack_require__.e(15)]).then(__webpack_require__.bind(null,772))}})}}},{key:"_fetchSubscriptionInfo",value:function(){var _fetchSubscriptionInfo2=ha_config_cloud_account_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchSubscriptionInfo(this.hass);case 2:this._subscription=_context.sent;if(this._subscription.provider&&this.cloudStatus&&"connected"!==this.cloudStatus.cloud){this.fire("ha-refresh-cloud-status")}case 4:case"end":return _context.stop();}}},_callee,this)}));function _fetchSubscriptionInfo(){return _fetchSubscriptionInfo2.apply(this,arguments)}return _fetchSubscriptionInfo}()},{key:"handleLogout",value:function handleLogout(){var _this=this;this.hass.callApi("post","cloud/logout").then(function(){return _this.fire("ha-refresh-cloud-status")})}},{key:"_formatSubscription",value:function _formatSubscription(subInfo){if(null===subInfo){return"Fetching subscription\u2026"}var description=subInfo.human_description;if(subInfo.plan_renewal_date){description=description.replace("{periodEnd}",Object(format_date_time.a)(new Date(1e3*subInfo.plan_renewal_date),this.hass.language))}return description}}],[{key:"template",get:function get(){return Object(html_tag.a)(ha_config_cloud_account_templateObject())}},{key:"properties",get:function get(){return{hass:Object,isWide:Boolean,cloudStatus:Object,_subscription:{type:Object,value:null}}}}]);return HaConfigCloudAccount}(Object(events_mixin.a)(Object(localize_mixin.a)(polymer_element.a)));customElements.define("ha-config-cloud-account",ha_config_cloud_account_HaConfigCloudAccount);var paper_input=__webpack_require__(80),ha_progress_button=__webpack_require__(211);function ha_config_cloud_forgot_password_typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){ha_config_cloud_forgot_password_typeof=function _typeof(obj){return typeof obj}}else{ha_config_cloud_forgot_password_typeof=function _typeof(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return ha_config_cloud_forgot_password_typeof(obj)}function ha_config_cloud_forgot_password_templateObject(){var data=ha_config_cloud_forgot_password_taggedTemplateLiteral(["\n      <style include=\"iron-flex ha-style\">\n        .content {\n          padding-bottom: 24px;\n          direction: ltr;\n        }\n\n        paper-card {\n          display: block;\n          max-width: 600px;\n          margin: 0 auto;\n          margin-top: 24px;\n        }\n        h1 {\n          @apply --paper-font-headline;\n          margin: 0;\n        }\n        .error {\n          color: var(--google-red-500);\n        }\n        .card-actions {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n        .card-actions a {\n          color: var(--primary-text-color);\n        }\n        [hidden] {\n          display: none;\n        }\n      </style>\n      <hass-subpage header=\"Forgot Password\">\n        <div class=\"content\">\n          <paper-card>\n            <div class=\"card-content\">\n              <h1>Forgot your password?</h1>\n              <p>\n                Enter your email address and we will send you a link to reset\n                your password.\n              </p>\n              <div class=\"error\" hidden$=\"[[!_error]]\">[[_error]]</div>\n              <paper-input\n                autofocus=\"\"\n                id=\"email\"\n                label=\"E-mail\"\n                value=\"{{email}}\"\n                type=\"email\"\n                on-keydown=\"_keyDown\"\n                error-message=\"Invalid email\"\n              ></paper-input>\n            </div>\n            <div class=\"card-actions\">\n              <ha-progress-button\n                on-click=\"_handleEmailPasswordReset\"\n                progress=\"[[_requestInProgress]]\"\n                >Send reset email</ha-progress-button\n              >\n            </div>\n          </paper-card>\n        </div>\n      </hass-subpage>\n    "]);ha_config_cloud_forgot_password_templateObject=function _templateObject(){return data};return data}function ha_config_cloud_forgot_password_taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function ha_config_cloud_forgot_password_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function ha_config_cloud_forgot_password_defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function ha_config_cloud_forgot_password_createClass(Constructor,protoProps,staticProps){if(protoProps)ha_config_cloud_forgot_password_defineProperties(Constructor.prototype,protoProps);if(staticProps)ha_config_cloud_forgot_password_defineProperties(Constructor,staticProps);return Constructor}function ha_config_cloud_forgot_password_possibleConstructorReturn(self,call){if(call&&("object"===ha_config_cloud_forgot_password_typeof(call)||"function"===typeof call)){return call}return ha_config_cloud_forgot_password_assertThisInitialized(self)}function ha_config_cloud_forgot_password_assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function ha_config_cloud_forgot_password_getPrototypeOf(o){ha_config_cloud_forgot_password_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return ha_config_cloud_forgot_password_getPrototypeOf(o)}function ha_config_cloud_forgot_password_inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)ha_config_cloud_forgot_password_setPrototypeOf(subClass,superClass)}function ha_config_cloud_forgot_password_setPrototypeOf(o,p){ha_config_cloud_forgot_password_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return ha_config_cloud_forgot_password_setPrototypeOf(o,p)}var ha_config_cloud_forgot_password_HaConfigCloudForgotPassword=function(_EventsMixin){ha_config_cloud_forgot_password_inherits(HaConfigCloudForgotPassword,_EventsMixin);function HaConfigCloudForgotPassword(){ha_config_cloud_forgot_password_classCallCheck(this,HaConfigCloudForgotPassword);return ha_config_cloud_forgot_password_possibleConstructorReturn(this,ha_config_cloud_forgot_password_getPrototypeOf(HaConfigCloudForgotPassword).apply(this,arguments))}ha_config_cloud_forgot_password_createClass(HaConfigCloudForgotPassword,[{key:"_emailChanged",value:function _emailChanged(){this._error="";this.$.email.invalid=!1}},{key:"_keyDown",value:function _keyDown(ev){if(13===ev.keyCode){this._handleEmailPasswordReset();ev.preventDefault()}}},{key:"_handleEmailPasswordReset",value:function _handleEmailPasswordReset(){var _this=this;if(!this.email||!this.email.includes("@")){this.$.email.invalid=!0}if(this.$.email.invalid)return;this._requestInProgress=!0;this.hass.callApi("post","cloud/forgot_password",{email:this.email}).then(function(){_this._requestInProgress=!1;_this.fire("cloud-done",{flashMessage:"Check your email for instructions on how to reset your password."})},function(err){return _this.setProperties({_requestInProgress:!1,_error:err&&err.body&&err.body.message?err.body.message:"Unknown error"})})}}],[{key:"template",get:function get(){return Object(html_tag.a)(ha_config_cloud_forgot_password_templateObject())}},{key:"properties",get:function get(){return{hass:Object,email:{type:String,notify:!0,observer:"_emailChanged"},_requestInProgress:{type:Boolean,value:!1},_error:{type:String,value:""}}}}]);return HaConfigCloudForgotPassword}(Object(events_mixin.a)(polymer_element.a));customElements.define("ha-config-cloud-forgot-password",ha_config_cloud_forgot_password_HaConfigCloudForgotPassword);var paper_icon_button=__webpack_require__(96),paper_ripple=__webpack_require__(100),navigate_mixin=__webpack_require__(200),ha_icon_next=__webpack_require__(220);function ha_config_cloud_login_typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){ha_config_cloud_login_typeof=function _typeof(obj){return typeof obj}}else{ha_config_cloud_login_typeof=function _typeof(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return ha_config_cloud_login_typeof(obj)}function ha_config_cloud_login_templateObject(){var data=ha_config_cloud_login_taggedTemplateLiteral(["\n      <style include=\"iron-flex ha-style\">\n        .content {\n          padding-bottom: 24px;\n          direction: ltr;\n        }\n        [slot=\"introduction\"] {\n          margin: -1em 0;\n        }\n        [slot=\"introduction\"] a {\n          color: var(--primary-color);\n        }\n        paper-card {\n          display: block;\n        }\n        paper-item {\n          cursor: pointer;\n        }\n        paper-card:last-child {\n          margin-top: 24px;\n        }\n        h1 {\n          @apply --paper-font-headline;\n          margin: 0;\n        }\n        .error {\n          color: var(--google-red-500);\n        }\n        .card-actions {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n        [hidden] {\n          display: none;\n        }\n        .flash-msg {\n          padding-right: 44px;\n        }\n        .flash-msg paper-icon-button {\n          position: absolute;\n          top: 8px;\n          right: 8px;\n          color: var(--secondary-text-color);\n        }\n      </style>\n      <hass-subpage header=\"Cloud Login\">\n        <div class=\"content\">\n          <ha-config-section is-wide=\"[[isWide]]\">\n            <span slot=\"header\">Home Assistant Cloud</span>\n            <div slot=\"introduction\">\n              <p>\n                Home Assistant Cloud connects your local instance securely to\n                cloud-only services Amazon Alexa and Google Assistant.\n              </p>\n              <p>\n                This service is run by our partner\n                <a href=\"https://www.nabucasa.com\" target=\"_blank\"\n                  >Nabu&nbsp;Casa,&nbsp;Inc</a\n                >, a company founded by the founders of Home Assistant and\n                Hass.io.\n              </p>\n              <p>\n                Home Assistant Cloud is a subscription service with a free one\n                month trial. No payment information necessary.\n              </p>\n              <p>\n                <a href=\"https://www.nabucasa.com\" target=\"_blank\"\n                  >Learn more about Home Assistant Cloud</a\n                >\n              </p>\n            </div>\n\n            <paper-card hidden$=\"[[!flashMessage]]\">\n              <div class=\"card-content flash-msg\">\n                [[flashMessage]]\n                <paper-icon-button icon=\"hass:close\" on-click=\"_dismissFlash\"\n                  >Dismiss</paper-icon-button\n                >\n                <paper-ripple id=\"flashRipple\" noink=\"\"></paper-ripple>\n              </div>\n            </paper-card>\n\n            <paper-card>\n              <div class=\"card-content\">\n                <h1>Sign In</h1>\n                <div class=\"error\" hidden$=\"[[!_error]]\">[[_error]]</div>\n                <paper-input\n                  label=\"Email\"\n                  id=\"email\"\n                  type=\"email\"\n                  value=\"{{email}}\"\n                  on-keydown=\"_keyDown\"\n                  error-message=\"Invalid email\"\n                ></paper-input>\n                <paper-input\n                  id=\"password\"\n                  label=\"Password\"\n                  value=\"{{_password}}\"\n                  type=\"password\"\n                  on-keydown=\"_keyDown\"\n                  error-message=\"Passwords are at least 8 characters\"\n                ></paper-input>\n              </div>\n              <div class=\"card-actions\">\n                <ha-progress-button\n                  on-click=\"_handleLogin\"\n                  progress=\"[[_requestInProgress]]\"\n                  >Sign in</ha-progress-button\n                >\n                <button\n                  class=\"link\"\n                  hidden=\"[[_requestInProgress]]\"\n                  on-click=\"_handleForgotPassword\"\n                >\n                  forgot password?\n                </button>\n              </div>\n            </paper-card>\n\n            <paper-card>\n              <paper-item on-click=\"_handleRegister\">\n                <paper-item-body two-line=\"\">\n                  Start your free 1 month trial\n                  <div secondary=\"\">No payment information necessary</div>\n                </paper-item-body>\n                <ha-icon-next></ha-icon-next>\n              </paper-item>\n            </paper-card>\n          </ha-config-section>\n        </div>\n      </hass-subpage>\n    "]);ha_config_cloud_login_templateObject=function _templateObject(){return data};return data}function ha_config_cloud_login_taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function ha_config_cloud_login_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function ha_config_cloud_login_defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function ha_config_cloud_login_createClass(Constructor,protoProps,staticProps){if(protoProps)ha_config_cloud_login_defineProperties(Constructor.prototype,protoProps);if(staticProps)ha_config_cloud_login_defineProperties(Constructor,staticProps);return Constructor}function ha_config_cloud_login_possibleConstructorReturn(self,call){if(call&&("object"===ha_config_cloud_login_typeof(call)||"function"===typeof call)){return call}return ha_config_cloud_login_assertThisInitialized(self)}function ha_config_cloud_login_assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function ha_config_cloud_login_get(target,property,receiver){if("undefined"!==typeof Reflect&&Reflect.get){ha_config_cloud_login_get=Reflect.get}else{ha_config_cloud_login_get=function _get(target,property,receiver){var base=ha_config_cloud_login_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return ha_config_cloud_login_get(target,property,receiver||target)}function ha_config_cloud_login_superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=ha_config_cloud_login_getPrototypeOf(object);if(null===object)break}return object}function ha_config_cloud_login_getPrototypeOf(o){ha_config_cloud_login_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return ha_config_cloud_login_getPrototypeOf(o)}function ha_config_cloud_login_inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)ha_config_cloud_login_setPrototypeOf(subClass,superClass)}function ha_config_cloud_login_setPrototypeOf(o,p){ha_config_cloud_login_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return ha_config_cloud_login_setPrototypeOf(o,p)}var ha_config_cloud_login_HaConfigCloudLogin=function(_NavigateMixin){ha_config_cloud_login_inherits(HaConfigCloudLogin,_NavigateMixin);function HaConfigCloudLogin(){ha_config_cloud_login_classCallCheck(this,HaConfigCloudLogin);return ha_config_cloud_login_possibleConstructorReturn(this,ha_config_cloud_login_getPrototypeOf(HaConfigCloudLogin).apply(this,arguments))}ha_config_cloud_login_createClass(HaConfigCloudLogin,[{key:"connectedCallback",value:function connectedCallback(){var _this=this;ha_config_cloud_login_get(ha_config_cloud_login_getPrototypeOf(HaConfigCloudLogin.prototype),"connectedCallback",this).call(this);if(this.flashMessage){requestAnimationFrame(function(){return requestAnimationFrame(function(){return _this.$.flashRipple.simulatedRipple()})})}}},{key:"_inputChanged",value:function _inputChanged(){this.$.email.invalid=!1;this.$.password.invalid=!1;this._error=!1}},{key:"_keyDown",value:function _keyDown(ev){if(13===ev.keyCode){this._handleLogin();ev.preventDefault()}}},{key:"_handleLogin",value:function _handleLogin(){var _this2=this,invalid=!1;if(!this.email||!this.email.includes("@")){this.$.email.invalid=!0;this.$.email.focus();invalid=!0}if(8>this._password.length){this.$.password.invalid=!0;if(!invalid){invalid=!0;this.$.password.focus()}}if(invalid)return;this._requestInProgress=!0;this.hass.callApi("post","cloud/login",{email:this.email,password:this._password}).then(function(){_this2.fire("ha-refresh-cloud-status");_this2.setProperties({email:"",_password:""})},function(err){_this2._password="";var errCode=err&&err.body&&err.body.code;if("PasswordChangeRequired"===errCode){alert("You need to change your password before logging in.");_this2.navigate("/config/cloud/forgot-password");return}var props={_requestInProgress:!1,_error:err&&err.body&&err.body.message?err.body.message:"Unknown error"};if("UserNotConfirmed"===errCode){props._error="You need to confirm your email before logging in."}_this2.setProperties(props);_this2.$.email.focus()})}},{key:"_handleRegister",value:function _handleRegister(){this.flashMessage="";this.navigate("/config/cloud/register")}},{key:"_handleForgotPassword",value:function _handleForgotPassword(){this.flashMessage="";this.navigate("/config/cloud/forgot-password")}},{key:"_dismissFlash",value:function _dismissFlash(){var _this3=this;setTimeout(function(){_this3.flashMessage=""},200)}}],[{key:"template",get:function get(){return Object(html_tag.a)(ha_config_cloud_login_templateObject())}},{key:"properties",get:function get(){return{hass:Object,isWide:Boolean,email:{type:String,notify:!0},_password:{type:String,value:""},_requestInProgress:{type:Boolean,value:!1},flashMessage:{type:String,notify:!0},_error:String}}},{key:"observers",get:function get(){return["_inputChanged(email, _password)"]}}]);return HaConfigCloudLogin}(Object(navigate_mixin.a)(Object(events_mixin.a)(polymer_element.a)));customElements.define("ha-config-cloud-login",ha_config_cloud_login_HaConfigCloudLogin);function ha_config_cloud_register_typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){ha_config_cloud_register_typeof=function _typeof(obj){return typeof obj}}else{ha_config_cloud_register_typeof=function _typeof(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return ha_config_cloud_register_typeof(obj)}function ha_config_cloud_register_templateObject(){var data=ha_config_cloud_register_taggedTemplateLiteral(["\n    <style include=\"iron-flex ha-style\">\n      .content {\n        direction: ltr;\n      }\n\n      [slot=introduction] {\n        margin: -1em 0;\n      }\n      [slot=introduction] a {\n        color: var(--primary-color);\n      }\n      a {\n        color: var(--primary-color);\n      }\n      paper-card {\n        display: block;\n      }\n      paper-item {\n        cursor: pointer;\n      }\n      paper-card:last-child {\n        margin-top: 24px;\n      }\n      h1 {\n        @apply --paper-font-headline;\n        margin: 0;\n      }\n      .error {\n        color: var(--google-red-500);\n      }\n      .card-actions {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n      }\n      [hidden] {\n        display: none;\n      }\n    </style>\n    <hass-subpage header=\"Register Account\">\n      <div class=\"content\">\n        <ha-config-section is-wide=\"[[isWide]]\">\n          <span slot=\"header\">Start your free trial</span>\n          <div slot=\"introduction\">\n            <p>\n              Create an account to start your free one month trial with Home Assistant Cloud. No payment information necessary.\n            </p>\n            <p>\n              The trial will give you access to all the benefits of Home Assistant Cloud, including:\n            </p>\n            <ul>\n              <li>Integration with Google Assistant</li>\n              <li>Integration with Amazon Alexa</li>\n            </ul>\n            <p>\n              This service is run by our partner <a href='https://www.nabucasa.com' target='_blank'>Nabu&nbsp;Casa,&nbsp;Inc</a>, a company founded by the founders of Home Assistant and Hass.io.\n            </p>\n\n            <p>\n              By registering an account you agree to the following terms and conditions.\n              </p><ul>\n                <li><a href=\"https://home-assistant.io/tos/\" target=\"_blank\">Terms and Conditions</a></li>\n                <li><a href=\"https://home-assistant.io/privacy/\" target=\"_blank\">Privacy Policy</a></li>\n              </ul>\n            </p>\n          </div>\n\n          <paper-card>\n            <div class=\"card-content\">\n              <div class=\"header\">\n                <h1>Create Account</h1>\n                <div class=\"error\" hidden$=\"[[!_error]]\">[[_error]]</div>\n              </div>\n              <paper-input autofocus=\"\" id=\"email\" label=\"Email address\" type=\"email\" value=\"{{email}}\" on-keydown=\"_keyDown\" error-message=\"Invalid email\"></paper-input>\n              <paper-input id=\"password\" label=\"Password\" value=\"{{_password}}\" type=\"password\" on-keydown=\"_keyDown\" error-message=\"Your password needs to be at least 8 characters\"></paper-input>\n            </div>\n            <div class=\"card-actions\">\n              <ha-progress-button on-click=\"_handleRegister\" progress=\"[[_requestInProgress]]\">Start trial</ha-progress-button>\n              <button class=\"link\" hidden=\"[[_requestInProgress]]\" on-click=\"_handleResendVerifyEmail\">Resend confirmation email</button>\n            </div>\n          </paper-card>\n        </ha-config-section>\n      </div>\n    </hass-subpage>\n"]);ha_config_cloud_register_templateObject=function _templateObject(){return data};return data}function ha_config_cloud_register_taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function ha_config_cloud_register_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function ha_config_cloud_register_defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function ha_config_cloud_register_createClass(Constructor,protoProps,staticProps){if(protoProps)ha_config_cloud_register_defineProperties(Constructor.prototype,protoProps);if(staticProps)ha_config_cloud_register_defineProperties(Constructor,staticProps);return Constructor}function ha_config_cloud_register_possibleConstructorReturn(self,call){if(call&&("object"===ha_config_cloud_register_typeof(call)||"function"===typeof call)){return call}return ha_config_cloud_register_assertThisInitialized(self)}function ha_config_cloud_register_assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function ha_config_cloud_register_getPrototypeOf(o){ha_config_cloud_register_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return ha_config_cloud_register_getPrototypeOf(o)}function ha_config_cloud_register_inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)ha_config_cloud_register_setPrototypeOf(subClass,superClass)}function ha_config_cloud_register_setPrototypeOf(o,p){ha_config_cloud_register_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return ha_config_cloud_register_setPrototypeOf(o,p)}var ha_config_cloud_register_HaConfigCloudRegister=function(_EventsMixin){ha_config_cloud_register_inherits(HaConfigCloudRegister,_EventsMixin);function HaConfigCloudRegister(){ha_config_cloud_register_classCallCheck(this,HaConfigCloudRegister);return ha_config_cloud_register_possibleConstructorReturn(this,ha_config_cloud_register_getPrototypeOf(HaConfigCloudRegister).apply(this,arguments))}ha_config_cloud_register_createClass(HaConfigCloudRegister,[{key:"_inputChanged",value:function _inputChanged(){this._error="";this.$.email.invalid=!1;this.$.password.invalid=!1}},{key:"_keyDown",value:function _keyDown(ev){if(13===ev.keyCode){this._handleRegister();ev.preventDefault()}}},{key:"_handleRegister",value:function _handleRegister(){var _this=this,invalid=!1;if(!this.email||!this.email.includes("@")){this.$.email.invalid=!0;this.$.email.focus();invalid=!0}if(8>this._password.length){this.$.password.invalid=!0;if(!invalid){invalid=!0;this.$.password.focus()}}if(invalid)return;this._requestInProgress=!0;this.hass.callApi("post","cloud/register",{email:this.email,password:this._password}).then(function(){return _this._verificationEmailSent()},function(err){_this._password="";_this.setProperties({_requestInProgress:!1,_error:err&&err.body&&err.body.message?err.body.message:"Unknown error"})})}},{key:"_handleResendVerifyEmail",value:function _handleResendVerifyEmail(){var _this2=this;if(!this.email){this.$.email.invalid=!0;return}this.hass.callApi("post","cloud/resend_confirm",{email:this.email}).then(function(){return _this2._verificationEmailSent()},function(err){return _this2.setProperties({_error:err&&err.body&&err.body.message?err.body.message:"Unknown error"})})}},{key:"_verificationEmailSent",value:function _verificationEmailSent(){this.setProperties({_requestInProgress:!1,_password:""});this.fire("cloud-done",{flashMessage:"Account created! Check your email for instructions on how to activate your account."})}}],[{key:"template",get:function get(){return Object(html_tag.a)(ha_config_cloud_register_templateObject())}},{key:"properties",get:function get(){return{hass:Object,isWide:Boolean,email:{type:String,notify:!0},_requestInProgress:{type:Boolean,value:!1},_password:{type:String,value:""},_error:{type:String,value:""}}}},{key:"observers",get:function get(){return["_inputChanged(email, _password)"]}}]);return HaConfigCloudRegister}(Object(events_mixin.a)(polymer_element.a));customElements.define("ha-config-cloud-register",ha_config_cloud_register_HaConfigCloudRegister);function ha_config_cloud_typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){ha_config_cloud_typeof=function _typeof(obj){return typeof obj}}else{ha_config_cloud_typeof=function _typeof(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return ha_config_cloud_typeof(obj)}function ha_config_cloud_templateObject(){var data=ha_config_cloud_taggedTemplateLiteral(["\n      <app-route\n        route=\"[[route]]\"\n        pattern=\"/cloud/:page\"\n        data=\"{{_routeData}}\"\n        tail=\"{{_routeTail}}\"\n      ></app-route>\n\n      <template\n        is=\"dom-if\"\n        if='[[_equals(_routeData.page, \"account\")]]'\n        restamp=\"\"\n      >\n        <ha-config-cloud-account\n          hass=\"[[hass]]\"\n          cloud-status=\"[[cloudStatus]]\"\n          is-wide=\"[[isWide]]\"\n        ></ha-config-cloud-account>\n      </template>\n\n      <template\n        is=\"dom-if\"\n        if='[[_equals(_routeData.page, \"login\")]]'\n        restamp=\"\"\n      >\n        <ha-config-cloud-login\n          page-name=\"login\"\n          hass=\"[[hass]]\"\n          is-wide=\"[[isWide]]\"\n          email=\"{{_loginEmail}}\"\n          flash-message=\"{{_flashMessage}}\"\n        ></ha-config-cloud-login>\n      </template>\n\n      <template\n        is=\"dom-if\"\n        if='[[_equals(_routeData.page, \"register\")]]'\n        restamp=\"\"\n      >\n        <ha-config-cloud-register\n          page-name=\"register\"\n          hass=\"[[hass]]\"\n          is-wide=\"[[isWide]]\"\n          email=\"{{_loginEmail}}\"\n        ></ha-config-cloud-register>\n      </template>\n\n      <template\n        is=\"dom-if\"\n        if='[[_equals(_routeData.page, \"forgot-password\")]]'\n        restamp=\"\"\n      >\n        <ha-config-cloud-forgot-password\n          page-name=\"forgot-password\"\n          hass=\"[[hass]]\"\n          email=\"{{_loginEmail}}\"\n        ></ha-config-cloud-forgot-password>\n      </template>\n    "]);ha_config_cloud_templateObject=function _templateObject(){return data};return data}function ha_config_cloud_taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function ha_config_cloud_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function ha_config_cloud_defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function ha_config_cloud_createClass(Constructor,protoProps,staticProps){if(protoProps)ha_config_cloud_defineProperties(Constructor.prototype,protoProps);if(staticProps)ha_config_cloud_defineProperties(Constructor,staticProps);return Constructor}function ha_config_cloud_possibleConstructorReturn(self,call){if(call&&("object"===ha_config_cloud_typeof(call)||"function"===typeof call)){return call}return ha_config_cloud_assertThisInitialized(self)}function ha_config_cloud_assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function ha_config_cloud_get(target,property,receiver){if("undefined"!==typeof Reflect&&Reflect.get){ha_config_cloud_get=Reflect.get}else{ha_config_cloud_get=function _get(target,property,receiver){var base=ha_config_cloud_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return ha_config_cloud_get(target,property,receiver||target)}function ha_config_cloud_superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=ha_config_cloud_getPrototypeOf(object);if(null===object)break}return object}function ha_config_cloud_getPrototypeOf(o){ha_config_cloud_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return ha_config_cloud_getPrototypeOf(o)}function ha_config_cloud_inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)ha_config_cloud_setPrototypeOf(subClass,superClass)}function ha_config_cloud_setPrototypeOf(o,p){ha_config_cloud_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return ha_config_cloud_setPrototypeOf(o,p)}var LOGGED_IN_URLS=["/cloud/account"],NOT_LOGGED_IN_URLS=["/cloud/login","/cloud/register","/cloud/forgot-password"],ha_config_cloud_HaConfigCloud=function(_NavigateMixin){ha_config_cloud_inherits(HaConfigCloud,_NavigateMixin);function HaConfigCloud(){ha_config_cloud_classCallCheck(this,HaConfigCloud);return ha_config_cloud_possibleConstructorReturn(this,ha_config_cloud_getPrototypeOf(HaConfigCloud).apply(this,arguments))}ha_config_cloud_createClass(HaConfigCloud,[{key:"ready",value:function ready(){var _this=this;ha_config_cloud_get(ha_config_cloud_getPrototypeOf(HaConfigCloud.prototype),"ready",this).call(this);this.addEventListener("cloud-done",function(ev){_this._flashMessage=ev.detail.flashMessage;_this.navigate("/config/cloud/login")})}},{key:"_checkRoute",value:function _checkRoute(route){var _this2=this;if(!route||"/cloud"!==route.path.substr(0,6))return;this._debouncer=debounce.a.debounce(this._debouncer,utils_async.d.after(0),function(){if(!_this2.cloudStatus||!_this2.cloudStatus.logged_in&&!NOT_LOGGED_IN_URLS.includes(route.path)){_this2.navigate("/config/cloud/login",!0)}else if(_this2.cloudStatus.logged_in&&!LOGGED_IN_URLS.includes(route.path)){_this2.navigate("/config/cloud/account",!0)}})}},{key:"_equals",value:function _equals(a,b){return a===b}}],[{key:"template",get:function get(){return Object(html_tag.a)(ha_config_cloud_templateObject())}},{key:"properties",get:function get(){return{hass:Object,isWide:Boolean,loadingAccount:{type:Boolean,value:!1},cloudStatus:{type:Object},_flashMessage:{type:String,value:""},route:Object,_routeData:Object,_routeTail:Object,_loginEmail:String}}},{key:"observers",get:function get(){return["_checkRoute(route, cloudStatus)"]}}]);return HaConfigCloud}(Object(navigate_mixin.a)(polymer_element.a));customElements.define("ha-config-cloud",ha_config_cloud_HaConfigCloud)}}]);
//# sourceMappingURL=e6659342739253fac0d0.chunk.js.map