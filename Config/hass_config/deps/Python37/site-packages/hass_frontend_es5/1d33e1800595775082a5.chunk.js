(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{210:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Mathround=Math.round,_Mathabs=Math.abs,_Mathceil=Math.ceil,_Mathfloor=Math.floor,_Mathmax=Math.max,_Mathmin=Math.min,spacing=__webpack_require__(198),style=__webpack_require__(206),overlay=__webpack_require__(391),html_tag=__webpack_require__(3);function _templateObject(){var data=_taggedTemplateLiteral(["<dom-module id=\"lumo-vaadin-overlay\" theme-for=\"vaadin-overlay\">\n  <template>\n    <style include=\"lumo-overlay\">\n      /* stylelint-disable no-empty-source */\n    </style>\n  </template>\n</dom-module>"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var $_documentContainer=Object(html_tag.a)(_templateObject());document.head.appendChild($_documentContainer.content);var vaadin_overlay=__webpack_require__(312),menu_overlay=__webpack_require__(313),vaadin_combo_box_dropdown_styles_$_documentContainer=document.createElement("template");vaadin_combo_box_dropdown_styles_$_documentContainer.innerHTML="<dom-module id=\"lumo-combo-box-overlay\" theme-for=\"vaadin-combo-box-overlay\">\n  <template>\n    <style include=\"lumo-overlay lumo-menu-overlay-core\">\n      [part=\"content\"] {\n        padding: 0;\n      }\n\n      :host {\n        /* TODO: using a legacy mixin (unsupported) */\n        --iron-list-items-container: {\n          border-width: var(--lumo-space-xs);\n          border-style: solid;\n          border-color: transparent;\n        };\n      }\n\n      /* TODO: workaround ShadyCSS issue when using inside of the dom-if */\n      :host([opened]) {\n        --iron-list-items-container_-_border-width: var(--lumo-space-xs);\n        --iron-list-items-container_-_border-style: solid;\n        --iron-list-items-container_-_border-color: transparent;\n      }\n\n      /* Loading state */\n\n      /* When items are empty, the sinner needs some room */\n      :host(:not([closing])) [part~=\"content\"] {\n        min-height: calc(2 * var(--lumo-space-s) + var(--lumo-icon-size-s));\n      }\n\n      [part~=\"overlay\"] {\n        position: relative;\n      }\n\n      :host([loading]) [part~=\"loader\"] {\n        box-sizing: border-box;\n        width: var(--lumo-icon-size-s);\n        height: var(--lumo-icon-size-s);\n        position: absolute;\n        z-index: 1;\n        left: var(--lumo-space-s);\n        right: var(--lumo-space-s);\n        top: var(--lumo-space-s);\n        margin-left: auto;\n        margin-inline-start: auto;\n        margin-inline-end: 0;\n        border: 2px solid transparent;\n        border-color:\n          var(--lumo-primary-color-50pct)\n          var(--lumo-primary-color-50pct)\n          var(--lumo-primary-color)\n          var(--lumo-primary-color);\n        border-radius: calc(0.5 * var(--lumo-icon-size-s));\n        opacity: 0;\n        animation:\n          1s linear infinite lumo-combo-box-loader-rotate,\n          .3s .1s lumo-combo-box-loader-fade-in both;\n        pointer-events: none;\n      }\n\n      @keyframes lumo-combo-box-loader-fade-in {\n        0% {\n          opacity: 0;\n        }\n\n        100% {\n          opacity: 1;\n        }\n      }\n\n      @keyframes lumo-combo-box-loader-rotate {\n        0% {\n          transform: rotate(0deg);\n        }\n\n        100% {\n          transform: rotate(360deg);\n        }\n      }\n    </style>\n  </template>\n</dom-module>";document.head.appendChild(vaadin_combo_box_dropdown_styles_$_documentContainer.content);var color=__webpack_require__(207),font_icons=__webpack_require__(256),sizing=__webpack_require__(201),typography=__webpack_require__(218),vaadin_item_styles_$_documentContainer=document.createElement("template");vaadin_item_styles_$_documentContainer.innerHTML="<dom-module id=\"lumo-item\" theme-for=\"vaadin-item\">\n  <template>\n    <style>\n      :host {\n        display: flex;\n        align-items: center;\n        box-sizing: border-box;\n        font-family: var(--lumo-font-family);\n        font-size: var(--lumo-font-size-m);\n        line-height: var(--lumo-line-height-xs);\n        padding: 0.5em 1em;\n        min-height: var(--lumo-size-m);\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        -webkit-tap-highlight-color: transparent;\n      }\n\n      /* Selectable items have a checkmark icon */\n      :host([tabindex])::before {\n        display: var(--_lumo-item-selected-icon-display, none);\n        content: var(--lumo-icons-checkmark);\n        font-family: lumo-icons;\n        font-size: var(--lumo-icon-size-m);\n        line-height: 1;\n        font-weight: normal;\n        width: 1em;\n        height: 1em;\n        margin: calc((1 - var(--lumo-line-height-xs)) * var(--lumo-font-size-m) / 2) 0;\n        color: var(--lumo-primary-text-color);\n        flex: none;\n        opacity: 0;\n        transition: transform 0.2s cubic-bezier(.12, .32, .54, 2), opacity 0.1s;\n      }\n\n      :host([selected])::before {\n        opacity: 1;\n      }\n\n      :host([active]:not([selected]))::before {\n        transform: scale(0.8);\n        opacity: 0;\n        transition-duration: 0s;\n      }\n\n      [part=\"content\"] {\n        flex: auto;\n      }\n\n      /* Disabled item */\n\n      :host([disabled]) {\n        color: var(--lumo-disabled-text-color);\n        cursor: default;\n        pointer-events: none;\n      }\n\n      /* Slotted icons */\n\n      :host ::slotted(iron-icon) {\n        width: var(--lumo-icon-size-m);\n        height: var(--lumo-icon-size-m);\n      }\n    </style>\n  </template>\n</dom-module>";document.head.appendChild(vaadin_item_styles_$_documentContainer.content);var polymer_element=__webpack_require__(20),vaadin_themable_mixin=__webpack_require__(194);function _typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"===typeof call)){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if("undefined"!==typeof Reflect&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(null===object)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}/**
@license
Copyright (c) 2017 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/var ItemMixin=function ItemMixin(superClass){return function(_superClass){_inherits(VaadinItemMixin,_superClass);_createClass(VaadinItemMixin,null,[{key:"properties",get:function get(){return{_hasVaadinItemMixin:{value:!0},disabled:{type:Boolean,value:!1,observer:"_disabledChanged",reflectToAttribute:!0},selected:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_selectedChanged"},_value:String}}}]);function VaadinItemMixin(){var _this;_classCallCheck(this,VaadinItemMixin);_this=_possibleConstructorReturn(this,_getPrototypeOf(VaadinItemMixin).call(this));_this.value;return _this}_createClass(VaadinItemMixin,[{key:"ready",value:function ready(){var _this2=this;_get(_getPrototypeOf(VaadinItemMixin.prototype),"ready",this).call(this);var attrValue=this.getAttribute("value");if(null!==attrValue){this.value=attrValue}this.addEventListener("focus",function(e){return _this2._setFocused(!0)},!0);this.addEventListener("blur",function(e){return _this2._setFocused(!1)},!0);this.addEventListener("mousedown",function(e){_this2._setActive(_this2._mousedown=!0);var mouseUpListener=function mouseUpListener(){_this2._setActive(_this2._mousedown=!1);document.removeEventListener("mouseup",mouseUpListener)};document.addEventListener("mouseup",mouseUpListener)});this.addEventListener("keydown",function(e){return _this2._onKeydown(e)});this.addEventListener("keyup",function(e){return _this2._onKeyup(e)})}},{key:"disconnectedCallback",value:function disconnectedCallback(){_get(_getPrototypeOf(VaadinItemMixin.prototype),"disconnectedCallback",this).call(this);if(this.hasAttribute("active")){this._setFocused(!1)}}},{key:"_selectedChanged",value:function _selectedChanged(selected){this.setAttribute("aria-selected",selected)}},{key:"_disabledChanged",value:function _disabledChanged(disabled){if(disabled){this.selected=!1;this.setAttribute("aria-disabled","true");this.blur()}else{this.removeAttribute("aria-disabled")}}},{key:"_setFocused",value:function _setFocused(focused){if(focused){this.setAttribute("focused","");if(!this._mousedown){this.setAttribute("focus-ring","")}}else{this.removeAttribute("focused");this.removeAttribute("focus-ring");this._setActive(!1)}}},{key:"_setActive",value:function _setActive(active){if(active){this.setAttribute("active","")}else{this.removeAttribute("active")}}},{key:"_onKeydown",value:function _onKeydown(event){if(/^( |SpaceBar|Enter)$/.test(event.key)&&!event.defaultPrevented){event.preventDefault();this._setActive(!0)}}},{key:"_onKeyup",value:function _onKeyup(event){if(this.hasAttribute("active")){this._setActive(!1);this.click()}}},{key:"value",get:function get(){return this._value!==void 0?this._value:this.textContent.trim()},set:function set(value){this._value=value}}]);return VaadinItemMixin}(superClass)};function vaadin_item_typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){vaadin_item_typeof=function _typeof(obj){return typeof obj}}else{vaadin_item_typeof=function _typeof(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return vaadin_item_typeof(obj)}function vaadin_item_templateObject(){var data=vaadin_item_taggedTemplateLiteral(["\n    <style>\n      :host {\n        display: inline-block;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n    </style>\n    <div part=\"content\">\n      <slot></slot>\n    </div>\n"]);vaadin_item_templateObject=function _templateObject(){return data};return data}function vaadin_item_taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function vaadin_item_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function vaadin_item_defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function vaadin_item_createClass(Constructor,protoProps,staticProps){if(protoProps)vaadin_item_defineProperties(Constructor.prototype,protoProps);if(staticProps)vaadin_item_defineProperties(Constructor,staticProps);return Constructor}function vaadin_item_possibleConstructorReturn(self,call){if(call&&("object"===vaadin_item_typeof(call)||"function"===typeof call)){return call}return vaadin_item_assertThisInitialized(self)}function vaadin_item_assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function vaadin_item_getPrototypeOf(o){vaadin_item_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return vaadin_item_getPrototypeOf(o)}function vaadin_item_inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)vaadin_item_setPrototypeOf(subClass,superClass)}function vaadin_item_setPrototypeOf(o,p){vaadin_item_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return vaadin_item_setPrototypeOf(o,p)}/**
@license
Copyright (c) 2017 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/var vaadin_item_ItemElement=function(_ItemMixin){vaadin_item_inherits(ItemElement,_ItemMixin);function ItemElement(){vaadin_item_classCallCheck(this,ItemElement);return vaadin_item_possibleConstructorReturn(this,vaadin_item_getPrototypeOf(ItemElement).apply(this,arguments))}vaadin_item_createClass(ItemElement,null,[{key:"template",get:function get(){return Object(html_tag.a)(vaadin_item_templateObject())}},{key:"is",get:function get(){return"vaadin-item"}},{key:"version",get:function get(){return"2.1.0"}}]);return ItemElement}(ItemMixin(Object(vaadin_themable_mixin.a)(polymer_element.a)));customElements.define(vaadin_item_ItemElement.is,vaadin_item_ItemElement);var vaadin_combo_box_item_styles_$_documentContainer=document.createElement("template");vaadin_combo_box_item_styles_$_documentContainer.innerHTML="<dom-module id=\"lumo-combo-box-item\" theme-for=\"vaadin-combo-box-item\">\n  <template>\n    <style include=\"lumo-item\">\n      /* TODO partly duplicated from vaadin-list-box styles. Should find a way to make it DRY */\n\n      :host {\n        cursor: default;\n        -webkit-tap-highlight-color: var(--lumo-primary-color-10pct);\n        padding-left: calc(var(--lumo-border-radius) / 4);\n        padding-right: calc(var(--lumo-space-l) + var(--lumo-border-radius) / 4);\n        transition: background-color 100ms;\n        border-radius: var(--lumo-border-radius);\n        overflow: hidden;\n        --_lumo-item-selected-icon-display: block;\n      }\n\n      /* ShadyCSS workaround (show the selected item checkmark) */\n      :host::before {\n        display: block;\n      }\n\n      :host(:hover) {\n        background-color: var(--lumo-primary-color-10pct);\n      }\n\n      :host([focused]:not([disabled])) {\n        box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);\n      }\n\n      @media (pointer: coarse) {\n        :host(:hover) {\n          background-color: transparent;\n        }\n\n        :host([focused]:not([disabled])) {\n          box-shadow: none;\n        }\n      }\n    </style>\n  </template>\n</dom-module>";document.head.appendChild(vaadin_combo_box_item_styles_$_documentContainer.content);var vaadin_theme_property_mixin=__webpack_require__(257),utils_async=__webpack_require__(11),flush=__webpack_require__(23),templatize=__webpack_require__(31),iron_a11y_announcer=__webpack_require__(82),iron_a11y_keys_behavior=__webpack_require__(30),flattened_nodes_observer=__webpack_require__(58);function vaadin_combo_box_placeholder_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function vaadin_combo_box_placeholder_defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function vaadin_combo_box_placeholder_createClass(Constructor,protoProps,staticProps){if(protoProps)vaadin_combo_box_placeholder_defineProperties(Constructor.prototype,protoProps);if(staticProps)vaadin_combo_box_placeholder_defineProperties(Constructor,staticProps);return Constructor}/**
@license
Copyright (c) 2018 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/var ComboBoxPlaceholder=function(){function ComboBoxPlaceholder(){vaadin_combo_box_placeholder_classCallCheck(this,ComboBoxPlaceholder)}vaadin_combo_box_placeholder_createClass(ComboBoxPlaceholder,[{key:"toString",value:function toString(){return""}}]);return ComboBoxPlaceholder}();function vaadin_combo_box_mixin_typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){vaadin_combo_box_mixin_typeof=function _typeof(obj){return typeof obj}}else{vaadin_combo_box_mixin_typeof=function _typeof(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return vaadin_combo_box_mixin_typeof(obj)}function vaadin_combo_box_mixin_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function vaadin_combo_box_mixin_defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function vaadin_combo_box_mixin_createClass(Constructor,protoProps,staticProps){if(protoProps)vaadin_combo_box_mixin_defineProperties(Constructor.prototype,protoProps);if(staticProps)vaadin_combo_box_mixin_defineProperties(Constructor,staticProps);return Constructor}function vaadin_combo_box_mixin_possibleConstructorReturn(self,call){if(call&&("object"===vaadin_combo_box_mixin_typeof(call)||"function"===typeof call)){return call}return vaadin_combo_box_mixin_assertThisInitialized(self)}function vaadin_combo_box_mixin_assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function vaadin_combo_box_mixin_get(target,property,receiver){if("undefined"!==typeof Reflect&&Reflect.get){vaadin_combo_box_mixin_get=Reflect.get}else{vaadin_combo_box_mixin_get=function _get(target,property,receiver){var base=vaadin_combo_box_mixin_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return vaadin_combo_box_mixin_get(target,property,receiver||target)}function vaadin_combo_box_mixin_superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=vaadin_combo_box_mixin_getPrototypeOf(object);if(null===object)break}return object}function vaadin_combo_box_mixin_getPrototypeOf(o){vaadin_combo_box_mixin_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return vaadin_combo_box_mixin_getPrototypeOf(o)}function vaadin_combo_box_mixin_inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)vaadin_combo_box_mixin_setPrototypeOf(subClass,superClass)}function vaadin_combo_box_mixin_setPrototypeOf(o,p){vaadin_combo_box_mixin_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return vaadin_combo_box_mixin_setPrototypeOf(o,p)}/**
@license
Copyright (c) 2017 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/var vaadin_combo_box_mixin_ComboBoxMixin=function ComboBoxMixin(subclass){return function(_subclass){vaadin_combo_box_mixin_inherits(VaadinComboBoxMixinElement,_subclass);function VaadinComboBoxMixinElement(){vaadin_combo_box_mixin_classCallCheck(this,VaadinComboBoxMixinElement);return vaadin_combo_box_mixin_possibleConstructorReturn(this,vaadin_combo_box_mixin_getPrototypeOf(VaadinComboBoxMixinElement).apply(this,arguments))}vaadin_combo_box_mixin_createClass(VaadinComboBoxMixinElement,[{key:"ready",value:function ready(){var _this=this;vaadin_combo_box_mixin_get(vaadin_combo_box_mixin_getPrototypeOf(VaadinComboBoxMixinElement.prototype),"ready",this).call(this);this.addEventListener("focusout",function(e){if(e.relatedTarget===_this.$.overlay.$.dropdown.$.overlay){e.composedPath()[0].focus();return}if(!_this._closeOnBlurIsPrevented){_this.close()}});this._lastCommittedValue=this.value;iron_a11y_announcer.a.requestAvailability();this.$.overlay.addEventListener("selection-changed",this._overlaySelectedItemChanged.bind(this));this.addEventListener("vaadin-combo-box-dropdown-closed",this._onClosed.bind(this));this.addEventListener("vaadin-combo-box-dropdown-opened",this._onOpened.bind(this));this.addEventListener("keydown",this._onKeyDown.bind(this));this.addEventListener("click",this._onClick.bind(this));this.$.overlay.addEventListener("vaadin-overlay-touch-action",this._onOverlayTouchAction.bind(this));this.addEventListener("touchend",function(e){if(!_this._clearElement||e.composedPath()[0]!==_this._clearElement){return}e.preventDefault();_this._clear()});this._observer=new flattened_nodes_observer.a(this,function(info){_this._setTemplateFromNodes(info.addedNodes)})}},{key:"render",value:function render(){this.$.overlay._selector.querySelectorAll("vaadin-combo-box-item").forEach(function(item){return item._render()})}},{key:"_setTemplateFromNodes",value:function _setTemplateFromNodes(nodes){this._itemTemplate=nodes.filter(function(node){return node.localName&&"template"===node.localName})[0]||this._itemTemplate}},{key:"_removeNewRendererOrTemplate",value:function _removeNewRendererOrTemplate(template,oldTemplate,renderer,oldRenderer){if(template!==oldTemplate){this._itemTemplate=void 0}else if(renderer!==oldRenderer){this.renderer=void 0}}},{key:"_templateOrRendererChanged",value:function _templateOrRendererChanged(template,renderer){if(template&&renderer){this._removeNewRendererOrTemplate(template,this._oldTemplate,renderer,this._oldRenderer);throw new Error("You should only use either a renderer or a template for combo box items")}this._oldTemplate=template;this._oldRenderer=renderer}},{key:"open",value:function open(){if(!this.disabled&&!this.readonly){this.opened=!0}}},{key:"close",value:function close(){this.opened=!1}},{key:"_openedChanged",value:function _openedChanged(value,old){if(old===void 0){return}if(this.opened){this._openedWithFocusRing=this.hasAttribute("focus-ring")||this.focusElement&&this.focusElement.hasAttribute("focus-ring");if(!this.$.overlay.touchDevice){if(!this.focused){this.focus()}}}else{if(this._openedWithFocusRing&&this.hasAttribute("focused")){this.focusElement.setAttribute("focus-ring","")}this._onClosed()}}},{key:"_onOverlayTouchAction",value:function _onOverlayTouchAction(event){this._closeOnBlurIsPrevented=!0;this.inputElement.blur();this._closeOnBlurIsPrevented=!1}},{key:"_onClick",value:function _onClick(e){this._closeOnBlurIsPrevented=!0;var path=e.composedPath();if(-1!==path.indexOf(this._clearElement)){this._clear();this.focus()}else if(-1!==path.indexOf(this.inputElement)){if(-1<path.indexOf(this._toggleElement)&&this.opened){this.close()}else{this.open()}}this._closeOnBlurIsPrevented=!1}},{key:"_onKeyDown",value:function _onKeyDown(e){if(this._isEventKey(e,"down")){this._closeOnBlurIsPrevented=!0;this._onArrowDown();this._closeOnBlurIsPrevented=!1;e.preventDefault()}else if(this._isEventKey(e,"up")){this._closeOnBlurIsPrevented=!0;this._onArrowUp();this._closeOnBlurIsPrevented=!1;e.preventDefault()}else if(this._isEventKey(e,"enter")){this._onEnter(e)}else if(this._isEventKey(e,"esc")){this._onEscape(e)}}},{key:"_isEventKey",value:function _isEventKey(e,k){return iron_a11y_keys_behavior.a.keyboardEventMatchesKeys(e,k)}},{key:"_getItemLabel",value:function _getItemLabel(item){return this.$.overlay.getItemLabel(item)}},{key:"_getItemValue",value:function _getItemValue(item){var value=item?this.get(this.itemValuePath,item):void 0;if(value===void 0){value=item?item.toString():""}return value}},{key:"_onArrowDown",value:function _onArrowDown(){if(this.opened){if(this.$.overlay._items){this._focusedIndex=_Mathmin(this.$.overlay._items.length-1,this._focusedIndex+1);this._prefillFocusedItemLabel()}}else{this.open()}}},{key:"_onArrowUp",value:function _onArrowUp(){if(this.opened){if(-1<this._focusedIndex){this._focusedIndex=_Mathmax(0,this._focusedIndex-1)}else{if(this.$.overlay._items){this._focusedIndex=this.$.overlay._items.length-1}}this._prefillFocusedItemLabel()}else{this.open()}}},{key:"_prefillFocusedItemLabel",value:function _prefillFocusedItemLabel(){var _this2=this;if(-1<this._focusedIndex){this._inputElementValue="";setTimeout(function(){_this2._inputElementValue=_this2._getItemLabel(_this2.$.overlay._focusedItem);_this2._markAllSelectionRange()},1)}}},{key:"_setSelectionRange",value:function _setSelectionRange(start,end){var input=this._nativeInput||this.inputElement;if(this.hasAttribute("focused")&&input&&input.setSelectionRange){try{input.setSelectionRange(start,end)}catch(ignore){}}}},{key:"_markAllSelectionRange",value:function _markAllSelectionRange(){if(this._inputElementValue!==void 0){this._setSelectionRange(0,this._inputElementValue.length)}}},{key:"_clearSelectionRange",value:function _clearSelectionRange(){if(this._inputElementValue!==void 0){var pos=this._inputElementValue?this._inputElementValue.length:0;this._setSelectionRange(pos,pos)}}},{key:"_onEnter",value:function _onEnter(e){if(this.opened&&(this.allowCustomValue||""===this._inputElementValue||-1<this._focusedIndex)){this.close();e.preventDefault()}}},{key:"_onEscape",value:function _onEscape(e){if(this.opened){this._stopPropagation(e);if(-1<this._focusedIndex){this._focusedIndex=-1;this._revertInputValue()}else{this.cancel()}}}},{key:"_toggleElementChanged",value:function _toggleElementChanged(toggleElement){if(toggleElement){toggleElement.addEventListener("mousedown",function(e){return e.preventDefault()})}}},{key:"_clear",value:function _clear(){this.selectedItem=null;if(this.allowCustomValue){this.value=""}if(!this.opened){this._detectAndDispatchChange()}}},{key:"cancel",value:function cancel(){this._revertInputValueToValue();this._lastCommittedValue=this.value;this.close()}},{key:"_onOpened",value:function _onOpened(){var _this3=this;Object(flush.b)();this.$.overlay.ensureItemsRendered();this.$.overlay._selector.toggleScrollListener(!0);this.$.overlay.updateViewportBoundaries();utils_async.c.run(function(){return _this3.$.overlay.adjustScrollPosition()});setTimeout(function(){return _this3._resizeDropdown()},1);this._lastCommittedValue=this.value}},{key:"_onClosed",value:function _onClosed(){if(this.opened){this.close()}if(this.$.overlay._items&&-1<this._focusedIndex){var focusedItem=this.$.overlay._items[this._focusedIndex];if(this.selectedItem!==focusedItem){this.selectedItem=focusedItem}this._inputElementValue=this._getItemLabel(this.selectedItem)}else if(""===this._inputElementValue||this._inputElementValue===void 0){this.selectedItem=null;if(this.allowCustomValue){this.value=""}}else{if(this.allowCustomValue){var e=new CustomEvent("custom-value-set",{detail:this._inputElementValue,composed:!0,cancelable:!0,bubbles:!0});this.dispatchEvent(e);if(!e.defaultPrevented){var customValue=this._inputElementValue;this._selectItemForValue(customValue);this.value=customValue}}else{this._inputElementValue=this.selectedItem?this._getItemLabel(this.selectedItem):""}}this._detectAndDispatchChange();this._clearSelectionRange();if(!this.dataProvider){this.filter=""}}},{key:"_inputValueChanged",value:function _inputValueChanged(e){if(-1!==e.composedPath().indexOf(this.inputElement)){this._inputElementValue=this.inputElement.value;this._filterFromInput()}}},{key:"_filterFromInput",value:function _filterFromInput(e){if(!this.opened){this.open()}if(this.filter===this._inputElementValue){this._filterChanged(this.filter,this.itemValuePath,this.itemLabelPath)}else{this.filter=this._inputElementValue}}},{key:"_filterChanged",value:function _filterChanged(filter,itemValuePath,itemLabelPath){if(filter===void 0||itemValuePath===void 0||itemLabelPath===void 0){return}if(this.items){this.filteredItems=this._filterItems(this.items,filter)}else{this._filteredItemsChanged({path:"filteredItems",value:this.filteredItems},itemValuePath,itemLabelPath)}}},{key:"_loadingChanged",value:function _loadingChanged(loading){if(loading){this._focusedIndex=-1}}},{key:"_revertInputValue",value:function _revertInputValue(){if(""!==this.filter){this._inputElementValue=this.filter}else{this._revertInputValueToValue()}this._clearSelectionRange()}},{key:"_revertInputValueToValue",value:function _revertInputValueToValue(){if(this.allowCustomValue&&!this.selectedItem){this._inputElementValue=this.value}else{this._inputElementValue=this._getItemLabel(this.selectedItem)}}},{key:"_resizeDropdown",value:function _resizeDropdown(){this.$.overlay.$.dropdown.notifyResize()}},{key:"_updateHasValue",value:function _updateHasValue(hasValue){if(hasValue){this.setAttribute("has-value","")}else{this.removeAttribute("has-value")}}},{key:"_selectedItemChanged",value:function _selectedItemChanged(selectedItem){if(null===selectedItem||selectedItem===void 0){if(this.filteredItems){if(!this.allowCustomValue){this.value=""}this._updateHasValue(""!==this.value);this._inputElementValue=this.value}}else{var value=this._getItemValue(selectedItem);if(this.value!==value){this.value=value}this._updateHasValue(!0);this._inputElementValue=this._getItemLabel(selectedItem);if(this.inputElement){this.inputElement.value=this._inputElementValue}}this.$.overlay._selectedItem=selectedItem;if(this.filteredItems&&this.$.overlay._items){this._focusedIndex=this.filteredItems.indexOf(selectedItem)}}},{key:"_valueChanged",value:function _valueChanged(value,oldVal){if(""===value&&oldVal===void 0){return}if(this._isValidValue(value)){var item;if(this._getItemValue(this.selectedItem)!==value){this._selectItemForValue(value)}else{item=this.selectedItem}if(!item&&this.allowCustomValue){this._inputElementValue=value}this._updateHasValue(""!==this.value)}else{this.selectedItem=null}this._lastCommittedValue=void 0}},{key:"_detectAndDispatchChange",value:function _detectAndDispatchChange(){if(this.value!==this._lastCommittedValue){this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));this._lastCommittedValue=this.value}}},{key:"_itemsChanged",value:function _itemsChanged(items,oldItems){var _this4=this;this._ensureItemsOrDataProvider(function(){_this4.items=oldItems})}},{key:"_itemsOrPathsChanged",value:function _itemsOrPathsChanged(e,itemValuePath,itemLabelPath){if(e.value===void 0||itemValuePath===void 0||itemLabelPath===void 0){return}if("items"===e.path||"items.splices"===e.path){this.filteredItems=this.items?this.items.slice(0):this.items;var valueIndex=this._indexOfValue(this.value,this.items);this._focusedIndex=valueIndex;var item=-1<valueIndex&&this.items[valueIndex];if(item){this.selectedItem=item}}}},{key:"_filteredItemsChanged",value:function _filteredItemsChanged(e,itemValuePath,itemLabelPath){if(e.value===void 0||itemValuePath===void 0||itemLabelPath===void 0){return}if("filteredItems"===e.path||"filteredItems.splices"===e.path){this._setOverlayItems(this.filteredItems);this._focusedIndex=this.opened?this.$.overlay.indexOfLabel(this.filter):this._indexOfValue(this.value,this.filteredItems);if(this.opened){this._repositionOverlay()}}}},{key:"_filterItems",value:function _filterItems(arr,filter){var _this5=this;if(!arr){return arr}return arr.filter(function(item){filter=filter?filter.toString().toLowerCase():"";return-1<_this5._getItemLabel(item).toString().toLowerCase().indexOf(filter)})}},{key:"_selectItemForValue",value:function _selectItemForValue(value){var valueIndex=this._indexOfValue(value,this.filteredItems);this.selectedItem=0<=valueIndex?this.filteredItems[valueIndex]:this.dataProvider&&this.selectedItem===void 0?void 0:null}},{key:"_setOverlayItems",value:function _setOverlayItems(items){this.$.overlay.set("_items",items);if(this.opened){this._resizeDropdown()}}},{key:"_repositionOverlay",value:function _repositionOverlay(){var _this6=this;setTimeout(function(){_this6._resizeDropdown();_this6.$.overlay.updateViewportBoundaries();_this6.$.overlay.ensureItemsRendered();_this6.$.overlay._selector.notifyResize();Object(flush.b)()},1)}},{key:"_indexOfValue",value:function _indexOfValue(value,items){if(items&&this._isValidValue(value)){for(var i=0;i<items.length;i++){if(this._getItemValue(items[i])===value){return i}}}return-1}},{key:"_isValidValue",value:function _isValidValue(value){return value!==void 0&&null!==value}},{key:"_overlaySelectedItemChanged",value:function _overlaySelectedItemChanged(e){e.stopPropagation();if(e.detail.item instanceof ComboBoxPlaceholder){return}if(this.selectedItem!==e.detail.item){this.selectedItem=e.detail.item}if(this.opened){this.close()}}},{key:"validate",value:function validate(){return!(this.invalid=!this.checkValidity())}},{key:"checkValidity",value:function checkValidity(){if(this.inputElement.validate){return this.inputElement.validate()}}},{key:"_ensureTemplatized",value:function _ensureTemplatized(){if(!this._TemplateClass){var tpl=this._itemTemplate||this.querySelector("template");if(tpl){this._TemplateClass=Object(templatize.b)(tpl,this,{instanceProps:this._instanceProps,forwardHostProp:function forwardHostProp(prop,value){var items=this.$.overlay._selector.querySelectorAll("vaadin-combo-box-item");Array.prototype.forEach.call(items,function(item){if(item._itemTemplateInstance){item._itemTemplateInstance.set(prop,value);item._itemTemplateInstance.notifyPath(prop,value,!0)}})}})}}}},{key:"_preventInputBlur",value:function _preventInputBlur(){if(this._toggleElement){this._toggleElement.addEventListener("click",this._preventDefault)}if(this._clearElement){this._clearElement.addEventListener("click",this._preventDefault)}}},{key:"_restoreInputBlur",value:function _restoreInputBlur(){if(this._toggleElement){this._toggleElement.removeEventListener("click",this._preventDefault)}if(this._clearElement){this._clearElement.removeEventListener("click",this._preventDefault)}}},{key:"_preventDefault",value:function _preventDefault(e){e.preventDefault()}},{key:"_stopPropagation",value:function _stopPropagation(e){e.stopPropagation()}},{key:"_instanceProps",get:function get(){return{item:!0,index:!0,selected:!0,focused:!0}}}],[{key:"properties",get:function get(){return{opened:{type:Boolean,notify:!0,value:!1,reflectToAttribute:!0,observer:"_openedChanged"},disabled:{type:Boolean,value:!1,reflectToAttribute:!0},readonly:{type:Boolean,value:!1,reflectToAttribute:!0},renderer:Function,items:{type:Array,observer:"_itemsChanged"},allowCustomValue:{type:Boolean,value:!1},filteredItems:{type:Array},value:{type:String,observer:"_valueChanged",notify:!0,value:""},_lastCommittedValue:String,loading:{type:Boolean,value:!1,reflectToAttribute:!0},_focusedIndex:{type:Number,value:-1},filter:{type:String,value:"",notify:!0},selectedItem:{type:Object,notify:!0},itemLabelPath:{type:String,value:"label"},itemValuePath:{type:String,value:"value"},itemIdPath:String,name:{type:String},invalid:{type:Boolean,reflectToAttribute:!0,notify:!0,value:!1},_toggleElement:Object,_clearElement:Object,_inputElementValue:String,_closeOnBlurIsPrevented:Boolean,_previousDocumentPointerEvents:String,_itemTemplate:Object}}},{key:"observers",get:function get(){return["_filterChanged(filter, itemValuePath, itemLabelPath)","_itemsOrPathsChanged(items.*, itemValuePath, itemLabelPath)","_filteredItemsChanged(filteredItems.*, itemValuePath, itemLabelPath)","_templateOrRendererChanged(_itemTemplate, renderer)","_loadingChanged(loading)","_selectedItemChanged(selectedItem)","_toggleElementChanged(_toggleElement)"]}}]);return VaadinComboBoxMixinElement}(subclass)};function vaadin_combo_box_data_provider_mixin_typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){vaadin_combo_box_data_provider_mixin_typeof=function _typeof(obj){return typeof obj}}else{vaadin_combo_box_data_provider_mixin_typeof=function _typeof(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return vaadin_combo_box_data_provider_mixin_typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function vaadin_combo_box_data_provider_mixin_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function vaadin_combo_box_data_provider_mixin_defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function vaadin_combo_box_data_provider_mixin_createClass(Constructor,protoProps,staticProps){if(protoProps)vaadin_combo_box_data_provider_mixin_defineProperties(Constructor.prototype,protoProps);if(staticProps)vaadin_combo_box_data_provider_mixin_defineProperties(Constructor,staticProps);return Constructor}function vaadin_combo_box_data_provider_mixin_possibleConstructorReturn(self,call){if(call&&("object"===vaadin_combo_box_data_provider_mixin_typeof(call)||"function"===typeof call)){return call}return vaadin_combo_box_data_provider_mixin_assertThisInitialized(self)}function vaadin_combo_box_data_provider_mixin_assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function vaadin_combo_box_data_provider_mixin_get(target,property,receiver){if("undefined"!==typeof Reflect&&Reflect.get){vaadin_combo_box_data_provider_mixin_get=Reflect.get}else{vaadin_combo_box_data_provider_mixin_get=function _get(target,property,receiver){var base=vaadin_combo_box_data_provider_mixin_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return vaadin_combo_box_data_provider_mixin_get(target,property,receiver||target)}function vaadin_combo_box_data_provider_mixin_superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=vaadin_combo_box_data_provider_mixin_getPrototypeOf(object);if(null===object)break}return object}function vaadin_combo_box_data_provider_mixin_getPrototypeOf(o){vaadin_combo_box_data_provider_mixin_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return vaadin_combo_box_data_provider_mixin_getPrototypeOf(o)}function vaadin_combo_box_data_provider_mixin_inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)vaadin_combo_box_data_provider_mixin_setPrototypeOf(subClass,superClass)}function vaadin_combo_box_data_provider_mixin_setPrototypeOf(o,p){vaadin_combo_box_data_provider_mixin_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return vaadin_combo_box_data_provider_mixin_setPrototypeOf(o,p)}/**
@license
Copyright (c) 2018 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/var vaadin_combo_box_data_provider_mixin_ComboBoxDataProviderMixin=function ComboBoxDataProviderMixin(superClass){return function(_superClass){vaadin_combo_box_data_provider_mixin_inherits(DataProviderMixin,_superClass);function DataProviderMixin(){vaadin_combo_box_data_provider_mixin_classCallCheck(this,DataProviderMixin);return vaadin_combo_box_data_provider_mixin_possibleConstructorReturn(this,vaadin_combo_box_data_provider_mixin_getPrototypeOf(DataProviderMixin).apply(this,arguments))}vaadin_combo_box_data_provider_mixin_createClass(DataProviderMixin,[{key:"_dataProviderClearFilter",value:function _dataProviderClearFilter(dataProvider,opened,value){if(dataProvider&&this.filter){this.size=void 0;this._pendingRequests={};this.filter="";this.clearCache()}}},{key:"ready",value:function ready(){var _this=this;vaadin_combo_box_data_provider_mixin_get(vaadin_combo_box_data_provider_mixin_getPrototypeOf(DataProviderMixin.prototype),"ready",this).call(this);this.clearCache();this.$.overlay.addEventListener("index-requested",function(e){var index=e.detail.index;if(index!==void 0){var page=_this._getPageForIndex(index);if(!_this._hasPage(page)){_this._loadPage(page)}}})}},{key:"_dataProviderFilterChanged",value:function _dataProviderFilterChanged(){if(this.dataProvider&&this.opened){this.size=void 0;this._pendingRequests={};this.clearCache()}}},{key:"_ensureFirstPage",value:function _ensureFirstPage(opened){if(opened&&!this._hasPage(0)){this._loadPage(0)}}},{key:"_hasPage",value:function _hasPage(page){if(!this.filteredItems){return!1}var loadedItem=this.filteredItems[page*this.pageSize];return loadedItem!==void 0&&!(loadedItem instanceof ComboBoxPlaceholder)}},{key:"_loadPage",value:function _loadPage(page){var _this2=this;if(!this._pendingRequests[page]&&this.dataProvider){this.loading=!0;var params={page:page,pageSize:this.pageSize,filter:this.filter},callback=function callback(items,size){if(_this2._pendingRequests[page]===callback){if(!_this2.filteredItems){var filteredItems=[];filteredItems.splice.apply(filteredItems,[params.page*params.pageSize,items.length].concat(_toConsumableArray(items)));_this2.filteredItems=filteredItems}else{_this2.splice.apply(_this2,["filteredItems",params.page*params.pageSize,items.length].concat(_toConsumableArray(items)))}if(_this2._isValidValue(_this2.value)&&_this2._getItemValue(_this2.selectedItem)!==_this2.value){_this2._selectItemForValue(_this2.value)}_this2.size=size;delete _this2._pendingRequests[page];if(0===Object.keys(_this2._pendingRequests).length){_this2.loading=!1}}};this._pendingRequests[page]=callback;this.dataProvider(params,callback)}}},{key:"_getPageForIndex",value:function _getPageForIndex(index){return _Mathfloor(index/this.pageSize)}},{key:"clearCache",value:function clearCache(){if(!this.dataProvider){return}this._pendingRequests={};for(var filteredItems=[],i=0;i<(this.size||0);i++){filteredItems.push(this.__placeHolder)}this.filteredItems=filteredItems;if(this.opened){this._loadPage(0)}}},{key:"_sizeChanged",value:function _sizeChanged(){for(var size=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,filteredItems=(this.filteredItems||[]).slice(0),i=0;i<size;i++){filteredItems[i]=filteredItems[i]!==void 0?filteredItems[i]:this.__placeHolder}this.filteredItems=filteredItems}},{key:"_pageSizeChanged",value:function _pageSizeChanged(pageSize,oldPageSize){if(_Mathfloor(pageSize)!==pageSize||0===pageSize){this.pageSize=oldPageSize;throw new Error("`pageSize` value must be an integer > 0")}this.clearCache()}},{key:"_dataProviderChanged",value:function _dataProviderChanged(dataProvider,oldDataProvider){var _this3=this;this._ensureItemsOrDataProvider(function(){_this3.dataProvider=oldDataProvider})}},{key:"_ensureItemsOrDataProvider",value:function _ensureItemsOrDataProvider(restoreOldValueCallback){if(this.items!==void 0&&this.dataProvider!==void 0){restoreOldValueCallback();throw new Error("Using `items` and `dataProvider` together is not supported")}}},{key:"_warnDataProviderValue",value:function _warnDataProviderValue(dataProvider,value){if(dataProvider&&""!==value&&(this.selectedItem===void 0||null===this.selectedItem)){var valueIndex=this._indexOfValue(value,this.filteredItems);if(0>valueIndex||!this._getItemLabel(this.filteredItems[valueIndex])){console.warn("Warning: unable to determine the label for the provided `value`. "+"Nothing to display in the text field. This usually happens when "+"setting an initial `value` before any items are returned from "+"the `dataProvider` callback. Consider setting `selectedItem` "+"instead of `value`")}}}}],[{key:"properties",get:function get(){return{pageSize:{type:Number,value:50,observer:"_pageSizeChanged"},size:{type:Number,observer:"_sizeChanged"},dataProvider:{type:Object,observer:"_dataProviderChanged"},_pendingRequests:{value:function value(){return{}}},__placeHolder:{value:new ComboBoxPlaceholder}}}},{key:"observers",get:function get(){return["_dataProviderFilterChanged(filter, dataProvider)","_dataProviderClearFilter(dataProvider, opened, value)","_warnDataProviderValue(dataProvider, value)","_ensureFirstPage(opened)"]}}]);return DataProviderMixin}(superClass)},polymer_legacy=__webpack_require__(2),iron_resizable_behavior=__webpack_require__(85),iron_scroll_target_behavior=__webpack_require__(126),mutable_data_behavior=__webpack_require__(88),polymer_fn=__webpack_require__(4),polymer_dom=__webpack_require__(0),templatizer_behavior=__webpack_require__(87),debounce=__webpack_require__(19),path=__webpack_require__(1);function iron_list_templateObject(){var data=iron_list_taggedTemplateLiteral(["\n    <style>\n      :host {\n        display: block;\n      }\n\n      @media only screen and (-webkit-max-device-pixel-ratio: 1) {\n        :host {\n          will-change: transform;\n        }\n      }\n\n      #items {\n        @apply --iron-list-items-container;\n        position: relative;\n      }\n\n      :host(:not([grid])) #items > ::slotted(*) {\n        width: 100%;\n      }\n\n      #items > ::slotted(*) {\n        box-sizing: border-box;\n        margin: 0;\n        position: absolute;\n        top: 0;\n        will-change: transform;\n      }\n    </style>\n\n    <array-selector id=\"selector\" items=\"{{items}}\" selected=\"{{selectedItems}}\" selected-item=\"{{selectedItem}}\"></array-selector>\n\n    <div id=\"items\">\n      <slot></slot>\n    </div>\n"]);iron_list_templateObject=function _templateObject(){return data};return data}function iron_list_taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/var IOS=navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/),IOS_TOUCH_SCROLLING=IOS&&8<=IOS[1],DEFAULT_PHYSICAL_COUNT=3,HIDDEN_Y="-10000px",ITEM_WIDTH=0,ITEM_HEIGHT=1,SECRET_TABINDEX=-100,IS_V2=null!=flush.b,ANIMATION_FRAME=IS_V2?utils_async.a:0,IDLE_TIME=IS_V2?utils_async.b:1,MICRO_TASK=IS_V2?utils_async.c:2;if(!mutable_data_behavior.a){Polymer.OptionalMutableDataBehavior={}}Object(polymer_fn.a)({_template:Object(html_tag.a)(iron_list_templateObject()),is:"iron-list",properties:{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},selectedAs:{type:String,value:"selected"},grid:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_gridChanged"},selectionEnabled:{type:Boolean,value:!1},selectedItem:{type:Object,notify:!0},selectedItems:{type:Object,notify:!0},multiSelection:{type:Boolean,value:!1},scrollOffset:{type:Number,value:0}},observers:["_itemsChanged(items.*)","_selectionEnabledChanged(selectionEnabled)","_multiSelectionChanged(multiSelection)","_setOverflow(scrollTarget, scrollOffset)"],behaviors:[templatizer_behavior.a,iron_resizable_behavior.a,iron_scroll_target_behavior.a,mutable_data_behavior.a],_ratio:.5,_scrollerPaddingTop:0,_scrollPosition:0,_physicalSize:0,_physicalAverage:0,_physicalAverageCount:0,_physicalTop:0,_virtualCount:0,_estScrollHeight:0,_scrollHeight:0,_viewportHeight:0,_viewportWidth:0,_physicalItems:null,_physicalSizes:null,_firstVisibleIndexVal:null,_collection:null,_lastVisibleIndexVal:null,_maxPages:2,_focusedItem:null,_focusedVirtualIndex:-1,_focusedPhysicalIndex:-1,_offscreenFocusedItem:null,_focusBackfillItem:null,_itemsPerRow:1,_itemWidth:0,_rowHeight:0,_templateCost:0,_parentModel:!0,get _physicalBottom(){return this._physicalTop+this._physicalSize},get _scrollBottom(){return this._scrollPosition+this._viewportHeight},get _virtualEnd(){return this._virtualStart+this._physicalCount-1},get _hiddenContentSize(){var size=this.grid?this._physicalRows*this._rowHeight:this._physicalSize;return size-this._viewportHeight},get _itemsParent(){return Object(polymer_dom.b)(Object(polymer_dom.b)(this._userTemplate).parentNode)},get _maxScrollTop(){return this._estScrollHeight-this._viewportHeight+this._scrollOffset},get _maxVirtualStart(){var virtualCount=this._convertIndexToCompleteRow(this._virtualCount);return _Mathmax(0,virtualCount-this._physicalCount)},set _virtualStart(val){val=this._clamp(val,0,this._maxVirtualStart);if(this.grid){val=val-val%this._itemsPerRow}this._virtualStartVal=val},get _virtualStart(){return this._virtualStartVal||0},set _physicalStart(val){val=val%this._physicalCount;if(0>val){val=this._physicalCount+val}if(this.grid){val=val-val%this._itemsPerRow}this._physicalStartVal=val},get _physicalStart(){return this._physicalStartVal||0},get _physicalEnd(){return(this._physicalStart+this._physicalCount-1)%this._physicalCount},set _physicalCount(val){this._physicalCountVal=val},get _physicalCount(){return this._physicalCountVal||0},get _optPhysicalSize(){return 0===this._viewportHeight?Infinity:this._viewportHeight*this._maxPages},get _isVisible(){return!!(this.offsetWidth||this.offsetHeight)},get firstVisibleIndex(){var idx=this._firstVisibleIndexVal;if(null==idx){var physicalOffset=this._physicalTop+this._scrollOffset;idx=this._iterateItems(function(pidx,vidx){physicalOffset+=this._getPhysicalSizeIncrement(pidx);if(physicalOffset>this._scrollPosition){return this.grid?vidx-vidx%this._itemsPerRow:vidx}if(this.grid&&this._virtualCount-1===vidx){return vidx-vidx%this._itemsPerRow}})||0;this._firstVisibleIndexVal=idx}return idx},get lastVisibleIndex(){var idx=this._lastVisibleIndexVal;if(null==idx){if(this.grid){idx=_Mathmin(this._virtualCount,this.firstVisibleIndex+this._estRowsInView*this._itemsPerRow-1)}else{var physicalOffset=this._physicalTop+this._scrollOffset;this._iterateItems(function(pidx,vidx){if(physicalOffset<this._scrollBottom){idx=vidx}physicalOffset+=this._getPhysicalSizeIncrement(pidx)})}this._lastVisibleIndexVal=idx}return idx},get _defaultScrollTarget(){return this},get _virtualRowCount(){return _Mathceil(this._virtualCount/this._itemsPerRow)},get _estRowsInView(){return _Mathceil(this._viewportHeight/this._rowHeight)},get _physicalRows(){return _Mathceil(this._physicalCount/this._itemsPerRow)},get _scrollOffset(){return this._scrollerPaddingTop+this.scrollOffset},ready:function ready(){this.addEventListener("focus",this._didFocus.bind(this),!0)},attached:function attached(){this._debounce("_render",this._render,ANIMATION_FRAME);this.listen(this,"iron-resize","_resizeHandler");this.listen(this,"keydown","_keydownHandler")},detached:function detached(){this.unlisten(this,"iron-resize","_resizeHandler");this.unlisten(this,"keydown","_keydownHandler")},_setOverflow:function _setOverflow(scrollTarget){this.style.webkitOverflowScrolling=scrollTarget===this?"touch":"";this.style.overflowY=scrollTarget===this?"auto":"";this._lastVisibleIndexVal=null;this._firstVisibleIndexVal=null;this._debounce("_render",this._render,ANIMATION_FRAME)},updateViewportBoundaries:function updateViewportBoundaries(){var styles=window.getComputedStyle(this);this._scrollerPaddingTop=this.scrollTarget===this?0:parseInt(styles["padding-top"],10);this._isRTL=!!("rtl"===styles.direction);this._viewportWidth=this.$.items.offsetWidth;this._viewportHeight=this._scrollTargetHeight;this.grid&&this._updateGridMetrics()},_scrollHandler:function _scrollHandler(){var scrollTop=_Mathmax(0,_Mathmin(this._maxScrollTop,this._scrollTop)),delta=scrollTop-this._scrollPosition,isScrollingDown=0<=delta;this._scrollPosition=scrollTop;this._firstVisibleIndexVal=null;this._lastVisibleIndexVal=null;if(_Mathabs(delta)>this._physicalSize&&0<this._physicalSize){delta=delta-this._scrollOffset;var idxAdjustment=_Mathround(delta/this._physicalAverage)*this._itemsPerRow;this._virtualStart=this._virtualStart+idxAdjustment;this._physicalStart=this._physicalStart+idxAdjustment;this._physicalTop=_Mathfloor(this._virtualStart/this._itemsPerRow)*this._physicalAverage;this._update()}else if(0<this._physicalCount){var reusables=this._getReusables(isScrollingDown);if(isScrollingDown){this._physicalTop=reusables.physicalTop;this._virtualStart=this._virtualStart+reusables.indexes.length;this._physicalStart=this._physicalStart+reusables.indexes.length}else{this._virtualStart=this._virtualStart-reusables.indexes.length;this._physicalStart=this._physicalStart-reusables.indexes.length}this._update(reusables.indexes,isScrollingDown?null:reusables.indexes);this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,0),MICRO_TASK)}},_getReusables:function _getReusables(fromTop){var ith,lastIth,offsetContent,physicalItemHeight,idxs=[],protectedOffsetContent=this._hiddenContentSize*this._ratio,virtualStart=this._virtualStart,virtualEnd=this._virtualEnd,physicalCount=this._physicalCount,top=this._physicalTop+this._scrollOffset,bottom=this._physicalBottom+this._scrollOffset,scrollTop=this._scrollTop,scrollBottom=this._scrollBottom;if(fromTop){ith=this._physicalStart;lastIth=this._physicalEnd;offsetContent=scrollTop-top}else{ith=this._physicalEnd;lastIth=this._physicalStart;offsetContent=bottom-scrollBottom}while(!0){physicalItemHeight=this._getPhysicalSizeIncrement(ith);offsetContent=offsetContent-physicalItemHeight;if(idxs.length>=physicalCount||offsetContent<=protectedOffsetContent){break}if(fromTop){if(virtualEnd+idxs.length+1>=this._virtualCount){break}if(top+physicalItemHeight>=scrollTop-this._scrollOffset){break}idxs.push(ith);top=top+physicalItemHeight;ith=(ith+1)%physicalCount}else{if(0>=virtualStart-idxs.length){break}if(top+this._physicalSize-physicalItemHeight<=scrollBottom){break}idxs.push(ith);top=top-physicalItemHeight;ith=0===ith?physicalCount-1:ith-1}}return{indexes:idxs,physicalTop:top-this._scrollOffset}},_update:function _update(itemSet,movingUp){if(itemSet&&0===itemSet.length||0===this._physicalCount){return}this._manageFocus();this._assignModels(itemSet);this._updateMetrics(itemSet);if(movingUp){while(movingUp.length){var idx=movingUp.pop();this._physicalTop-=this._getPhysicalSizeIncrement(idx)}}this._positionItems();this._updateScrollerSize()},_createPool:function _createPool(size){this._ensureTemplatized();var i,inst,physicalItems=Array(size);for(i=0;i<size;i++){inst=this.stamp(null);physicalItems[i]=inst.root.querySelector("*");this._itemsParent.appendChild(inst.root)}return physicalItems},_isClientFull:function _isClientFull(){return 0!=this._scrollBottom&&this._physicalBottom-1>=this._scrollBottom&&this._physicalTop<=this._scrollPosition},_increasePoolIfNeeded:function _increasePoolIfNeeded(count){var nextPhysicalCount=this._clamp(this._physicalCount+count,DEFAULT_PHYSICAL_COUNT,this._virtualCount-this._virtualStart);nextPhysicalCount=this._convertIndexToCompleteRow(nextPhysicalCount);if(this.grid){var correction=nextPhysicalCount%this._itemsPerRow;if(correction&&nextPhysicalCount-correction<=this._physicalCount){nextPhysicalCount+=this._itemsPerRow}nextPhysicalCount-=correction}var delta=nextPhysicalCount-this._physicalCount,nextIncrease=_Mathround(.5*this._physicalCount);if(0>delta){return}if(0<delta){var ts=window.performance.now();[].push.apply(this._physicalItems,this._createPool(delta));for(var i=0;i<delta;i++){this._physicalSizes.push(0)}this._physicalCount=this._physicalCount+delta;if(this._physicalStart>this._physicalEnd&&this._isIndexRendered(this._focusedVirtualIndex)&&this._getPhysicalIndex(this._focusedVirtualIndex)<this._physicalEnd){this._physicalStart=this._physicalStart+delta}this._update();this._templateCost=(window.performance.now()-ts)/delta;nextIncrease=_Mathround(.5*this._physicalCount)}if(this._virtualEnd>=this._virtualCount-1||0===nextIncrease){}else if(!this._isClientFull()){this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,nextIncrease),MICRO_TASK)}else if(this._physicalSize<this._optPhysicalSize){this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,this._clamp(_Mathround(50/this._templateCost),1,nextIncrease)),IDLE_TIME)}},_render:function _render(){if(!this.isAttached||!this._isVisible){return}if(0!==this._physicalCount){var reusables=this._getReusables(!0);this._physicalTop=reusables.physicalTop;this._virtualStart=this._virtualStart+reusables.indexes.length;this._physicalStart=this._physicalStart+reusables.indexes.length;this._update(reusables.indexes);this._update();this._increasePoolIfNeeded(0)}else if(0<this._virtualCount){this.updateViewportBoundaries();this._increasePoolIfNeeded(DEFAULT_PHYSICAL_COUNT)}},_ensureTemplatized:function _ensureTemplatized(){if(this.ctor){return}this._userTemplate=this.queryEffectiveChildren("template");if(!this._userTemplate){console.warn("iron-list requires a template to be provided in light-dom")}var instanceProps={__key__:!0};instanceProps[this.as]=!0;instanceProps[this.indexAs]=!0;instanceProps[this.selectedAs]=!0;instanceProps.tabIndex=!0;this._instanceProps=instanceProps;this.templatize(this._userTemplate,this.mutableData)},_gridChanged:function _gridChanged(newGrid,oldGrid){if("undefined"===typeof oldGrid)return;this.notifyResize();flush.b?Object(flush.b)():Object(polymer_dom.c)();newGrid&&this._updateGridMetrics()},_itemsChanged:function _itemsChanged(change){if("items"===change.path){this._virtualStart=0;this._physicalTop=0;this._virtualCount=this.items?this.items.length:0;this._collection=this.items&&void 0?(void 0).get(this.items):null;this._physicalIndexForKey={};this._firstVisibleIndexVal=null;this._lastVisibleIndexVal=null;this._physicalCount=this._physicalCount||0;this._physicalItems=this._physicalItems||[];this._physicalSizes=this._physicalSizes||[];this._physicalStart=0;if(this._scrollTop>this._scrollOffset){this._resetScrollPosition(0)}this._removeFocusedItem();this._debounce("_render",this._render,ANIMATION_FRAME)}else if("items.splices"===change.path){this._adjustVirtualIndex(change.value.indexSplices);this._virtualCount=this.items?this.items.length:0;var itemAddedOrRemoved=change.value.indexSplices.some(function(splice){return 0<splice.addedCount||0<splice.removed.length});if(itemAddedOrRemoved){var activeElement=this._getActiveElement();if(this.contains(activeElement)){activeElement.blur()}}var affectedIndexRendered=change.value.indexSplices.some(function(splice){return splice.index+splice.addedCount>=this._virtualStart&&splice.index<=this._virtualEnd},this);if(!this._isClientFull()||affectedIndexRendered){this._debounce("_render",this._render,ANIMATION_FRAME)}}else if("items.length"!==change.path){this._forwardItemPath(change.path,change.value)}},_forwardItemPath:function _forwardItemPath(path,value){path=path.slice(6);var dot=path.indexOf(".");if(-1===dot){dot=path.length}var isIndexRendered,pidx,inst,offscreenInstance=this.modelForElement(this._offscreenFocusedItem);if(IS_V2){var vidx=parseInt(path.substring(0,dot),10);isIndexRendered=this._isIndexRendered(vidx);if(isIndexRendered){pidx=this._getPhysicalIndex(vidx);inst=this.modelForElement(this._physicalItems[pidx])}else if(offscreenInstance){inst=offscreenInstance}if(!inst||inst[this.indexAs]!==vidx){return}}else{var key=path.substring(0,dot);if(offscreenInstance&&offscreenInstance.__key__===key){inst=offscreenInstance}else{pidx=this._physicalIndexForKey[key];inst=this.modelForElement(this._physicalItems[pidx]);if(!inst||inst.__key__!==key){return}}}path=path.substring(dot+1);path=this.as+(path?"."+path:"");IS_V2?inst._setPendingPropertyOrPath(path,value,!1,!0):inst.notifyPath(path,value,!0);inst._flushProperties&&inst._flushProperties(!0);if(isIndexRendered){this._updateMetrics([pidx]);this._positionItems();this._updateScrollerSize()}},_adjustVirtualIndex:function _adjustVirtualIndex(splices){splices.forEach(function(splice){splice.removed.forEach(this._removeItem,this);if(splice.index<this._virtualStart){var delta=_Mathmax(splice.addedCount-splice.removed.length,splice.index-this._virtualStart);this._virtualStart=this._virtualStart+delta;if(0<=this._focusedVirtualIndex){this._focusedVirtualIndex=this._focusedVirtualIndex+delta}}},this)},_removeItem:function _removeItem(item){this.$.selector.deselect(item);if(this._focusedItem&&this.modelForElement(this._focusedItem)[this.as]===item){this._removeFocusedItem()}},_iterateItems:function _iterateItems(fn,itemSet){var pidx,vidx,rtn,i;if(2===arguments.length&&itemSet){for(i=0;i<itemSet.length;i++){pidx=itemSet[i];vidx=this._computeVidx(pidx);if(null!=(rtn=fn.call(this,pidx,vidx))){return rtn}}}else{pidx=this._physicalStart;vidx=this._virtualStart;for(;pidx<this._physicalCount;pidx++,vidx++){if(null!=(rtn=fn.call(this,pidx,vidx))){return rtn}}for(pidx=0;pidx<this._physicalStart;pidx++,vidx++){if(null!=(rtn=fn.call(this,pidx,vidx))){return rtn}}}},_computeVidx:function _computeVidx(pidx){if(pidx>=this._physicalStart){return this._virtualStart+(pidx-this._physicalStart)}return this._virtualStart+(this._physicalCount-this._physicalStart)+pidx},_assignModels:function _assignModels(itemSet){this._iterateItems(function(pidx,vidx){var el=this._physicalItems[pidx],item=this.items&&this.items[vidx];if(null!=item){var inst=this.modelForElement(el);inst.__key__=this._collection?this._collection.getKey(item):null;this._forwardProperty(inst,this.as,item);this._forwardProperty(inst,this.selectedAs,this.$.selector.isSelected(item));this._forwardProperty(inst,this.indexAs,vidx);this._forwardProperty(inst,"tabIndex",this._focusedVirtualIndex===vidx?0:-1);this._physicalIndexForKey[inst.__key__]=pidx;inst._flushProperties&&inst._flushProperties(!0);el.removeAttribute("hidden")}else{el.setAttribute("hidden","")}},itemSet)},_updateMetrics:function _updateMetrics(itemSet){flush.b?Object(flush.b)():Object(polymer_dom.c)();var newPhysicalSize=0,oldPhysicalSize=0,prevAvgCount=this._physicalAverageCount,prevPhysicalAvg=this._physicalAverage;this._iterateItems(function(pidx,vidx){oldPhysicalSize+=this._physicalSizes[pidx];this._physicalSizes[pidx]=this._physicalItems[pidx].offsetHeight;newPhysicalSize+=this._physicalSizes[pidx];this._physicalAverageCount+=this._physicalSizes[pidx]?1:0},itemSet);if(this.grid){this._updateGridMetrics();this._physicalSize=_Mathceil(this._physicalCount/this._itemsPerRow)*this._rowHeight}else{oldPhysicalSize=1===this._itemsPerRow?oldPhysicalSize:_Mathceil(this._physicalCount/this._itemsPerRow)*this._rowHeight;this._physicalSize=this._physicalSize+newPhysicalSize-oldPhysicalSize;this._itemsPerRow=1}if(this._physicalAverageCount!==prevAvgCount){this._physicalAverage=_Mathround((prevPhysicalAvg*prevAvgCount+newPhysicalSize)/this._physicalAverageCount)}},_updateGridMetrics:function _updateGridMetrics(){this._itemWidth=0<this._physicalCount?this._physicalItems[0].getBoundingClientRect().width:200;this._rowHeight=0<this._physicalCount?this._physicalItems[0].offsetHeight:200;this._itemsPerRow=this._itemWidth?_Mathfloor(this._viewportWidth/this._itemWidth):this._itemsPerRow},_positionItems:function _positionItems(){this._adjustScrollPosition();var y=this._physicalTop;if(this.grid){var totalItemWidth=this._itemsPerRow*this._itemWidth,rowOffset=(this._viewportWidth-totalItemWidth)/2;this._iterateItems(function(pidx,vidx){var modulus=vidx%this._itemsPerRow,x=_Mathfloor(modulus*this._itemWidth+rowOffset);if(this._isRTL){x=-1*x}this.translate3d(x+"px",y+"px",0,this._physicalItems[pidx]);if(this._shouldRenderNextRow(vidx)){y+=this._rowHeight}})}else{this._iterateItems(function(pidx,vidx){this.translate3d(0,y+"px",0,this._physicalItems[pidx]);y+=this._physicalSizes[pidx]})}},_getPhysicalSizeIncrement:function _getPhysicalSizeIncrement(pidx){if(!this.grid){return this._physicalSizes[pidx]}if(this._computeVidx(pidx)%this._itemsPerRow!==this._itemsPerRow-1){return 0}return this._rowHeight},_shouldRenderNextRow:function _shouldRenderNextRow(vidx){return vidx%this._itemsPerRow===this._itemsPerRow-1},_adjustScrollPosition:function _adjustScrollPosition(){var deltaHeight=0===this._virtualStart?this._physicalTop:_Mathmin(this._scrollPosition+this._physicalTop,0);if(0!==deltaHeight){this._physicalTop=this._physicalTop-deltaHeight;var scrollTop=this._scrollTop;if(!IOS_TOUCH_SCROLLING&&0<scrollTop){this._resetScrollPosition(scrollTop-deltaHeight)}}},_resetScrollPosition:function _resetScrollPosition(pos){if(this.scrollTarget&&0<=pos){this._scrollTop=pos;this._scrollPosition=this._scrollTop}},_updateScrollerSize:function _updateScrollerSize(forceUpdate){if(this.grid){this._estScrollHeight=this._virtualRowCount*this._rowHeight}else{this._estScrollHeight=this._physicalBottom+_Mathmax(this._virtualCount-this._physicalCount-this._virtualStart,0)*this._physicalAverage}forceUpdate=forceUpdate||0===this._scrollHeight;forceUpdate=forceUpdate||this._scrollPosition>=this._estScrollHeight-this._physicalSize;forceUpdate=forceUpdate||this.grid&&this.$.items.style.height<this._estScrollHeight;if(forceUpdate||_Mathabs(this._estScrollHeight-this._scrollHeight)>=this._viewportHeight){this.$.items.style.height=this._estScrollHeight+"px";this._scrollHeight=this._estScrollHeight}},scrollToItem:function scrollToItem(item){return this.scrollToIndex(this.items.indexOf(item))},scrollToIndex:function scrollToIndex(idx){if("number"!==typeof idx||0>idx||idx>this.items.length-1){return}flush.b?Object(flush.b)():Object(polymer_dom.c)();if(0===this._physicalCount){return}idx=this._clamp(idx,0,this._virtualCount-1);if(!this._isIndexRendered(idx)||idx>=this._maxVirtualStart){this._virtualStart=this.grid?idx-2*this._itemsPerRow:idx-1}this._manageFocus();this._assignModels();this._updateMetrics();this._physicalTop=_Mathfloor(this._virtualStart/this._itemsPerRow)*this._physicalAverage;var currentTopItem=this._physicalStart,currentVirtualItem=this._virtualStart,targetOffsetTop=0,hiddenContentSize=this._hiddenContentSize;while(currentVirtualItem<idx&&targetOffsetTop<=hiddenContentSize){targetOffsetTop=targetOffsetTop+this._getPhysicalSizeIncrement(currentTopItem);currentTopItem=(currentTopItem+1)%this._physicalCount;currentVirtualItem++}this._updateScrollerSize(!0);this._positionItems();this._resetScrollPosition(this._physicalTop+this._scrollOffset+targetOffsetTop);this._increasePoolIfNeeded(0);this._firstVisibleIndexVal=null;this._lastVisibleIndexVal=null},_resetAverage:function _resetAverage(){this._physicalAverage=0;this._physicalAverageCount=0},_resizeHandler:function _resizeHandler(){this._debounce("_render",function(){this._firstVisibleIndexVal=null;this._lastVisibleIndexVal=null;var delta=_Mathabs(this._viewportHeight-this._scrollTargetHeight);this.updateViewportBoundaries();if(this._isVisible){this.toggleScrollListener(!0);this._resetAverage();this._render()}else{this.toggleScrollListener(!1)}},ANIMATION_FRAME)},selectItem:function selectItem(item){return this.selectIndex(this.items.indexOf(item))},selectIndex:function selectIndex(index){if(0>index||index>=this._virtualCount){return}if(!this.multiSelection&&this.selectedItem){this.clearSelection()}if(this._isIndexRendered(index)){var model=this.modelForElement(this._physicalItems[this._getPhysicalIndex(index)]);if(model){model[this.selectedAs]=!0}this.updateSizeForIndex(index)}if(this.$.selector.selectIndex){this.$.selector.selectIndex(index)}else{this.$.selector.select(this.items[index])}},deselectItem:function deselectItem(item){return this.deselectIndex(this.items.indexOf(item))},deselectIndex:function deselectIndex(index){if(0>index||index>=this._virtualCount){return}if(this._isIndexRendered(index)){var model=this.modelForElement(this._physicalItems[this._getPhysicalIndex(index)]);model[this.selectedAs]=!1;this.updateSizeForIndex(index)}if(this.$.selector.deselectIndex){this.$.selector.deselectIndex(index)}else{this.$.selector.deselect(this.items[index])}},toggleSelectionForItem:function toggleSelectionForItem(item){return this.toggleSelectionForIndex(this.items.indexOf(item))},toggleSelectionForIndex:function toggleSelectionForIndex(index){var isSelected=this.$.selector.isIndexSelected?this.$.selector.isIndexSelected(index):this.$.selector.isSelected(this.items[index]);isSelected?this.deselectIndex(index):this.selectIndex(index)},clearSelection:function clearSelection(){this._iterateItems(function(pidx,vidx){this.modelForElement(this._physicalItems[pidx])[this.selectedAs]=!1});this.$.selector.clearSelection()},_selectionEnabledChanged:function _selectionEnabledChanged(selectionEnabled){var handler=selectionEnabled?this.listen:this.unlisten;handler.call(this,this,"tap","_selectionHandler")},_selectionHandler:function _selectionHandler(e){var model=this.modelForElement(e.target);if(!model){return}var modelTabIndex,activeElTabIndex,target=Object(polymer_dom.b)(e).path[0],activeEl=this._getActiveElement(),physicalItem=this._physicalItems[this._getPhysicalIndex(model[this.indexAs])];if("input"===target.localName||"button"===target.localName||"select"===target.localName){return}modelTabIndex=model.tabIndex;model.tabIndex=SECRET_TABINDEX;activeElTabIndex=activeEl?activeEl.tabIndex:-1;model.tabIndex=modelTabIndex;if(activeEl&&physicalItem!==activeEl&&physicalItem.contains(activeEl)&&activeElTabIndex!==SECRET_TABINDEX){return}this.toggleSelectionForItem(model[this.as])},_multiSelectionChanged:function _multiSelectionChanged(multiSelection){this.clearSelection();this.$.selector.multi=multiSelection},updateSizeForItem:function updateSizeForItem(item){return this.updateSizeForIndex(this.items.indexOf(item))},updateSizeForIndex:function updateSizeForIndex(index){if(!this._isIndexRendered(index)){return null}this._updateMetrics([this._getPhysicalIndex(index)]);this._positionItems();return null},_manageFocus:function _manageFocus(){var fidx=this._focusedVirtualIndex;if(0<=fidx&&fidx<this._virtualCount){if(this._isIndexRendered(fidx)){this._restoreFocusedItem()}else{this._createFocusBackfillItem()}}else if(0<this._virtualCount&&0<this._physicalCount){this._focusedPhysicalIndex=this._physicalStart;this._focusedVirtualIndex=this._virtualStart;this._focusedItem=this._physicalItems[this._physicalStart]}},_convertIndexToCompleteRow:function _convertIndexToCompleteRow(idx){this._itemsPerRow=this._itemsPerRow||1;return this.grid?_Mathceil(idx/this._itemsPerRow)*this._itemsPerRow:idx},_isIndexRendered:function _isIndexRendered(idx){return idx>=this._virtualStart&&idx<=this._virtualEnd},_isIndexVisible:function _isIndexVisible(idx){return idx>=this.firstVisibleIndex&&idx<=this.lastVisibleIndex},_getPhysicalIndex:function _getPhysicalIndex(vidx){return IS_V2?(this._physicalStart+(vidx-this._virtualStart))%this._physicalCount:this._physicalIndexForKey[this._collection.getKey(this.items[vidx])]},focusItem:function focusItem(idx){this._focusPhysicalItem(idx)},_focusPhysicalItem:function _focusPhysicalItem(idx){if(0>idx||idx>=this._virtualCount){return}this._restoreFocusedItem();if(!this._isIndexRendered(idx)){this.scrollToIndex(idx)}var physicalItem=this._physicalItems[this._getPhysicalIndex(idx)],model=this.modelForElement(physicalItem),focusable;model.tabIndex=SECRET_TABINDEX;if(physicalItem.tabIndex===SECRET_TABINDEX){focusable=physicalItem}if(!focusable){focusable=Object(polymer_dom.b)(physicalItem).querySelector("[tabindex=\""+SECRET_TABINDEX+"\"]")}model.tabIndex=0;this._focusedVirtualIndex=idx;focusable&&focusable.focus()},_removeFocusedItem:function _removeFocusedItem(){if(this._offscreenFocusedItem){this._itemsParent.removeChild(this._offscreenFocusedItem)}this._offscreenFocusedItem=null;this._focusBackfillItem=null;this._focusedItem=null;this._focusedVirtualIndex=-1;this._focusedPhysicalIndex=-1},_createFocusBackfillItem:function _createFocusBackfillItem(){var fpidx=this._focusedPhysicalIndex;if(this._offscreenFocusedItem||0>this._focusedVirtualIndex){return}if(!this._focusBackfillItem){var inst=this.stamp(null);this._focusBackfillItem=inst.root.querySelector("*");this._itemsParent.appendChild(inst.root)}this._offscreenFocusedItem=this._physicalItems[fpidx];this.modelForElement(this._offscreenFocusedItem).tabIndex=0;this._physicalItems[fpidx]=this._focusBackfillItem;this._focusedPhysicalIndex=fpidx;this.translate3d(0,HIDDEN_Y,0,this._offscreenFocusedItem)},_restoreFocusedItem:function _restoreFocusedItem(){if(!this._offscreenFocusedItem||0>this._focusedVirtualIndex){return}this._assignModels();var fpidx=this._focusedPhysicalIndex=this._getPhysicalIndex(this._focusedVirtualIndex),onScreenItem=this._physicalItems[fpidx];if(!onScreenItem){return}var onScreenInstance=this.modelForElement(onScreenItem),offScreenInstance=this.modelForElement(this._offscreenFocusedItem);if(onScreenInstance[this.as]===offScreenInstance[this.as]){this._focusBackfillItem=onScreenItem;onScreenInstance.tabIndex=-1;this._physicalItems[fpidx]=this._offscreenFocusedItem;this.translate3d(0,HIDDEN_Y,0,this._focusBackfillItem)}else{this._removeFocusedItem();this._focusBackfillItem=null}this._offscreenFocusedItem=null},_didFocus:function _didFocus(e){var targetModel=this.modelForElement(e.target),focusedModel=this.modelForElement(this._focusedItem),hasOffscreenFocusedItem=null!==this._offscreenFocusedItem,fidx=this._focusedVirtualIndex;if(!targetModel){return}if(focusedModel===targetModel){if(!this._isIndexVisible(fidx)){this.scrollToIndex(fidx)}}else{this._restoreFocusedItem();if(focusedModel){focusedModel.tabIndex=-1}targetModel.tabIndex=0;fidx=targetModel[this.indexAs];this._focusedVirtualIndex=fidx;this._focusedPhysicalIndex=this._getPhysicalIndex(fidx);this._focusedItem=this._physicalItems[this._focusedPhysicalIndex];if(hasOffscreenFocusedItem&&!this._offscreenFocusedItem){this._update()}}},_keydownHandler:function _keydownHandler(e){switch(e.keyCode){case 40:if(this._focusedVirtualIndex<this._virtualCount-1)e.preventDefault();this._focusPhysicalItem(this._focusedVirtualIndex+(this.grid?this._itemsPerRow:1));break;case 39:if(this.grid)this._focusPhysicalItem(this._focusedVirtualIndex+(this._isRTL?-1:1));break;case 38:if(0<this._focusedVirtualIndex)e.preventDefault();this._focusPhysicalItem(this._focusedVirtualIndex-(this.grid?this._itemsPerRow:1));break;case 37:if(this.grid)this._focusPhysicalItem(this._focusedVirtualIndex+(this._isRTL?1:-1));break;case 13:this._focusPhysicalItem(this._focusedVirtualIndex);if(this.selectionEnabled)this._selectionHandler(e);break;}},_clamp:function _clamp(v,min,max){return _Mathmin(max,_Mathmax(min,v))},_debounce:function _debounce(name,cb,asyncModule){if(IS_V2){this._debouncers=this._debouncers||{};this._debouncers[name]=debounce.a.debounce(this._debouncers[name],asyncModule,cb.bind(this));Object(flush.a)(this._debouncers[name])}else{Object(polymer_dom.a)(this.debounce(name,cb))}},_forwardProperty:function _forwardProperty(inst,name,value){if(IS_V2){inst._setPendingProperty(name,value)}else{inst[name]=value}},_forwardHostPropV2:function _forwardHostPropV2(prop,value){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach(function(item){if(item){this.modelForElement(item).forwardHostProp(prop,value)}},this)},_notifyInstancePropV2:function _notifyInstancePropV2(inst,prop,value){if(Object(path.e)(this.as,prop)){var idx=inst[this.indexAs];if(prop==this.as){this.items[idx]=value}this.notifyPath(Object(path.i)(this.as,"items."+idx,prop),value)}},_getStampedChildren:function _getStampedChildren(){return this._physicalItems},_forwardInstancePath:function _forwardInstancePath(inst,path,value){if(0===path.indexOf(this.as+".")){this.notifyPath("items."+inst.__key__+"."+path.slice(this.as.length+1),value)}},_forwardParentPath:function _forwardParentPath(path,value){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach(function(item){if(item){this.modelForElement(item).notifyPath(path,value,!0)}},this)},_forwardParentProp:function _forwardParentProp(prop,value){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach(function(item){if(item){this.modelForElement(item)[prop]=value}},this)},_getActiveElement:function _getActiveElement(){var itemsHost=this._itemsParent.node.domHost;return Object(polymer_dom.b)(itemsHost?itemsHost.root:document).activeElement}});function vaadin_combo_box_item_typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){vaadin_combo_box_item_typeof=function _typeof(obj){return typeof obj}}else{vaadin_combo_box_item_typeof=function _typeof(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return vaadin_combo_box_item_typeof(obj)}function vaadin_combo_box_item_templateObject(){var data=vaadin_combo_box_item_taggedTemplateLiteral(["\n    <style>\n      :host {\n        display: block;\n      }\n\n      :host([hidden]) {\n         display: none;\n      }\n    </style>\n    <div part=\"content\" id=\"content\"></div>\n"]);vaadin_combo_box_item_templateObject=function _templateObject(){return data};return data}function vaadin_combo_box_item_taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function vaadin_combo_box_item_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function vaadin_combo_box_item_defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function vaadin_combo_box_item_createClass(Constructor,protoProps,staticProps){if(protoProps)vaadin_combo_box_item_defineProperties(Constructor.prototype,protoProps);if(staticProps)vaadin_combo_box_item_defineProperties(Constructor,staticProps);return Constructor}function vaadin_combo_box_item_possibleConstructorReturn(self,call){if(call&&("object"===vaadin_combo_box_item_typeof(call)||"function"===typeof call)){return call}return vaadin_combo_box_item_assertThisInitialized(self)}function vaadin_combo_box_item_assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function vaadin_combo_box_item_get(target,property,receiver){if("undefined"!==typeof Reflect&&Reflect.get){vaadin_combo_box_item_get=Reflect.get}else{vaadin_combo_box_item_get=function _get(target,property,receiver){var base=vaadin_combo_box_item_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return vaadin_combo_box_item_get(target,property,receiver||target)}function vaadin_combo_box_item_superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=vaadin_combo_box_item_getPrototypeOf(object);if(null===object)break}return object}function vaadin_combo_box_item_getPrototypeOf(o){vaadin_combo_box_item_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return vaadin_combo_box_item_getPrototypeOf(o)}function vaadin_combo_box_item_inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)vaadin_combo_box_item_setPrototypeOf(subClass,superClass)}function vaadin_combo_box_item_setPrototypeOf(o,p){vaadin_combo_box_item_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return vaadin_combo_box_item_setPrototypeOf(o,p)}/**
@license
Copyright (c) 2017 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/var vaadin_combo_box_item_ComboBoxItemElement=function(_ThemableMixin){vaadin_combo_box_item_inherits(ComboBoxItemElement,_ThemableMixin);function ComboBoxItemElement(){vaadin_combo_box_item_classCallCheck(this,ComboBoxItemElement);return vaadin_combo_box_item_possibleConstructorReturn(this,vaadin_combo_box_item_getPrototypeOf(ComboBoxItemElement).apply(this,arguments))}vaadin_combo_box_item_createClass(ComboBoxItemElement,[{key:"connectedCallback",value:function connectedCallback(){vaadin_combo_box_item_get(vaadin_combo_box_item_getPrototypeOf(ComboBoxItemElement.prototype),"connectedCallback",this).call(this);if(!this._itemTemplateInstance){var overlay=this.getRootNode().host.getRootNode().host,dropdown=overlay.__dataHost,comboBoxOverlay=dropdown.getRootNode().host;this._comboBox=comboBoxOverlay.getRootNode().host;this._comboBox._ensureTemplatized();if(this._comboBox._TemplateClass){this._itemTemplateInstance=new this._comboBox._TemplateClass({});this.$.content.textContent="";this.$.content.appendChild(this._itemTemplateInstance.root)}}}},{key:"_render",value:function _render(){if(!this.renderer){return}var model={index:this.index,item:this.item};this.renderer(this.$.content,this._comboBox,model)}},{key:"_rendererOrItemChanged",value:function _rendererOrItemChanged(renderer,index,item){if(item===void 0||index===void 0){return}if(this._oldRenderer!==renderer){this.$.content.innerHTML=""}if(renderer){this._oldRenderer=renderer;this._render()}}},{key:"_updateLabel",value:function _updateLabel(label,_itemTemplateInstance){if(_itemTemplateInstance===void 0&&this.$.content&&!this.renderer){this.$.content.textContent=label}}},{key:"_updateTemplateInstanceVariable",value:function _updateTemplateInstanceVariable(variable,value,_itemTemplateInstance){if(variable===void 0||value===void 0||_itemTemplateInstance===void 0){return}_itemTemplateInstance[variable]=value}}],[{key:"template",get:function get(){return Object(html_tag.a)(vaadin_combo_box_item_templateObject())}},{key:"is",get:function get(){return"vaadin-combo-box-item"}},{key:"properties",get:function get(){return{index:Number,item:Object,label:String,selected:{type:Boolean,value:!1,reflectToAttribute:!0},focused:{type:Boolean,value:!1,reflectToAttribute:!0},_itemTemplateInstance:Object,renderer:Function,_oldRenderer:Function}}},{key:"observers",get:function get(){return["_rendererOrItemChanged(renderer, index, item.*)","_updateLabel(label, _itemTemplateInstance)","_updateTemplateInstanceVariable(\"index\", index, _itemTemplateInstance)","_updateTemplateInstanceVariable(\"item\", item, _itemTemplateInstance)","_updateTemplateInstanceVariable(\"selected\", selected, _itemTemplateInstance)","_updateTemplateInstanceVariable(\"focused\", focused, _itemTemplateInstance)"]}}]);return ComboBoxItemElement}(Object(vaadin_themable_mixin.a)(polymer_element.a));customElements.define(vaadin_combo_box_item_ComboBoxItemElement.is,vaadin_combo_box_item_ComboBoxItemElement);var legacy_class=__webpack_require__(64);function vaadin_combo_box_dropdown_templateObject(){var data=vaadin_combo_box_dropdown_taggedTemplateLiteral(["\n    <style>\n      :host {\n        display: block;\n      }\n\n      :host > #overlay {\n        display: none;\n      }\n    </style>\n    <vaadin-combo-box-overlay id=\"overlay\" hidden$=\"[[hidden]]\" opened=\"[[opened]]\" template=\"{{template}}\" style=\"align-items: stretch; margin: 0;\" theme$=\"[[theme]]\">\n      <slot></slot>\n    </vaadin-combo-box-overlay>\n"],["\n    <style>\n      :host {\n        display: block;\n      }\n\n      :host > #overlay {\n        display: none;\n      }\n    </style>\n    <vaadin-combo-box-overlay id=\"overlay\" hidden\\$=\"[[hidden]]\" opened=\"[[opened]]\" template=\"{{template}}\" style=\"align-items: stretch; margin: 0;\" theme\\$=\"[[theme]]\">\n      <slot></slot>\n    </vaadin-combo-box-overlay>\n"]);vaadin_combo_box_dropdown_templateObject=function _templateObject(){return data};return data}function vaadin_combo_box_dropdown_taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function vaadin_combo_box_dropdown_typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){vaadin_combo_box_dropdown_typeof=function _typeof(obj){return typeof obj}}else{vaadin_combo_box_dropdown_typeof=function _typeof(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return vaadin_combo_box_dropdown_typeof(obj)}function vaadin_combo_box_dropdown_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function vaadin_combo_box_dropdown_defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function vaadin_combo_box_dropdown_createClass(Constructor,protoProps,staticProps){if(protoProps)vaadin_combo_box_dropdown_defineProperties(Constructor.prototype,protoProps);if(staticProps)vaadin_combo_box_dropdown_defineProperties(Constructor,staticProps);return Constructor}function vaadin_combo_box_dropdown_possibleConstructorReturn(self,call){if(call&&("object"===vaadin_combo_box_dropdown_typeof(call)||"function"===typeof call)){return call}return vaadin_combo_box_dropdown_assertThisInitialized(self)}function vaadin_combo_box_dropdown_assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function vaadin_combo_box_dropdown_get(target,property,receiver){if("undefined"!==typeof Reflect&&Reflect.get){vaadin_combo_box_dropdown_get=Reflect.get}else{vaadin_combo_box_dropdown_get=function _get(target,property,receiver){var base=vaadin_combo_box_dropdown_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return vaadin_combo_box_dropdown_get(target,property,receiver||target)}function vaadin_combo_box_dropdown_superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=vaadin_combo_box_dropdown_getPrototypeOf(object);if(null===object)break}return object}function vaadin_combo_box_dropdown_getPrototypeOf(o){vaadin_combo_box_dropdown_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return vaadin_combo_box_dropdown_getPrototypeOf(o)}function vaadin_combo_box_dropdown_inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)vaadin_combo_box_dropdown_setPrototypeOf(subClass,superClass)}function vaadin_combo_box_dropdown_setPrototypeOf(o,p){vaadin_combo_box_dropdown_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return vaadin_combo_box_dropdown_setPrototypeOf(o,p)}/**
@license
Copyright (c) 2017 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/var ComboBoxOverlayElement=function(_OverlayElement){vaadin_combo_box_dropdown_inherits(ComboBoxOverlayElement,_OverlayElement);function ComboBoxOverlayElement(){vaadin_combo_box_dropdown_classCallCheck(this,ComboBoxOverlayElement);return vaadin_combo_box_dropdown_possibleConstructorReturn(this,vaadin_combo_box_dropdown_getPrototypeOf(ComboBoxOverlayElement).apply(this,arguments))}vaadin_combo_box_dropdown_createClass(ComboBoxOverlayElement,[{key:"ready",value:function ready(){vaadin_combo_box_dropdown_get(vaadin_combo_box_dropdown_getPrototypeOf(ComboBoxOverlayElement.prototype),"ready",this).call(this);var loader=document.createElement("div");loader.setAttribute("part","loader");var content=this.shadowRoot.querySelector(["[part~=\"content\"]"]);content.parentNode.insertBefore(loader,content)}}],[{key:"is",get:function get(){return"vaadin-combo-box-overlay"}}]);return ComboBoxOverlayElement}(vaadin_overlay.a);customElements.define(ComboBoxOverlayElement.is,ComboBoxOverlayElement);var vaadin_combo_box_dropdown_ComboBoxDropdownElement=function(_mixinBehaviors){vaadin_combo_box_dropdown_inherits(ComboBoxDropdownElement,_mixinBehaviors);vaadin_combo_box_dropdown_createClass(ComboBoxDropdownElement,null,[{key:"template",get:function get(){return Object(html_tag.a)(vaadin_combo_box_dropdown_templateObject())}},{key:"is",get:function get(){return"vaadin-combo-box-dropdown"}},{key:"properties",get:function get(){return{opened:Boolean,template:{type:Object,notify:!0},positionTarget:{type:Object},alignedAbove:{type:Boolean,value:!1},theme:String}}},{key:"observers",get:function get(){return["_openedChanged(opened)"]}}]);function ComboBoxDropdownElement(){var _this;vaadin_combo_box_dropdown_classCallCheck(this,ComboBoxDropdownElement);_this=vaadin_combo_box_dropdown_possibleConstructorReturn(this,vaadin_combo_box_dropdown_getPrototypeOf(ComboBoxDropdownElement).call(this));_this._boundSetPosition=_this._setPosition.bind(vaadin_combo_box_dropdown_assertThisInitialized(vaadin_combo_box_dropdown_assertThisInitialized(_this)));_this._boundOutsideClickListener=_this._outsideClickListener.bind(vaadin_combo_box_dropdown_assertThisInitialized(vaadin_combo_box_dropdown_assertThisInitialized(_this)));return _this}vaadin_combo_box_dropdown_createClass(ComboBoxDropdownElement,[{key:"connectedCallback",value:function connectedCallback(){vaadin_combo_box_dropdown_get(vaadin_combo_box_dropdown_getPrototypeOf(ComboBoxDropdownElement.prototype),"connectedCallback",this).call(this);this.addEventListener("iron-resize",this._boundSetPosition)}},{key:"ready",value:function ready(){vaadin_combo_box_dropdown_get(vaadin_combo_box_dropdown_getPrototypeOf(ComboBoxDropdownElement.prototype),"ready",this).call(this);this.$.overlay.addEventListener("vaadin-overlay-outside-click",function(e){e.preventDefault()})}},{key:"disconnectedCallback",value:function disconnectedCallback(){vaadin_combo_box_dropdown_get(vaadin_combo_box_dropdown_getPrototypeOf(ComboBoxDropdownElement.prototype),"disconnectedCallback",this).call(this);this.removeEventListener("iron-resize",this._boundSetPosition);this.opened=!1}},{key:"notifyResize",value:function notifyResize(){vaadin_combo_box_dropdown_get(vaadin_combo_box_dropdown_getPrototypeOf(ComboBoxDropdownElement.prototype),"notifyResize",this).call(this);if(this.positionTarget&&this.opened){this._setPosition();requestAnimationFrame(this._setPosition.bind(this))}}},{key:"_openedChanged",value:function _openedChanged(opened){if(opened){this.$.overlay.style.position=this._isPositionFixed(this.positionTarget)?"fixed":"absolute";this._setPosition();window.addEventListener("scroll",this._boundSetPosition,!0);document.addEventListener("click",this._boundOutsideClickListener,!0);this.dispatchEvent(new CustomEvent("vaadin-combo-box-dropdown-opened",{bubbles:!0,composed:!0}))}else{window.removeEventListener("scroll",this._boundSetPosition,!0);document.removeEventListener("click",this._boundOutsideClickListener,!0);this.dispatchEvent(new CustomEvent("vaadin-combo-box-dropdown-closed",{bubbles:!0,composed:!0}))}}},{key:"_outsideClickListener",value:function _outsideClickListener(event){var eventPath=event.composedPath();if(0>eventPath.indexOf(this.positionTarget)&&0>eventPath.indexOf(this.$.overlay)){this.opened=!1}}},{key:"_isPositionFixed",value:function _isPositionFixed(element){var offsetParent=this._getOffsetParent(element);return"fixed"===window.getComputedStyle(element).position||offsetParent&&this._isPositionFixed(offsetParent)}},{key:"_getOffsetParent",value:function _getOffsetParent(element){if(element.assignedSlot){return element.assignedSlot.parentElement}else if(element.parentElement){return element.offsetParent}var parent=element.parentNode;if(parent&&11===parent.nodeType&&parent.host){return parent.host}}},{key:"_verticalOffset",value:function _verticalOffset(overlayRect,targetRect){return this.alignedAbove?-overlayRect.height:targetRect.height}},{key:"_shouldAlignAbove",value:function _shouldAlignAbove(targetRect){var spaceBelow=(window.innerHeight-targetRect.bottom-_Mathmin(document.body.scrollTop,0))/window.innerHeight;return .3>spaceBelow}},{key:"_setPosition",value:function _setPosition(e){if(e&&e.target){var target=e.target===document?document.body:e.target,parent=this.$.overlay.parentElement;if(!(target.contains(this.$.overlay)||target.contains(this.positionTarget))||parent!==document.body){return}}var targetRect=this.positionTarget.getBoundingClientRect();this.alignedAbove=this._shouldAlignAbove(targetRect);var overlayRect=this.$.overlay.getBoundingClientRect();this._translateX=targetRect.left-overlayRect.left+(this._translateX||0);this._translateY=targetRect.top-overlayRect.top+(this._translateY||0)+this._verticalOffset(overlayRect,targetRect);var _devicePixelRatio=window.devicePixelRatio||1;this._translateX=_Mathround(this._translateX*_devicePixelRatio)/_devicePixelRatio;this._translateY=_Mathround(this._translateY*_devicePixelRatio)/_devicePixelRatio;this.$.overlay.style.transform="translate3d(".concat(this._translateX,"px, ").concat(this._translateY,"px, 0)");this.$.overlay.style.width=this.positionTarget.clientWidth+"px";this.$.overlay.style.justifyContent=this.alignedAbove?"flex-end":"flex-start";this.dispatchEvent(new CustomEvent("position-changed"))}}]);return ComboBoxDropdownElement}(Object(legacy_class.b)(iron_resizable_behavior.a,polymer_element.a));customElements.define(vaadin_combo_box_dropdown_ComboBoxDropdownElement.is,vaadin_combo_box_dropdown_ComboBoxDropdownElement);function vaadin_combo_box_dropdown_wrapper_typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){vaadin_combo_box_dropdown_wrapper_typeof=function _typeof(obj){return typeof obj}}else{vaadin_combo_box_dropdown_wrapper_typeof=function _typeof(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return vaadin_combo_box_dropdown_wrapper_typeof(obj)}function vaadin_combo_box_dropdown_wrapper_templateObject(){var data=vaadin_combo_box_dropdown_wrapper_taggedTemplateLiteral(["\n    <style>\n      #scroller {\n        overflow: auto;\n\n        /* Fixes item background from getting on top of scrollbars on Safari */\n        transform: translate3d(0, 0, 0);\n\n        /* Enable momentum scrolling on iOS (iron-list v1.2+ no longer does it for us) */\n        -webkit-overflow-scrolling: touch;\n\n        /* Fixes scrollbar disappearing when \"Show scroll bars: Always\" enabled in Safari */\n        box-shadow: 0 0 0 white;\n      }\n    </style>\n    <vaadin-combo-box-dropdown id=\"dropdown\" hidden=\"[[_hidden(_items.*, loading)]]\" position-target=\"[[positionTarget]]\" on-template-changed=\"_templateChanged\" on-position-changed=\"_setOverlayHeight\" theme=\"[[theme]]\">\n      <template>\n        <div id=\"scroller\" on-click=\"_stopPropagation\">\n          <iron-list id=\"selector\" role=\"listbox\" items=\"[[_getItems(opened, _items)]]\" scroll-target=\"[[_scroller]]\">\n            <template>\n              <vaadin-combo-box-item on-click=\"_onItemClick\" index=\"[[__requestItemByIndex(item, index)]]\" item=\"[[item]]\" label=\"[[getItemLabel(item)]]\" selected=\"[[_isItemSelected(item, _selectedItem, _itemIdPath)]]\" renderer=\"[[renderer]]\" role$=\"[[_getAriaRole(index)]]\" aria-selected$=\"[[_getAriaSelected(_focusedIndex,index)]]\" focused=\"[[_isItemFocused(_focusedIndex,index)]]\" tabindex=\"-1\" theme$=\"[[theme]]\">\n              </vaadin-combo-box-item>\n            </template>\n          </iron-list>\n        </div>\n      </template>\n    </vaadin-combo-box-dropdown>\n"],["\n    <style>\n      #scroller {\n        overflow: auto;\n\n        /* Fixes item background from getting on top of scrollbars on Safari */\n        transform: translate3d(0, 0, 0);\n\n        /* Enable momentum scrolling on iOS (iron-list v1.2+ no longer does it for us) */\n        -webkit-overflow-scrolling: touch;\n\n        /* Fixes scrollbar disappearing when \"Show scroll bars: Always\" enabled in Safari */\n        box-shadow: 0 0 0 white;\n      }\n    </style>\n    <vaadin-combo-box-dropdown id=\"dropdown\" hidden=\"[[_hidden(_items.*, loading)]]\" position-target=\"[[positionTarget]]\" on-template-changed=\"_templateChanged\" on-position-changed=\"_setOverlayHeight\" theme=\"[[theme]]\">\n      <template>\n        <div id=\"scroller\" on-click=\"_stopPropagation\">\n          <iron-list id=\"selector\" role=\"listbox\" items=\"[[_getItems(opened, _items)]]\" scroll-target=\"[[_scroller]]\">\n            <template>\n              <vaadin-combo-box-item on-click=\"_onItemClick\" index=\"[[__requestItemByIndex(item, index)]]\" item=\"[[item]]\" label=\"[[getItemLabel(item)]]\" selected=\"[[_isItemSelected(item, _selectedItem, _itemIdPath)]]\" renderer=\"[[renderer]]\" role\\$=\"[[_getAriaRole(index)]]\" aria-selected\\$=\"[[_getAriaSelected(_focusedIndex,index)]]\" focused=\"[[_isItemFocused(_focusedIndex,index)]]\" tabindex=\"-1\" theme\\$=\"[[theme]]\">\n              </vaadin-combo-box-item>\n            </template>\n          </iron-list>\n        </div>\n      </template>\n    </vaadin-combo-box-dropdown>\n"]);vaadin_combo_box_dropdown_wrapper_templateObject=function _templateObject(){return data};return data}function vaadin_combo_box_dropdown_wrapper_taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function vaadin_combo_box_dropdown_wrapper_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function vaadin_combo_box_dropdown_wrapper_defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function vaadin_combo_box_dropdown_wrapper_createClass(Constructor,protoProps,staticProps){if(protoProps)vaadin_combo_box_dropdown_wrapper_defineProperties(Constructor.prototype,protoProps);if(staticProps)vaadin_combo_box_dropdown_wrapper_defineProperties(Constructor,staticProps);return Constructor}function vaadin_combo_box_dropdown_wrapper_possibleConstructorReturn(self,call){if(call&&("object"===vaadin_combo_box_dropdown_wrapper_typeof(call)||"function"===typeof call)){return call}return vaadin_combo_box_dropdown_wrapper_assertThisInitialized(self)}function vaadin_combo_box_dropdown_wrapper_assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function vaadin_combo_box_dropdown_wrapper_get(target,property,receiver){if("undefined"!==typeof Reflect&&Reflect.get){vaadin_combo_box_dropdown_wrapper_get=Reflect.get}else{vaadin_combo_box_dropdown_wrapper_get=function _get(target,property,receiver){var base=vaadin_combo_box_dropdown_wrapper_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return vaadin_combo_box_dropdown_wrapper_get(target,property,receiver||target)}function vaadin_combo_box_dropdown_wrapper_superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=vaadin_combo_box_dropdown_wrapper_getPrototypeOf(object);if(null===object)break}return object}function vaadin_combo_box_dropdown_wrapper_getPrototypeOf(o){vaadin_combo_box_dropdown_wrapper_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return vaadin_combo_box_dropdown_wrapper_getPrototypeOf(o)}function vaadin_combo_box_dropdown_wrapper_inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)vaadin_combo_box_dropdown_wrapper_setPrototypeOf(subClass,superClass)}function vaadin_combo_box_dropdown_wrapper_setPrototypeOf(o,p){vaadin_combo_box_dropdown_wrapper_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return vaadin_combo_box_dropdown_wrapper_setPrototypeOf(o,p)}/**
@license
Copyright (c) 2017 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/var TOUCH_DEVICE=function(){try{document.createEvent("TouchEvent");return!0}catch(e){return!1}}(),vaadin_combo_box_dropdown_wrapper_ComboBoxDropdownWrapperElement=function(_ref){vaadin_combo_box_dropdown_wrapper_inherits(ComboBoxDropdownWrapperElement,_ref);function ComboBoxDropdownWrapperElement(){vaadin_combo_box_dropdown_wrapper_classCallCheck(this,ComboBoxDropdownWrapperElement);return vaadin_combo_box_dropdown_wrapper_possibleConstructorReturn(this,vaadin_combo_box_dropdown_wrapper_getPrototypeOf(ComboBoxDropdownWrapperElement).apply(this,arguments))}vaadin_combo_box_dropdown_wrapper_createClass(ComboBoxDropdownWrapperElement,[{key:"_fireTouchAction",value:function _fireTouchAction(sourceEvent){this.dispatchEvent(new CustomEvent("vaadin-overlay-touch-action",{detail:{sourceEvent:sourceEvent}}))}},{key:"_getItems",value:function _getItems(opened,items){return opened?items:[]}},{key:"_openedChanged",value:function _openedChanged(opened,items,loading){this.$.dropdown.opened=!!(opened&&(loading||this.$.dropdown.opened||items&&items.length))}},{key:"ready",value:function ready(){var _this=this;vaadin_combo_box_dropdown_wrapper_get(vaadin_combo_box_dropdown_wrapper_getPrototypeOf(ComboBoxDropdownWrapperElement.prototype),"ready",this).call(this);if(/Trident/.test(navigator.userAgent)){this._scroller.setAttribute("unselectable","on")}this.$.dropdown.$.overlay.addEventListener("touchend",function(e){return _this._fireTouchAction(e)});this.$.dropdown.$.overlay.addEventListener("touchmove",function(e){return _this._fireTouchAction(e)});this.$.dropdown.$.overlay.addEventListener("mousedown",function(e){return e.preventDefault()})}},{key:"_templateChanged",value:function _templateChanged(e){this._selector=this.$.dropdown.$.overlay.content.querySelector("#selector");this._scroller=this.$.dropdown.$.overlay.content.querySelector("#scroller")}},{key:"_loadingChanged",value:function _loadingChanged(loading){if(loading){this.$.dropdown.$.overlay.setAttribute("loading","")}else{this.$.dropdown.$.overlay.removeAttribute("loading")}}},{key:"_selectorChanged",value:function _selectorChanged(selector){this._patchWheelOverScrolling()}},{key:"_setOverlayHeight",value:function _setOverlayHeight(){if(!this.opened||!this.positionTarget||!this._selector){return}var targetRect=this.positionTarget.getBoundingClientRect();this._scroller.style.maxHeight=(window.ShadyCSS?window.ShadyCSS.getComputedStyleValue(this,"--vaadin-combo-box-overlay-max-height"):getComputedStyle(this).getPropertyValue("--vaadin-combo-box-overlay-max-height"))||"65vh";var maxHeight=this._maxOverlayHeight(targetRect);this.$.dropdown.$.overlay.style.maxHeight=maxHeight;this._selector.style.maxHeight=maxHeight;this.updateViewportBoundaries()}},{key:"_maxOverlayHeight",value:function _maxOverlayHeight(targetRect){var margin=8,minHeight=116,bottom=_Mathmin(window.innerHeight,document.body.scrollHeight-document.body.scrollTop);if(this.$.dropdown.alignedAbove){return _Mathmax(targetRect.top-margin+_Mathmin(document.body.scrollTop,0),minHeight)+"px"}else{return _Mathmax(bottom-targetRect.bottom-margin,minHeight)+"px"}}},{key:"_getFocusedItem",value:function _getFocusedItem(focusedIndex){if(0<=focusedIndex){return this._items[focusedIndex]}}},{key:"_isItemSelected",value:function _isItemSelected(item,selectedItem,itemIdPath){if(item instanceof ComboBoxPlaceholder){return!1}else if(itemIdPath&&item!==void 0&&selectedItem!==void 0){return this.get(itemIdPath,item)===this.get(itemIdPath,selectedItem)}else{return item===selectedItem}}},{key:"_onItemClick",value:function _onItemClick(e){if(e.detail&&e.detail.sourceEvent&&e.detail.sourceEvent.stopPropagation){this._stopPropagation(e.detail.sourceEvent)}this.dispatchEvent(new CustomEvent("selection-changed",{detail:{item:e.model.item}}))}},{key:"indexOfLabel",value:function indexOfLabel(label){if(this._items&&label){for(var i=0;i<this._items.length;i++){if(this.getItemLabel(this._items[i]).toString().toLowerCase()===label.toString().toLowerCase()){return i}}}return-1}},{key:"__requestItemByIndex",value:function __requestItemByIndex(item,index){if(item instanceof ComboBoxPlaceholder&&index!==void 0){this.dispatchEvent(new CustomEvent("index-requested",{detail:{index:index}}))}return index}},{key:"getItemLabel",value:function getItemLabel(item){var label=item?this.get(this._itemLabelPath,item):void 0;if(label===void 0||null===label){label=item?item.toString():""}return label}},{key:"_isItemFocused",value:function _isItemFocused(focusedIndex,itemIndex){return focusedIndex==itemIndex}},{key:"_getAriaSelected",value:function _getAriaSelected(focusedIndex,itemIndex){return this._isItemFocused(focusedIndex,itemIndex).toString()}},{key:"_getAriaRole",value:function _getAriaRole(itemIndex){return itemIndex!==void 0?"option":!1}},{key:"_focusedIndexChanged",value:function _focusedIndexChanged(index){if(0<=index){this._scrollIntoView(index)}}},{key:"_scrollIntoView",value:function _scrollIntoView(index){var visibleItemsCount=this._visibleItemsCount();if(visibleItemsCount===void 0){return}var targetIndex=index;if(index>this._selector.lastVisibleIndex-1){targetIndex=index-visibleItemsCount+1}else if(index>this._selector.firstVisibleIndex){targetIndex=this._selector.firstVisibleIndex}this._selector.scrollToIndex(_Mathmax(0,targetIndex));var pidx=this._selector._getPhysicalIndex(index),physicalItem=this._selector._physicalItems[pidx];if(!physicalItem){return}var physicalItemRect=physicalItem.getBoundingClientRect(),scrollerRect=this._scroller.getBoundingClientRect(),scrollTopAdjust=physicalItemRect.bottom-scrollerRect.bottom+this._viewportTotalPaddingBottom;if(0<scrollTopAdjust){this._scroller.scrollTop+=scrollTopAdjust}}},{key:"ensureItemsRendered",value:function ensureItemsRendered(){this._selector._render()}},{key:"adjustScrollPosition",value:function adjustScrollPosition(){if(this.opened&&this._items){this._scrollIntoView(this._focusedIndex)}}},{key:"_patchWheelOverScrolling",value:function _patchWheelOverScrolling(){var selector=this._selector;selector.addEventListener("wheel",function(e){var scroller=selector._scroller||selector.scrollTarget,scrolledToTop=0===scroller.scrollTop,scrolledToBottom=1>=scroller.scrollHeight-scroller.scrollTop-scroller.clientHeight;if(scrolledToTop&&0>e.deltaY){e.preventDefault()}else if(scrolledToBottom&&0<e.deltaY){e.preventDefault()}})}},{key:"updateViewportBoundaries",value:function updateViewportBoundaries(){this._cachedViewportTotalPaddingBottom=void 0;this._selector.updateViewportBoundaries()}},{key:"_visibleItemsCount",value:function _visibleItemsCount(){if(!this._selector){return}this._selector.flushDebouncer("_debounceTemplate");this._selector.scrollToIndex(this._selector.firstVisibleIndex);this.updateViewportBoundaries();return this._selector.lastVisibleIndex-this._selector.firstVisibleIndex+1}},{key:"_selectItem",value:function _selectItem(item){item="number"===typeof item?this._items[item]:item;if(this._selector.selectedItem!==item){this._selector.selectItem(item)}}},{key:"_preventDefault",value:function _preventDefault(e){if(e.cancelable){e.preventDefault()}}},{key:"_stopPropagation",value:function _stopPropagation(e){e.stopPropagation()}},{key:"_hidden",value:function _hidden(itemsChange){return!this.loading&&(!this._items||!this._items.length)}},{key:"_viewportTotalPaddingBottom",get:function get(){if(this._cachedViewportTotalPaddingBottom===void 0){var itemsStyle=window.getComputedStyle(this._selector.$.items);this._cachedViewportTotalPaddingBottom=[itemsStyle.paddingBottom,itemsStyle.borderBottomWidth].map(function(v){return parseInt(v,10)}).reduce(function(sum,v){return sum+v})}return this._cachedViewportTotalPaddingBottom}}],[{key:"template",get:function get(){return Object(html_tag.a)(vaadin_combo_box_dropdown_wrapper_templateObject())}},{key:"is",get:function get(){return"vaadin-combo-box-dropdown-wrapper"}},{key:"properties",get:function get(){return{touchDevice:{type:Boolean,value:TOUCH_DEVICE},opened:Boolean,positionTarget:{type:Object},renderer:Function,loading:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_setOverlayHeight"},theme:String,_selectedItem:{type:Object},_items:{type:Object},_focusedIndex:{type:Number,value:-1,observer:"_focusedIndexChanged"},_focusedItem:{type:String,computed:"_getFocusedItem(_focusedIndex)"},_itemLabelPath:{type:String,value:"label"},_itemValuePath:{type:String,value:"value"},_selector:Object,_itemIdPath:String}}},{key:"observers",get:function get(){return["_selectorChanged(_selector)","_loadingChanged(loading)","_openedChanged(opened, _items, loading)"]}}]);return ComboBoxDropdownWrapperElement}(function(_PolymerElement){vaadin_combo_box_dropdown_wrapper_inherits(_class,_PolymerElement);function _class(){vaadin_combo_box_dropdown_wrapper_classCallCheck(this,_class);return vaadin_combo_box_dropdown_wrapper_possibleConstructorReturn(this,vaadin_combo_box_dropdown_wrapper_getPrototypeOf(_class).apply(this,arguments))}return _class}(polymer_element.a));customElements.define(vaadin_combo_box_dropdown_wrapper_ComboBoxDropdownWrapperElement.is,vaadin_combo_box_dropdown_wrapper_ComboBoxDropdownWrapperElement);var case_map=__webpack_require__(21);function vaadin_combo_box_light_typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){vaadin_combo_box_light_typeof=function _typeof(obj){return typeof obj}}else{vaadin_combo_box_light_typeof=function _typeof(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return vaadin_combo_box_light_typeof(obj)}function vaadin_combo_box_light_templateObject(){var data=vaadin_combo_box_light_taggedTemplateLiteral(["\n    <slot></slot>\n\n    <vaadin-combo-box-dropdown-wrapper id=\"overlay\" opened=\"[[opened]]\" position-target=\"[[inputElement]]\" renderer=\"[[renderer]]\" _focused-index=\"[[_focusedIndex]]\" _item-id-path=\"[[itemIdPath]]\" _item-label-path=\"[[itemLabelPath]]\" loading=\"[[loading]]\" theme=\"[[theme]]\">\n    </vaadin-combo-box-dropdown-wrapper>\n"]);vaadin_combo_box_light_templateObject=function _templateObject(){return data};return data}function vaadin_combo_box_light_taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function vaadin_combo_box_light_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function vaadin_combo_box_light_possibleConstructorReturn(self,call){if(call&&("object"===vaadin_combo_box_light_typeof(call)||"function"===typeof call)){return call}return vaadin_combo_box_light_assertThisInitialized(self)}function vaadin_combo_box_light_get(target,property,receiver){if("undefined"!==typeof Reflect&&Reflect.get){vaadin_combo_box_light_get=Reflect.get}else{vaadin_combo_box_light_get=function _get(target,property,receiver){var base=vaadin_combo_box_light_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return vaadin_combo_box_light_get(target,property,receiver||target)}function vaadin_combo_box_light_superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=vaadin_combo_box_light_getPrototypeOf(object);if(null===object)break}return object}function vaadin_combo_box_light_getPrototypeOf(o){vaadin_combo_box_light_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return vaadin_combo_box_light_getPrototypeOf(o)}function vaadin_combo_box_light_defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function vaadin_combo_box_light_createClass(Constructor,protoProps,staticProps){if(protoProps)vaadin_combo_box_light_defineProperties(Constructor.prototype,protoProps);if(staticProps)vaadin_combo_box_light_defineProperties(Constructor,staticProps);return Constructor}function vaadin_combo_box_light_inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)vaadin_combo_box_light_setPrototypeOf(subClass,superClass)}function vaadin_combo_box_light_setPrototypeOf(o,p){vaadin_combo_box_light_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return vaadin_combo_box_light_setPrototypeOf(o,p)}function vaadin_combo_box_light_assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}/**
@license
Copyright (c) 2017 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/var vaadin_combo_box_light_ComboBoxLightElement=function(_ThemePropertyMixin){vaadin_combo_box_light_inherits(ComboBoxLightElement,_ThemePropertyMixin);vaadin_combo_box_light_createClass(ComboBoxLightElement,null,[{key:"template",get:function get(){return Object(html_tag.a)(vaadin_combo_box_light_templateObject())}},{key:"is",get:function get(){return"vaadin-combo-box-light"}},{key:"properties",get:function get(){return{attrForValue:{type:String,value:"value"},inputElement:{type:Element,readOnly:!0}}}}]);function ComboBoxLightElement(){var _this;vaadin_combo_box_light_classCallCheck(this,ComboBoxLightElement);_this=vaadin_combo_box_light_possibleConstructorReturn(this,vaadin_combo_box_light_getPrototypeOf(ComboBoxLightElement).call(this));_this._boundInputValueChanged=_this._inputValueChanged.bind(vaadin_combo_box_light_assertThisInitialized(vaadin_combo_box_light_assertThisInitialized(_this)));return _this}vaadin_combo_box_light_createClass(ComboBoxLightElement,[{key:"ready",value:function ready(){vaadin_combo_box_light_get(vaadin_combo_box_light_getPrototypeOf(ComboBoxLightElement.prototype),"ready",this).call(this);this._toggleElement=this.querySelector(".toggle-button");this._clearElement=this.querySelector(".clear-button")}},{key:"connectedCallback",value:function connectedCallback(){vaadin_combo_box_light_get(vaadin_combo_box_light_getPrototypeOf(ComboBoxLightElement.prototype),"connectedCallback",this).call(this);var cssSelector="vaadin-text-field,iron-input,paper-input,.paper-input-input,.input";this._setInputElement(this.querySelector(cssSelector));this._revertInputValue();this.inputElement.addEventListener("input",this._boundInputValueChanged);this._preventInputBlur()}},{key:"disconnectedCallback",value:function disconnectedCallback(){vaadin_combo_box_light_get(vaadin_combo_box_light_getPrototypeOf(ComboBoxLightElement.prototype),"disconnectedCallback",this).call(this);this.inputElement.removeEventListener("input",this._boundInputValueChanged);this._restoreInputBlur()}},{key:"focused",get:function get(){return this.getRootNode().activeElement===this.inputElement}},{key:"_propertyForValue",get:function get(){return Object(case_map.b)(this.attrForValue)}},{key:"_inputElementValue",get:function get(){return this.inputElement&&this.inputElement[this._propertyForValue]},set:function set(value){if(this.inputElement){this.inputElement[this._propertyForValue]=value}}}]);return ComboBoxLightElement}(Object(vaadin_theme_property_mixin.a)(Object(vaadin_themable_mixin.a)(vaadin_combo_box_data_provider_mixin_ComboBoxDataProviderMixin(vaadin_combo_box_mixin_ComboBoxMixin(polymer_element.a)))));customElements.define(vaadin_combo_box_light_ComboBoxLightElement.is,vaadin_combo_box_light_ComboBoxLightElement)}}]);
//# sourceMappingURL=1d33e1800595775082a5.chunk.js.map